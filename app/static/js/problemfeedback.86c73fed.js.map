{"version":3,"sources":["webpack:///./node_modules/vant/es/radio-group/style/less.js","webpack:///./node_modules/cos-js-sdk-v5/src/util.js","webpack:///./node_modules/cos-js-sdk-v5/src/event.js","webpack:///./node_modules/cos-js-sdk-v5/src/session.js","webpack:///./node_modules/cos-js-sdk-v5/lib/xml2json.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/cos-js-sdk-v5/src/cos.js","webpack:///./node_modules/cos-js-sdk-v5/src/advance.js","webpack:///./node_modules/xmldom/dom-parser.js","webpack:///./node_modules/cos-js-sdk-v5/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./src/views/ProblemFeedback.vue?e6c3","webpack:///./src/components/UploadImg.vue?743c","webpack:///./node_modules/vant/es/utils/dom/raf.js","webpack:///./node_modules/vant/es/utils/router.js","webpack:///./node_modules/vant/es/radio/style/less.js","webpack:///./node_modules/xmldom/dom.js","webpack:///./node_modules/cos-js-sdk-v5/lib/md5.js","webpack:///./node_modules/cos-js-sdk-v5/src/base.js","webpack:///./node_modules/cos-js-sdk-v5/lib/json2xml.js","webpack:///./node_modules/vant/es/cell/index.js","webpack:///./node_modules/vant/es/mixins/field.js","webpack:///./node_modules/cos-js-sdk-v5/src/async.js","webpack:///./node_modules/vant/es/utils/vnodes.js","webpack:///./node_modules/vant/es/mixins/relation.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/vant/es/mixins/checkbox.js","webpack:///./node_modules/vant/es/radio/index.js","webpack:///./node_modules/cos-js-sdk-v5/lib/request.js","webpack:///./node_modules/vant/es/utils/constant.js","webpack:///./node_modules/vant/es/button/index.js","webpack:///./node_modules/vant/es/button/style/less.js","webpack:///./src/views/ProblemFeedback.vue?8eb3","webpack:///./node_modules/vant/es/utils/validate/system.js","webpack:///./node_modules/vant/es/utils/dom/reset-scroll.js","webpack:///./node_modules/vant/es/utils/format/number.js","webpack:///./node_modules/vant/es/field/index.js","webpack:///./src/components/UploadImg.vue?075d","webpack:///./node_modules/vant/es/uploader/utils.js","webpack:///./node_modules/vant/es/image/index.js","webpack:///./node_modules/vant/es/image-preview/shared.js","webpack:///./node_modules/vant/es/utils/dom/style.js","webpack:///./node_modules/vant/es/swipe/index.js","webpack:///./node_modules/vant/es/swipe-item/index.js","webpack:///./node_modules/vant/es/image-preview/ImagePreviewItem.js","webpack:///./node_modules/vant/es/image-preview/index.js","webpack:///./node_modules/vant/es/image-preview/ImagePreview.js","webpack:///./node_modules/vant/es/uploader/index.js","webpack:///./src/utils/cos.js","webpack:///src/components/UploadImg.vue","webpack:///./src/components/UploadImg.vue?3aa1","webpack:///./src/components/UploadImg.vue","webpack:///src/views/ProblemFeedback.vue","webpack:///./src/views/ProblemFeedback.vue?3b1b","webpack:///./src/views/ProblemFeedback.vue","webpack:///./node_modules/xmldom/sax.js","webpack:///./node_modules/cos-js-sdk-v5/lib/crypto.js","webpack:///./node_modules/vant/es/cell/shared.js","webpack:///./node_modules/cos-js-sdk-v5/src/task.js","webpack:///./node_modules/vant/es/radio-group/index.js"],"names":["md5","CryptoJS","xml2json","json2xml","camSafeUrlEncode","str","encodeURIComponent","replace","getAuth","opt","pathname","SecretId","SecretKey","KeyTime","method","Method","toLowerCase","queryParams","clone","Query","params","headers","Headers","Key","UseRawKey","Pathname","indexOf","console","error","getObjectKeys","obj","forKey","list","key","hasOwnProperty","push","sort","a","b","obj2str","i","val","keyList","length","undefined","join","now","Math","round","getSkewTime","SystemClockOffset","exp","Expires","expires","qSignAlgorithm","qAk","qSignTime","qKeyTime","qHeaderList","qUrlParamList","signKey","HmacSHA1","toString","formatString","stringToSign","SHA1","qSignature","authorization","noop","clearKey","retObj","readAsBinaryString","blob","callback","readFun","fr","FileReader","prototype","onload","this","result","readAsArrayBuffer","fileData","binary","reader","e","bytes","Uint8Array","byteLength","String","fromCharCode","call","fileSliceNeedCopy","compareVersion","split","parseInt","check","ua","ChromeVersion","match","QBCoreVersion","QQBrowserVersion","need","navigator","userAgent","fileSlice","file","start","end","isUseToUpload","slice","mozSlice","webkitSlice","Blob","getBodyMd5","UploadCheckContentMd5","Body","onProgress","util","getFileMd5","err","md5ChunkSize","size","loaded","md5ctx","getCtx","next","hash","digest","min","chunk","content","update","total","percent","map","v","attr","name","defaultValue","extend","target","source","each","isArray","arr","Array","isInArray","item","flag","makeArray","fn","o","filter","iaArr","binaryBase64","len","char","res","btoa","uuid","S4","random","substring","hasMissingParams","apiName","Bucket","Region","formatParams","headerMap","paramKey","headerKey","apiWrapper","apiFn","self","formatResult","VersionId","DeleteMarker","_callback","data","checkParams","missingResult","test","options","CompatibilityMode","warn","AppId","substr","errMsg","isSync","Promise","global","resolve","reject","throttleOnProgress","time1","timer","size0","size1","time0","Date","speed","max","floor","info","immediately","clearTimeout","setTimeout","ProgressInterval","getFileSize","api","type","ArrayBuffer","ContentLength","offset","isBrowser","module","exports","initEvent","cos","listeners","getList","action","on","off","splice","emit","cb","EventProxy","init","cache","cacheKey","getCache","JSON","parse","localStorage","getItem","setCache","setItem","stringify","changed","mtime","save","mod","using","setUsing","removeUsing","getFileId","ChunkSize","lastModifiedDate","getUploadIdList","saveUploadId","UploadId","limit","unshift","removeUploadId","DOMParser","xmlToJSON","version","mergeCDATA","normalize","stripElemPrefix","prefixMatch","RegExp","grokType","sValue","isFinite","parseFloat","parseString","xmlString","xml","stringToXML","getElementsByTagName","parseXML","oXMLParent","vResult","nLength","sCollectedTxt","childNum","childNodes","oNode","sProp","vContent","nItem","nodeType","nodeValue","nodeName","constructor","Object","keys","xmlToString","xmlDoc","XMLSerializer","serializeToString","window","parser","parseFromString","ActiveXObject","async","loadXML","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","requireObjectCoercible","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","arrayPush","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","maybeCallNative","internalSplit","separator","string","lim","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","index","apply","O","splitter","regexp","done","value","rx","S","C","unicodeMatching","p","q","A","z","event","task","base","advance","defaultOptions","XCosSecurityToken","ChunkRetryTimes","FileParallelLimit","ChunkParallelLimit","SliceSize","CopyChunkParallelLimit","CopyChunkSize","CopySliceSize","MaxPartNumber","UploadQueueSize","Domain","ServiceDomain","Protocol","ForcePathStyle","Timeout","CorrectClockSkew","UploadAddMetaMd5","UploadIdCacheLimit","COS","getAuthorization","session","Async","sliceUploadFile","FileSize","ep","TaskId","AsyncLimit","StorageClass","ServerSideEncryption","onHashProgress","_isRunningTask","UploadCompleteData","UploadData","uploadSliceComplete","SliceList","uploadSliceList","_params","getUploadIdAndPartList","PartList","SIZE","AutoChunkSize","SkipTask","putObject","ETagMap","SliceCount","ceil","FinishSize","getChunkETag","PartNumber","ETag","Size","chunkItem","isAvailableUploadList","PartCount","PartSliceSize","Part","errData","Uploaded","multipartInit","Message","UploadIdList","reverse","eachLimit","asyncCallback","wholeMultipartListPart","PartListData","forEach","isAvailable","AvailableUploadData","RemoteUploadIdList","LocalUploadIdList","wholeMultipartList","UploadList","toUpperCase","UploadID","sendParams","Prefix","multipartList","Upload","IsTruncated","KeyMarker","NextKeyMarker","UploadIdMarker","NextUploadIdMarker","multipartListPart","PartNumberMarker","NextPartNumberMarker","ChunkParallel","needUploadSlices","SliceItem","currentSize","preAddSize","uploadSliceItem","FileBody","PartItem","retry","tryCallback","multipartUpload","Parts","multipartComplete","abortUploadTask","Level","AbortArray","abortUploadTaskArray","resultList","AbortItem","eachIndex","KeyNotMatch","multipartAbort","successList","errorList","uploadFiles","TotalSize","TotalFinish","onTotalProgress","unFinishCount","files","_onTotalFileFinish","onFileFinish","onTotalFileFinish","Index","taskList","fileParams","fileInfo","k","_onTaskReady","onTaskReady","tid","PreAddSize","_onProgress","_onFileFinish","_addTasks","sliceCopyFile","CopySource","m","SourceBucket","SourceRegion","SourceKey","decodeURIComponent","CopySourceRange","copySliceItem","SourceHeaders","TargetHeader","ChunkCount","partNumber","restoreHeader","headObject","statusCode","ErrorStatus","putObjectCopy","resHeaders","metaPrefix","uploadPartCopy","API_MAP","transferToTaskMethod","locator","buildErrorHandler","errorImpl","domBuilder","DOMHandler","errorHandler","isCallback","Function","build","msg","_locator","cdata","position","node","lineNumber","columnNumber","l","systemId","_toString","chars","java","lang","appendElement","hander","currentElement","appendChild","doc","mimeType","sax","XMLReader","defaultNSMap","xmlns","entityMap","setDocumentLocator","nbsp","copy","startDocument","DOMImplementation","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","el","createElementNS","getURI","getValue","getQName","createAttributeNS","getLocator","setAttributeNode","endElement","current","tagName","parentNode","startPrefixMapping","prefix","uri","endPrefixMapping","processingInstruction","ins","createProcessingInstruction","ignorableWhitespace","ch","characters","arguments","charNode","createCDATASection","createTextNode","skippedEntity","endDocument","comment","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","dt","warning","fatalError","__webpack_amd_options__","prev","fallback","curr","ms","id","root","iRaf","requestAnimationFrame","cancelAnimationFrame","raf","doubleRaf","isRedundantNavigation","message","route","router","config","to","url","promise","catch","location","href","functionalRoute","context","parent","$router","props","routeProps","Boolean","src","dest","_extends","Class","Super","pt","create","ppt","__proto__","t","htmlns","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","code","Error","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","inc","_inc","ownerDocument","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_onAddAttribute","_removeNamedNode","features","_features","feature","Node","_xmlEncoder","c","charCodeAt","_visitNode","firstChild","nextSibling","Document","ns","_nsMap","remove","_onUpdateChild","newChild","cs","child","_removeChild","previous","previousSibling","lastChild","_insertBefore","nextChild","cp","removeChild","newFirst","newLast","pre","_appendSingleChild","Element","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","lookupPrefix","visibleNamespaces","namespace","needNamespaceDefine","isHTML","attributes","pubid","sysid","sub","internalSubset","importNode","deep","node2","cloneNode","n","attrs2","_ownerElement","object","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","versions","qualifiedName","doctype","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importedNode","getElementById","rtv","getAttribute","createElement","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagNameNS","substringData","count","text","insertData","replaceData","deleteData","splitText","newText","newNode","defineProperty","getTextContent","get","$$length","set","ERROR","WINDOW","JS_MD5_NO_WINDOW","WEB_WORKER","NODE_JS","JS_MD5_NO_NODE_JS","process","COMMON_JS","JS_MD5_NO_COMMON_JS","AMD","ARRAY_BUFFER","JS_MD5_NO_ARRAY_BUFFER","HEX_CHARS","EXTRA","SHIFT","OUTPUT_TYPES","BASE64_ENCODE_CHAR","blocks","buffer8","buffer","Uint32Array","JS_MD5_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","outputType","isBinStr","Md5","createMethod","nodeWrap","crypto","eval","Buffer","nodeMethod","createHash","sharedMemory","h0","h1","h2","h3","hBytes","finalized","hashed","first","escape","notString","lastByteIndex","finalize","d","bc","da","hex","format","array","arrayBuffer","base64","v1","v2","v3","base64Str","REQUEST","getService","protocol","domain","appId","region","submitRequest","Action","buckets","ListAllMyBucketsResult","Buckets","owner","Owner","putBucket","CreateBucketConfiguration","BucketAZConfig","body","getUrl","bucket","isLocation","Location","headBucket","getBucket","reqParams","ResourceKey","qs","ListBucketResult","Contents","CommonPrefixes","deleteBucket","putBucketAcl","AccessControlPolicy","Grants","Grant","AccessControlList","uniqGrant","getBucketAcl","decodeAcl","ACL","putBucketCors","CORSConfiguration","CORSRules","rule","sKey","CORSRule","getBucketCors","Code","deleteBucketCors","getBucketLocation","putBucketPolicy","PolicyStr","getBucketPolicy","rawBody","Policy","deleteBucketPolicy","putBucketTagging","Tagging","Tags","TagSet","Tag","getBucketTagging","deleteBucketTagging","putBucketLifecycle","LifecycleConfiguration","Rules","Rule","getBucketLifecycle","deleteBucketLifecycle","putBucketVersioning","VersioningConfiguration","getBucketVersioning","putBucketReplication","ReplicationConfiguration","getBucketReplication","deleteBucketReplication","putBucketWebsite","WebsiteConfiguration","RoutingRules","RoutingRule","getBucketWebsite","deleteBucketWebsite","putBucketReferer","RefererConfiguration","DomainList","Domains","getBucketReferer","putBucketDomain","DomainConfiguration","DomainRule","getBucketDomain","deleteBucketDomain","putBucketOrigin","OriginConfiguration","OriginRule","getBucketOrigin","deleteBucketOrigin","putBucketLogging","BucketLoggingStatus","getBucketLogging","putBucketInventory","InventoryConfiguration","OptionalFields","Field","Destination","COSBucketDestination","Encryption","getBucketInventory","listBucketInventory","ListInventoryConfigurationResult","InventoryConfigurations","deleteBucketInventory","putBucketAccelerate","configuration","AccelerateConfiguration","getBucketAccelerate","NotModified","listObjectVersions","ListVersionsResult","DeleteMarkers","Versions","Version","getObject","DataType","needCalcMd5","deleteObject","BucketNotFound","getObjectAcl","putObjectAcl","optionsObject","OptionsForbidden","AccessControlAllowOrigin","AccessControlAllowMethods","AccessControlAllowHeaders","AccessControlExposeHeaders","AccessControlMaxAge","Interface","Scope","CopyObjectResult","uploadId","CopyPartResult","deleteMultipleObject","Objects","Quiet","Delete","DeleteResult","Deleted","Errors","restoreObject","RestoreRequest","putObjectTagging","getObjectTagging","deleteObjectTagging","selectObjectContent","SelectType","SelectRequest","InitiateMultipartUploadResult","CompleteMultipartUpload","CompleteMultipartUploadResult","ListMultipartUploadsResult","ListPartsResult","getObjectUrl","Sign","Url","AuthData","getAuthorizationAsync","signUrl","Authorization","ClientIP","ClientUA","Token","GrantFullControl","GrantWrite","GrantRead","GrantReadAcp","GrantWriteAcp","GrantMap","PublicAcl","READ","WRITE","FULL_CONTROL","Grantee","ID","URI","Permission","exist","trim","longBucket","shortBucket","lastIndexOf","formatAllow","auth","atob","KeyName","StsData","ScopeKey","_StsCache","compareTime","StartTime","ExpiredTime","ScopeLimit","calcAuthByTmpKey","TmpSecretId","TmpSecretKey","getSTS","allowRetry","isTimeError","serverDate","date","ServerTime","errorCode","errorMessage","serverTime","abs","versionId","tryTimes","oldClockOffset","_submitRequest","contentLength","dataType","timeout","cosInterface","pathStyle","sender","Request","r","hasReturned","response","statusMessage","killTask","jsonRes","statusSuccess","abort","warnOldApi","proto","suffix","oldName","warned","element_start_char","element_non_start_char","element_replace","not_safe_in_xml","objKeys","process_to_xml","node_data","makeNode","level","hasSubNodes","indent_value","indent","prettyPrint","removeIllegalNameCharacters","node_descriptor","ret","toJSON","nodes","j","esc","xml_header","standalone","xmlHeader","xmlheader","docType","_createNamespace","createComponent","bem","Cell","h","slots","ctx","icon","title","label","isLink","showTitle","Label","showLabel","labelClass","Title","titleClass","titleStyle","Value","showValue","default","alone","valueClass","LeftIcon","iconPrefix","RightIcon","rightIconSlot","arrowDirection","onClick","clickable","classes","center","required","borderless","border","extra","FieldMixin","inject","vanField","watch","field","resetValidation","validateWithTrigger","created","children","iterator","completed","started","running","replenish","times","flattenVNodes","vnodes","traverse","vnode","componentInstance","$children","$vnode","sortChildren","componentOptions","ChildrenMixin","_parent","_inject","_computed","indexKey","computed","disableBindRelation","bindRelation","mounted","beforeDestroy","_this","methods","concat","ParentMixin","provide","_ref","$","isObject","toObject","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","forced","arg","E","TypeError","role","mixins","disabled","iconSize","Number","checkedColor","labelPosition","labelDisabled","shape","bindGroup","isDisabled","direction","iconStyle","checked","borderColor","backgroundColor","tabindex","$refs","iconClicked","contains","$emit","toggle","genIcon","$createElement","fontSize","genLabel","slot","render","Children","currentValue","stringifyPrimitive","queryStringify","sep","eq","ks","xhrRes","xhr","getAllResponseHeaders","status","statusText","xhrBody","responseText","request","qsStr","XMLHttpRequest","open","responseType","setRequestHeader","upload","onprogress","onerror","send","WHITE","BORDER","BORDER_SURROUND","BORDER_TOP_BOTTOM","Button","tag","color","plain","loading","hairline","loadingText","iconPosition","style","onTouchstart","background","block","square","renderIcon","loadingSize","loadingType","renderContent","nativeType","_vm","_h","_c","_self","staticClass","model","subData","$$v","$set","expression","_l","_v","_s","getImgList","subDatas","staticRenderFns","isIOS","resetScroll","range","num","trimExtraChar","_char","regExp","formatNumber","allowDot","allowMinus","inheritAttrs","vanForm","rules","readonly","autosize","leftIcon","rightIcon","clearable","formatter","maxlength","labelWidth","labelAlign","inputAlign","placeholder","errorMessageAlign","showWordLimit","colon","clearTrigger","formatTrigger","focused","validateFailed","validateMessage","updateValue","$nextTick","adjustSize","addField","removeField","showClear","hasValue","trigger","showError","$listeners","blur","onBlur","focus","onFocus","input","onInput","click","onClickInput","keypress","onKeypress","labelStyle","getProp","width","formValue","$scopedSlots","$slots","runValidator","returnVal","validator","then","isEmptyValue","runSyncRule","pattern","getRuleMessage","runRules","reduce","validate","_this2","defaultTrigger","validateTrigger","isNumber","composing","onClickLeftIcon","onClickRightIcon","onClear","ENTER_CODE","keyCode","submitOnEnter","height","scrollHeight","_this$autosize","maxHeight","minHeight","genInput","inputSlot","inputProps","ref","class","domProps","$attrs","directives","inputMode","inputType","genLeftIcon","showLeftIcon","genRightIcon","showRightIcon","genWordLimit","genMessage","showErrorMessage","_bem","scopedSlots","beforeRead","afterRead","onOversize","deleteImg","fileList","toArray","resultType","readAsDataURL","readAsText","isOversize","maxSize","some","IMAGE_REGEXP","isImageUrl","isImageFile","isImage","fit","alt","radius","lazyLoad","showLoading","errorIcon","loadingIcon","overflow","borderRadius","$Lazyload","$on","onLazyLoaded","onLazyLoadError","$off","onLoad","image","_ref2","onError","genPlaceholder","genImage","imgData","objectFit","isHidden","getComputedStyle","hidden","display","parentHidden","offsetParent","bind","isBind","resize","onVisibilityChange","initialize","clear","autoplay","vertical","lazyRender","indicatorColor","loop","duration","touchable","initialSwipe","showIndicators","stopPropagation","rect","active","deltaX","deltaY","swiping","computedWidth","computedHeight","_autoplay","autoPlay","maxCount","minOffset","delta","trackSize","activeIndicator","isCorrectDirection","expect","trackStyle","mainAxis","crossAxis","transitionDuration","transform","indicatorStyle","bindTouchEvent","track","$el","getBoundingClientRect","getTargetOffset","swipe","document","onTouchStart","touchStartTime","touchStart","correctPosition","onTouchMove","touchMove","move","onTouchEnd","shouldSwipe","offsetY","offsetX","pace","emitChange","getTargetActive","targetActive","currentPosition","targetOffset","_ref2$pace","_ref2$offset","outRightBound","outLeftBound","resetTouchStatus","swipeTo","_this3","targetIndex","immediate","_this4","genIndicator","_this5","empty","inited","_this$parent","shouldRender","maxActive","prevActive","nextActive","getDistance","touches","sqrt","pow","clientX","clientY","instance","show","minZoom","maxZoom","rootWidth","rootHeight","scale","moveX","moveY","moving","zooming","imageRatio","displayWidth","displayHeight","rootRatio","imageStyle","maxMoveX","maxMoveY","resetScale","setScale","toggleScale","_this$offsetX","startMoveX","startMoveY","startScale","startDistance","distance","checkTap","_this$offsetX2","_this$offsetY","deltaTime","TAP_TIME","TAP_OFFSET","doubleTapTimer","_event$target","naturalWidth","naturalHeight","imageSlots","skipToggleEvent","className","closeable","asyncClose","images","overlay","showIndex","swipeDuration","startPosition","overlayClass","closeIcon","closeOnPopstate","closeIconPosition","doubleClickTimer","setActive","emitClose","emitScale","args","genIndex","genCover","cover","genImages","ImagePreviewItem","genClose","onClosed","defaultConfig","onClose","onChange","getContainer","onScale","$once","Component","install","use","prop","uploadText","beforeDelete","previewSize","previewOptions","accept","MAX_VALUE","deletable","showUpload","previewImage","previewFullImage","imageFit","uploadIcon","previewSizeWithUnit","getDetail","resetInput","readFile","oversize","all","contents","onAfterRead","validFiles","oversizeFiles","isValidFiles","onDelete","deleteFile","onPreviewImage","imageFiles","imageContents","imagePreview","closeImagePreview","close","chooseFile","genPreviewMask","MaskIcon","showMessage","genPreviewItem","_this6","showDelete","DeleteIcon","PreviewCoverContent","PreviewCover","Preview","genPreviewList","genUpload","Input","callbackfun","getCosData","access_info","credentials","tmp_secret_id","tmp_secret_key","session_token","start_time","expired_time","axios","components","log","checkImgType","typeArr","imgType","dealImgStatus","progressData","component","UploadImg","problem","describe","phone","pics","imgList","checkListData","$nativeBridge","$axios","post","nameStartChar","nameChar","tagNamePattern","S_TAG","S_ATTR","S_ATTR_SPACE","S_EQ","S_ATTR_NOQUOT_VALUE","S_ATTR_END","S_TAG_SPACE","S_TAG_CLOSE","defaultNSMapCopy","fixedFromCharCode","surrogate1","surrogate2","entityReplacer","charAt","appendText","xt","lineEnd","linePattern","exec","lineStart","parseStack","currentNSMap","closeMap","tagStart","pop","localNSMap","endMatch","endIgnoreCaseMach","parseInstruction","parseDCC","ElementAttributes","parseElementStartPart","closed","fixSelfClosed","locator2","copyLocator","parseHtmlSpecialContent","f","attrName","s","add","setTagName","nsp","nsPrefix","_copy","elStartEnd","elEndStart","pos","matchs","lastMatch","endDTD","_set_proto_","thiz","reg","getLocalName","g","lib","Base","mixIn","$super","WordArray","words","sigBytes","clamp","enc","Hex","Latin1","Utf8","unescape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","blockSize","_minBufferSize","_doProcessBlock","Hasher","cfg","_doReset","_doFinalize","_createHelper","_createHmacHelper","HMAC","algo","_hash","_hasher","_oKey","_iKey","C_lib","C_enc","Base64","wordArray","_map","base64Chars","byte1","byte2","byte3","triplet","paddingChar","base64StrLength","paddingIndex","nBytes","bits1","bits2","cellProps","originApiMap","apiMap","_addTask","initTask","queue","tasks","uploadingFileCount","nextUploadIndex","formatTask","FilePath","state","hashPercent","_custom","emitListUpdate","clearQueue","isActive","startNextTask","onTaskStart","apiParams","switchToState","waiting","pipe","toState","isTaskReadyWarning","ignoreAddEvent","TaskReady","getTaskList","cancelTask","pauseTask","restartTask","isUploadRunning","_value"],"mappings":"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","file":"js/problemfeedback.86c73fed.js","sourcesContent":["import '../../style/base.less';\nimport '../index.less';","'use strict';\r\n\r\nvar md5 = require('../lib/md5');\r\nvar CryptoJS = require('../lib/crypto');\r\nvar xml2json = require('../lib/xml2json');\r\nvar json2xml = require('../lib/json2xml');\r\n\r\nfunction camSafeUrlEncode(str) {\r\n    return encodeURIComponent(str)\r\n        .replace(/!/g, '%21')\r\n        .replace(/'/g, '%27')\r\n        .replace(/\\(/g, '%28')\r\n        .replace(/\\)/g, '%29')\r\n        .replace(/\\*/g, '%2A');\r\n}\r\n\r\n//key\r\nvar getAuth = function (opt) {\r\n    opt = opt || {};\r\n\r\n    var SecretId = opt.SecretId;\r\n    var SecretKey = opt.SecretKey;\r\n    var KeyTime = opt.KeyTime;\r\n    var method = (opt.method || opt.Method || 'get').toLowerCase();\r\n    var queryParams = clone(opt.Query || opt.params || {});\r\n    var headers = clone(opt.Headers || opt.headers || {});\r\n\r\n    var Key = opt.Key || '';\r\n    var pathname;\r\n    if (opt.UseRawKey) {\r\n        pathname = opt.Pathname || opt.pathname || '/' + Key;\r\n    } else {\r\n        pathname = opt.Pathname || opt.pathname || Key;\r\n        pathname.indexOf('/') !== 0 && (pathname = '/' + pathname);\r\n    }\r\n\r\n    if (!SecretId) return console.error('missing param SecretId');\r\n    if (!SecretKey) return console.error('missing param SecretKey');\r\n\r\n    var getObjectKeys = function (obj, forKey) {\r\n        var list = [];\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                list.push(forKey ? camSafeUrlEncode(key).toLowerCase() : key);\r\n            }\r\n        }\r\n        return list.sort(function (a, b) {\r\n            a = a.toLowerCase();\r\n            b = b.toLowerCase();\r\n            return a === b ? 0 : (a > b ? 1 : -1);\r\n        });\r\n    };\r\n\r\n    var obj2str = function (obj) {\r\n        var i, key, val;\r\n        var list = [];\r\n        var keyList = getObjectKeys(obj);\r\n        for (i = 0; i < keyList.length; i++) {\r\n            key = keyList[i];\r\n            val = (obj[key] === undefined || obj[key] === null) ? '' : ('' + obj[key]);\r\n            key = camSafeUrlEncode(key).toLowerCase();\r\n            val = camSafeUrlEncode(val) || '';\r\n            list.push(key + '=' + val)\r\n        }\r\n        return list.join('&');\r\n    };\r\n\r\n    // \r\n    var now = Math.round(getSkewTime(opt.SystemClockOffset) / 1000) - 1;\r\n    var exp = now;\r\n\r\n    var Expires = opt.Expires || opt.expires;\r\n    if (Expires === undefined) {\r\n        exp += 900; //  + 900s\r\n    } else {\r\n        exp += (Expires * 1) || 0;\r\n    }\r\n\r\n    //  Authorization \r\n    var qSignAlgorithm = 'sha1';\r\n    var qAk = SecretId;\r\n    var qSignTime = KeyTime || now + ';' + exp;\r\n    var qKeyTime = KeyTime || now + ';' + exp;\r\n    var qHeaderList = getObjectKeys(headers).join(';').toLowerCase();\r\n    var qUrlParamList = getObjectKeys(queryParams).join(';').toLowerCase();\r\n\r\n    // https://www.qcloud.com/document/product/436/7778\r\n    //  SignKey\r\n    var signKey = CryptoJS.HmacSHA1(qKeyTime, SecretKey).toString();\r\n\r\n    //  FormatString\r\n    var formatString = [method, pathname, obj2str(queryParams), obj2str(headers), ''].join('\\n');\r\n\r\n    //  StringToSign\r\n    var stringToSign = ['sha1', qSignTime, CryptoJS.SHA1(formatString).toString(), ''].join('\\n');\r\n\r\n    //  Signature\r\n    var qSignature = CryptoJS.HmacSHA1(stringToSign, signKey).toString();\r\n\r\n    //  Authorization\r\n    var authorization = [\r\n        'q-sign-algorithm=' + qSignAlgorithm,\r\n        'q-ak=' + qAk,\r\n        'q-sign-time=' + qSignTime,\r\n        'q-key-time=' + qKeyTime,\r\n        'q-header-list=' + qHeaderList,\r\n        'q-url-param-list=' + qUrlParamList,\r\n        'q-signature=' + qSignature\r\n    ].join('&');\r\n\r\n    return authorization;\r\n\r\n};\r\n\r\nvar noop = function () {\r\n\r\n};\r\n\r\n//  undefined  null \r\nvar clearKey = function (obj) {\r\n    var retObj = {};\r\n    for (var key in obj) {\r\n        if (obj.hasOwnProperty(key) && obj[key] !== undefined && obj[key] !== null) {\r\n            retObj[key] = obj[key];\r\n        }\r\n    }\r\n    return retObj;\r\n};\r\n\r\nvar readAsBinaryString = function (blob, callback) {\r\n    var readFun;\r\n    var fr = new FileReader();\r\n    if (FileReader.prototype.readAsBinaryString) {\r\n        readFun = FileReader.prototype.readAsBinaryString;\r\n        fr.onload = function () {\r\n            callback(this.result);\r\n        };\r\n    } else if (FileReader.prototype.readAsArrayBuffer) { //  ie11  readAsBinaryString \r\n        readFun = function (fileData) {\r\n            var binary = \"\";\r\n            var pt = this;\r\n            var reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                var bytes = new Uint8Array(reader.result);\r\n                var length = bytes.byteLength;\r\n                for (var i = 0; i < length; i++) {\r\n                    binary += String.fromCharCode(bytes[i]);\r\n                }\r\n                callback(binary);\r\n            };\r\n            reader.readAsArrayBuffer(fileData);\r\n        };\r\n    } else {\r\n        console.error('FileReader not support readAsBinaryString');\r\n    }\r\n    readFun.call(fr, blob);\r\n};\r\n\r\nvar fileSliceNeedCopy = (function () {\r\n    var compareVersion = function(a, b) {\r\n        a = a.split('.');\r\n        b = b.split('.');\r\n        for (var i = 0; i < b.length; i++) {\r\n            if (a[i] !== b[i]) {\r\n                return parseInt(a[i]) > parseInt(b[i]) ? 1 : -1;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    var check = function (ua) {\r\n        var ChromeVersion = (ua.match(/Chrome\\/([.\\d]+)/) || [])[1];\r\n        var QBCoreVersion = (ua.match(/QBCore\\/([.\\d]+)/) || [])[1];\r\n        var QQBrowserVersion = (ua.match(/QQBrowser\\/([.\\d]+)/) || [])[1];\r\n        var need = ChromeVersion && compareVersion(ChromeVersion, '53.0.2785.116') < 0\r\n            && QBCoreVersion && compareVersion(QBCoreVersion, '3.53.991.400') < 0\r\n            && QQBrowserVersion && compareVersion(QQBrowserVersion, '9.0.2524.400') <= 0 || false;\r\n        return need;\r\n    };\r\n    return check(navigator && navigator.userAgent);\r\n})();\r\n\r\n// \r\nvar fileSlice = function (file, start, end, isUseToUpload, callback) {\r\n    var blob;\r\n    if (file.slice) {\r\n        blob = file.slice(start, end);\r\n    } else if (file.mozSlice) {\r\n        blob = file.mozSlice(start, end);\r\n    } else if (file.webkitSlice) {\r\n        blob = file.webkitSlice(start, end);\r\n    }\r\n    if (isUseToUpload && fileSliceNeedCopy) {\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            blob = null;\r\n            callback(new Blob([reader.result]));\r\n        };\r\n        reader.readAsArrayBuffer(blob);\r\n    } else {\r\n        callback(blob);\r\n    }\r\n};\r\n\r\n//  MD5\r\nvar getBodyMd5 = function (UploadCheckContentMd5, Body, callback, onProgress) {\r\n    callback = callback || noop;\r\n    if (UploadCheckContentMd5) {\r\n        if (typeof Body === 'string') {\r\n            callback(util.md5(Body, true));\r\n        } else if (Blob && Body instanceof Blob) {\r\n            util.getFileMd5(Body, function (err, md5) {\r\n                callback(md5);\r\n            }, onProgress);\r\n        } else {\r\n            callback();\r\n        }\r\n    } else {\r\n        callback();\r\n    }\r\n};\r\n\r\n//  md5 \r\nvar md5ChunkSize = 1024 * 1024;\r\nvar getFileMd5 = function (blob, callback, onProgress) {\r\n    var size = blob.size;\r\n    var loaded = 0;\r\n    var md5ctx = md5.getCtx();\r\n    var next = function (start) {\r\n        if (start >= size) {\r\n            var hash = md5ctx.digest('hex');\r\n            callback(null, hash);\r\n            return;\r\n        }\r\n        var end = Math.min(size, start + md5ChunkSize);\r\n        util.fileSlice(blob, start, end, false, function (chunk) {\r\n            readAsBinaryString(chunk, function (content) {\r\n                chunk = null;\r\n                md5ctx = md5ctx.update(content, true);\r\n                loaded += content.length;\r\n                content = null;\r\n                if (onProgress) onProgress({loaded: loaded, total: size, percent: Math.round(loaded / size * 10000) / 10000});\r\n                next(start + md5ChunkSize);\r\n            });\r\n        });\r\n    };\r\n    next(0);\r\n};\r\n\r\nfunction clone(obj) {\r\n    return map(obj, function (v) {\r\n        return typeof v === 'object' && v !== null ? clone(v) : v;\r\n    });\r\n}\r\n\r\nfunction attr(obj, name, defaultValue) {\r\n    return obj && name in obj ? obj[name] : defaultValue;\r\n}\r\n\r\nfunction extend(target, source) {\r\n    each(source, function (val, key) {\r\n        target[key] = source[key];\r\n    });\r\n    return target;\r\n}\r\n\r\nfunction isArray(arr) {\r\n    return arr instanceof Array;\r\n}\r\n\r\nfunction isInArray(arr, item) {\r\n    var flag = false;\r\n    for (var i = 0; i < arr.length; i++) {\r\n        if (item === arr[i]) {\r\n            flag = true;\r\n            break;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\n\r\nfunction makeArray(arr) {\r\n    return isArray(arr) ? arr : [arr];\r\n}\r\n\r\nfunction each(obj, fn) {\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            fn(obj[i], i);\r\n        }\r\n    }\r\n}\r\n\r\nfunction map(obj, fn) {\r\n    var o = isArray(obj) ? [] : {};\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            o[i] = fn(obj[i], i);\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nfunction filter(obj, fn) {\r\n    var iaArr = isArray(obj);\r\n    var o = iaArr ? [] : {};\r\n    for (var i in obj) {\r\n        if (obj.hasOwnProperty(i)) {\r\n            if (fn(obj[i], i)) {\r\n                if (iaArr) {\r\n                    o.push(obj[i]);\r\n                } else {\r\n                    o[i] = obj[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return o;\r\n}\r\n\r\nvar binaryBase64 = function (str) {\r\n    var i, len, char, res = '';\r\n    for (i = 0, len = str.length / 2; i < len; i++) {\r\n        char = parseInt(str[i * 2] + str[i * 2 + 1], 16);\r\n        res += String.fromCharCode(char);\r\n    }\r\n    return btoa(res);\r\n};\r\nvar uuid = function () {\r\n    var S4 = function () {\r\n        return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    };\r\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\r\n};\r\n\r\nvar hasMissingParams = function (apiName, params) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    if (apiName.indexOf('Bucket') > -1 || apiName === 'deleteMultipleObject' || apiName === 'multipartList' || apiName === 'listObjectVersions') {\r\n        if (!Bucket) return 'Bucket';\r\n        if (!Region) return 'Region';\r\n    } else if (apiName.indexOf('Object') > -1 || apiName.indexOf('multipart') > -1 || apiName === 'sliceUploadFile' || apiName === 'abortUploadTask') {\r\n        if (!Bucket) return 'Bucket';\r\n        if (!Region) return 'Region';\r\n        if (!Key) return 'Key';\r\n    }\r\n    return false;\r\n};\r\n\r\nvar formatParams = function (apiName, params) {\r\n\r\n    // \r\n    params = extend({}, params);\r\n\r\n    //  Headers\r\n    if (apiName !== 'getAuth' && apiName !== 'getV4Auth' && apiName !== 'getObjectUrl') {\r\n        var Headers = params.Headers || {};\r\n        if (params && typeof params === 'object') {\r\n            (function () {\r\n                for (var key in params) {\r\n                    if (params.hasOwnProperty(key) && key.indexOf('x-cos-') > -1) {\r\n                        Headers[key] = params[key];\r\n                    }\r\n                }\r\n            })();\r\n\r\n            var headerMap = {\r\n                // params headers\r\n                'x-cos-mfa': 'MFA',\r\n                'Content-MD5': 'ContentMD5',\r\n                'Content-Length': 'ContentLength',\r\n                'Content-Type': 'ContentType',\r\n                'Expect': 'Expect',\r\n                'Expires': 'Expires',\r\n                'Cache-Control': 'CacheControl',\r\n                'Content-Disposition': 'ContentDisposition',\r\n                'Content-Encoding': 'ContentEncoding',\r\n                'Range': 'Range',\r\n                'If-Modified-Since': 'IfModifiedSince',\r\n                'If-Unmodified-Since': 'IfUnmodifiedSince',\r\n                'If-Match': 'IfMatch',\r\n                'If-None-Match': 'IfNoneMatch',\r\n                'x-cos-copy-source': 'CopySource',\r\n                'x-cos-copy-source-Range': 'CopySourceRange',\r\n                'x-cos-metadata-directive': 'MetadataDirective',\r\n                'x-cos-copy-source-If-Modified-Since': 'CopySourceIfModifiedSince',\r\n                'x-cos-copy-source-If-Unmodified-Since': 'CopySourceIfUnmodifiedSince',\r\n                'x-cos-copy-source-If-Match': 'CopySourceIfMatch',\r\n                'x-cos-copy-source-If-None-Match': 'CopySourceIfNoneMatch',\r\n                'x-cos-acl': 'ACL',\r\n                'x-cos-grant-read': 'GrantRead',\r\n                'x-cos-grant-write': 'GrantWrite',\r\n                'x-cos-grant-full-control': 'GrantFullControl',\r\n                'x-cos-grant-read-acp': 'GrantReadAcp',\r\n                'x-cos-grant-write-acp': 'GrantWriteAcp',\r\n                'x-cos-storage-class': 'StorageClass',\r\n                // SSE-C\r\n                'x-cos-server-side-encryption-customer-algorithm': 'SSECustomerAlgorithm',\r\n                'x-cos-server-side-encryption-customer-key': 'SSECustomerKey',\r\n                'x-cos-server-side-encryption-customer-key-MD5': 'SSECustomerKeyMD5',\r\n                // SSE-COSSSE-KMS\r\n                'x-cos-server-side-encryption': 'ServerSideEncryption',\r\n                'x-cos-server-side-encryption-cos-kms-key-id': 'SSEKMSKeyId',\r\n                'x-cos-server-side-encryption-context': 'SSEContext',\r\n            };\r\n            util.each(headerMap, function (paramKey, headerKey) {\r\n                if (params[paramKey] !== undefined) {\r\n                    Headers[headerKey] = params[paramKey];\r\n                }\r\n            });\r\n\r\n            params.Headers = clearKey(Headers);\r\n        }\r\n    }\r\n\r\n    return params;\r\n};\r\n\r\nvar apiWrapper = function (apiName, apiFn) {\r\n    return function (params, callback) {\r\n\r\n        var self = this;\r\n\r\n        // \r\n        if (typeof params === 'function') {\r\n            callback = params;\r\n            params = {};\r\n        }\r\n\r\n        // \r\n        params = formatParams(apiName, params);\r\n\r\n        // \r\n        var formatResult = function (result) {\r\n            if (result && result.headers) {\r\n                result.headers['x-cos-version-id'] && (result.VersionId = result.headers['x-cos-version-id']);\r\n                result.headers['x-cos-delete-marker'] && (result.DeleteMarker = result.headers['x-cos-delete-marker']);\r\n            }\r\n            return result;\r\n        };\r\n        var _callback = function (err, data) {\r\n            callback && callback(formatResult(err), formatResult(data));\r\n        };\r\n\r\n        var checkParams = function () {\r\n            if (apiName !== 'getService' && apiName !== 'abortUploadTask') {\r\n                // \r\n                var missingResult = hasMissingParams(apiName, params)\r\n                if (missingResult) {\r\n                    return 'missing param ' + missingResult;\r\n                }\r\n                //  region \r\n                if (params.Region) {\r\n                    if (params.Region.indexOf('cos.') > -1) {\r\n                        return 'param Region should not be start with \"cos.\"';\r\n                    } else if (!/^([a-z\\d-]+)$/.test(params.Region)) {\r\n                        return 'Region format error.';\r\n                    }\r\n                    //  region \r\n                    if (!self.options.CompatibilityMode && params.Region.indexOf('-') === -1 && params.Region !== 'yfb' && params.Region !== 'default') {\r\n                        console.warn('warning: param Region format error, find help here: https://cloud.tencent.com/document/product/436/6224');\r\n                    }\r\n                }\r\n                //  AppId  Bucket\r\n                if (params.Bucket) {\r\n                    if (!/^([a-z\\d-]+)-(\\d+)$/.test(params.Bucket)) {\r\n                        if (params.AppId) {\r\n                            params.Bucket = params.Bucket + '-' + params.AppId;\r\n                        } else if (self.options.AppId) {\r\n                            params.Bucket = params.Bucket + '-' + self.options.AppId;\r\n                        } else {\r\n                            return 'Bucket should format as \"test-1250000000\".';\r\n                        }\r\n                    }\r\n                    if (params.AppId) {\r\n                        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g Bucket:\"test-1250000000\" ).');\r\n                        delete params.AppId;\r\n                    }\r\n                }\r\n                //  Key  /  /\r\n                if (!self.options.UseRawKey && params.Key && params.Key.substr(0, 1) === '/') {\r\n                    params.Key = params.Key.substr(1);\r\n                }\r\n            }\r\n        };\r\n\r\n        var errMsg = checkParams();\r\n        var isSync = apiName === 'getAuth' || apiName === 'getObjectUrl';\r\n        var Promise = global.Promise;\r\n        if (!isSync && Promise && !callback) {\r\n            return new Promise(function (resolve, reject) {\r\n                callback = function (err, data) {\r\n                    err ? reject(err) : resolve(data);\r\n                };\r\n                if (errMsg) return _callback({error: errMsg});\r\n                apiFn.call(self, params, _callback);\r\n            });\r\n        } else {\r\n            if (errMsg) return _callback({error: errMsg});\r\n            var res = apiFn.call(self, params, _callback);\r\n            if (isSync) return res;\r\n        }\r\n    }\r\n};\r\n\r\nvar throttleOnProgress = function (total, onProgress) {\r\n    var self = this;\r\n    var size0 = 0;\r\n    var size1 = 0;\r\n    var time0 = Date.now();\r\n    var time1;\r\n    var timer;\r\n\r\n    function update() {\r\n        timer = 0;\r\n        if (onProgress && (typeof onProgress === 'function')) {\r\n            time1 = Date.now();\r\n            var speed = Math.max(0, Math.round((size1 - size0) / ((time1 - time0) / 1000) * 100) / 100) || 0;\r\n            var percent;\r\n            if (size1 === 0 && total === 0) {\r\n                percent = 1;\r\n            } else {\r\n                percent = Math.floor(size1 / total * 100) / 100 || 0;\r\n            }\r\n            time0 = time1;\r\n            size0 = size1;\r\n            try {\r\n                onProgress({loaded: size1, total: total, speed: speed, percent: percent});\r\n            } catch (e) {\r\n            }\r\n        }\r\n    }\r\n\r\n    return function (info, immediately) {\r\n        if (info) {\r\n            size1 = info.loaded;\r\n            total = info.total;\r\n        }\r\n        if (immediately) {\r\n            clearTimeout(timer);\r\n            update();\r\n        } else {\r\n            if (timer) return;\r\n            timer = setTimeout(update, self.options.ProgressInterval);\r\n        }\r\n    };\r\n};\r\n\r\nvar getFileSize = function (api, params, callback) {\r\n    var size;\r\n    if (typeof params.Body === 'string') {\r\n        params.Body = new Blob([params.Body], {type: 'text/plain'});\r\n    } else if (params.Body instanceof ArrayBuffer) {\r\n        params.Body = new Blob([params.Body]);\r\n    }\r\n    if ((params.Body && (params.Body instanceof Blob || params.Body.toString() === '[object File]' || params.Body.toString() === '[object Blob]'))) {\r\n        size = params.Body.size;\r\n    } else {\r\n        callback({error: 'params body format error, Only allow File|Blob|String.'});\r\n        return;\r\n    }\r\n    params.ContentLength = size;\r\n    callback(null, size);\r\n};\r\n\r\n// \r\nvar getSkewTime = function (offset) {\r\n    return Date.now() + (offset || 0);\r\n};\r\n\r\nvar util = {\r\n    noop: noop,\r\n    formatParams: formatParams,\r\n    apiWrapper: apiWrapper,\r\n    xml2json: xml2json,\r\n    json2xml: json2xml,\r\n    md5: md5,\r\n    clearKey: clearKey,\r\n    fileSlice: fileSlice,\r\n    getBodyMd5: getBodyMd5,\r\n    getFileMd5: getFileMd5,\r\n    binaryBase64: binaryBase64,\r\n    extend: extend,\r\n    isArray: isArray,\r\n    isInArray: isInArray,\r\n    makeArray: makeArray,\r\n    each: each,\r\n    map: map,\r\n    filter: filter,\r\n    clone: clone,\r\n    attr: attr,\r\n    uuid: uuid,\r\n    camSafeUrlEncode: camSafeUrlEncode,\r\n    throttleOnProgress: throttleOnProgress,\r\n    getFileSize: getFileSize,\r\n    getSkewTime: getSkewTime,\r\n    getAuth: getAuth,\r\n    isBrowser: true,\r\n};\r\n\r\nmodule.exports = util;\r\n","var initEvent = function (cos) {\r\n    var listeners = {};\r\n    var getList = function (action) {\r\n        !listeners[action] && (listeners[action] = []);\r\n        return listeners[action];\r\n    };\r\n    cos.on = function (action, callback) {\r\n        if (action === 'task-list-update') {\r\n            console.warn('warning: Event \"' + action + '\" has been deprecated. Please use \"list-update\" instead.');\r\n        }\r\n        getList(action).push(callback);\r\n    };\r\n    cos.off = function (action, callback) {\r\n        var list = getList(action);\r\n        for (var i = list.length - 1; i >= 0; i--) {\r\n            callback === list[i] && list.splice(i, 1);\r\n        }\r\n    };\r\n    cos.emit = function (action, data) {\r\n        var list = getList(action).map(function (cb) {\r\n            return cb;\r\n        });\r\n        for (var i = 0; i < list.length; i++) {\r\n            list[i](data);\r\n        }\r\n    };\r\n};\r\n\r\nvar EventProxy = function () {\r\n    initEvent(this);\r\n};\r\n\r\nmodule.exports.init = initEvent;\r\nmodule.exports.EventProxy = EventProxy;","var util = require('./util');\r\n\r\n//  UploadId\r\nvar cacheKey = 'cos_sdk_upload_cache';\r\nvar expires = 30 * 24 * 3600;\r\nvar cache;\r\nvar timer;\r\n\r\nvar getCache = function () {\r\n    try {\r\n        var val = JSON.parse(localStorage.getItem(cacheKey));\r\n    } catch (e) {\r\n    }\r\n    if (!val) val = [];\r\n    return val;\r\n};\r\nvar setCache = function () {\r\n    try {\r\n        localStorage.setItem(cacheKey, JSON.stringify(cache))\r\n    } catch (e) {\r\n    }\r\n};\r\n\r\nvar init = function () {\r\n    if (cache) return;\r\n    cache = getCache();\r\n    // \r\n    var changed = false;\r\n    var now = Math.round(Date.now() / 1000);\r\n    for (var i = cache.length - 1; i >= 0; i--) {\r\n        var mtime = cache[i][2];\r\n        if (!mtime || mtime + expires < now) {\r\n            cache.splice(i, 1);\r\n            changed = true;\r\n        }\r\n    }\r\n    changed && setCache();\r\n};\r\n\r\n// \r\nvar save = function () {\r\n    if (timer) return;\r\n    timer = setTimeout(function () {\r\n        setCache();\r\n        timer = null;\r\n    }, 400);\r\n};\r\n\r\nvar mod = {\r\n    using: {},\r\n    //  UploadId \r\n    setUsing: function (uuid) {\r\n        mod.using[uuid] = true;\r\n    },\r\n    //  UploadId \r\n    removeUsing: function (uuid) {\r\n        delete mod.using[uuid];\r\n    },\r\n    // \r\n    getFileId: function (file, ChunkSize, Bucket, Key) {\r\n        if (file.name && file.size && file.lastModifiedDate && ChunkSize) {\r\n            return util.md5([file.name, file.size, file.lastModifiedDate, ChunkSize, Bucket, Key].join('::'));\r\n        } else {\r\n            return null;\r\n        }\r\n    },\r\n    //  UploadId \r\n    getUploadIdList: function (uuid) {\r\n        if (!uuid) return null;\r\n        init();\r\n        var list = [];\r\n        for (var i = 0; i < cache.length; i++) {\r\n            if (cache[i][0] === uuid)\r\n                list.push(cache[i][1]);\r\n        }\r\n        return list.length ? list : null;\r\n    },\r\n    //  UploadId\r\n    saveUploadId: function (uuid, UploadId, limit) {\r\n        init();\r\n        if (!uuid) return;\r\n        //  UploadIdjs  FilePath \r\n        for (var i = cache.length - 1; i >= 0; i--) {\r\n            var item = cache[i];\r\n            if (item[0] === uuid && item[1] === UploadId) {\r\n                cache.splice(i, 1);\r\n            }\r\n        }\r\n        cache.unshift([uuid, UploadId, Math.round(Date.now() / 1000)]);\r\n        if (cache.length > limit) cache.splice(limit);\r\n        save();\r\n    },\r\n    // UploadId \r\n    removeUploadId: function (UploadId) {\r\n        init();\r\n        delete mod.using[UploadId];\r\n        for (var i = cache.length - 1; i >= 0; i--) {\r\n            if (cache[i][1] === UploadId) cache.splice(i, 1)\r\n        }\r\n        save();\r\n    },\r\n};\r\n\r\nmodule.exports = mod;\r\n","/* Copyright 2015 William Summers, MetaTribal LLC\r\n * adapted from https://developer.mozilla.org/en-US/docs/JXON\r\n *\r\n * Licensed under the MIT License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *     https://opensource.org/licenses/MIT\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/**\r\n * @author William Summers\r\n * https://github.com/metatribal/xmlToJSON\r\n */\r\nvar DOMParser = require('xmldom').DOMParser;\r\n\r\nvar xmlToJSON = (function () {\r\n\r\n    this.version = \"1.3.5\";\r\n\r\n    var options = { // set up the default options\r\n        mergeCDATA: true, // extract cdata and merge with text\r\n        normalize: true, // collapse multiple spaces to single space\r\n        stripElemPrefix: true, // for elements of same name in diff namespaces, you can enable namespaces and access the nskey property\r\n    };\r\n\r\n    var prefixMatch = new RegExp(/(?!xmlns)^.*:/);\r\n    var trimMatch = new RegExp(/^\\s+|\\s+$/g);\r\n\r\n    this.grokType = function (sValue) {\r\n        if (/^\\s*$/.test(sValue)) {\r\n            return null;\r\n        }\r\n        if (/^(?:true|false)$/i.test(sValue)) {\r\n            return sValue.toLowerCase() === \"true\";\r\n        }\r\n        if (isFinite(sValue)) {\r\n            return parseFloat(sValue);\r\n        }\r\n        return sValue;\r\n    };\r\n\r\n    this.parseString = function (xmlString, opt) {\r\n        if (xmlString) {\r\n            var xml = this.stringToXML(xmlString);\r\n            if (xml.getElementsByTagName('parsererror').length) {\r\n                return null;\r\n            } else {\r\n                return this.parseXML(xml, opt);\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    this.parseXML = function (oXMLParent, opt) {\r\n\r\n        // initialize options\r\n        for (var key in opt) {\r\n            options[key] = opt[key];\r\n        }\r\n\r\n        var vResult = {},\r\n            nLength = 0,\r\n            sCollectedTxt = \"\";\r\n\r\n        // iterate over the children\r\n        var childNum = oXMLParent.childNodes.length;\r\n        if (childNum) {\r\n            for (var oNode, sProp, vContent, nItem = 0; nItem < oXMLParent.childNodes.length; nItem++) {\r\n                oNode = oXMLParent.childNodes.item(nItem);\r\n\r\n                if (oNode.nodeType === 4) {\r\n                    if (options.mergeCDATA) {\r\n                        sCollectedTxt += oNode.nodeValue;\r\n                    }\r\n                } /* nodeType is \"CDATASection\" (4) */\r\n                else if (oNode.nodeType === 3) {\r\n                    sCollectedTxt += oNode.nodeValue;\r\n                } /* nodeType is \"Text\" (3) */\r\n                else if (oNode.nodeType === 1) { /* nodeType is \"Element\" (1) */\r\n\r\n                    if (nLength === 0) {\r\n                        vResult = {};\r\n                    }\r\n\r\n                    // using nodeName to support browser (IE) implementation with no 'localName' property\r\n                    if (options.stripElemPrefix) {\r\n                        sProp = oNode.nodeName.replace(prefixMatch, '');\r\n                    } else {\r\n                        sProp = oNode.nodeName;\r\n                    }\r\n\r\n                    vContent = xmlToJSON.parseXML(oNode);\r\n\r\n                    if (vResult.hasOwnProperty(sProp)) {\r\n                        if (vResult[sProp].constructor !== Array) {\r\n                            vResult[sProp] = [vResult[sProp]];\r\n                        }\r\n                        vResult[sProp].push(vContent);\r\n\r\n                    } else {\r\n                        vResult[sProp] = vContent;\r\n                        nLength++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!Object.keys(vResult).length) {\r\n            // vResult = sCollectedTxt.replace(trimMatch, '') || ''; // by carsonxu  getBucket Key  \" /\" \r\n            vResult = sCollectedTxt || '';\r\n        }\r\n\r\n        return vResult;\r\n    };\r\n\r\n    // Convert xmlDocument to a string\r\n    // Returns null on failure\r\n    this.xmlToString = function (xmlDoc) {\r\n        try {\r\n            var xmlString = xmlDoc.xml ? xmlDoc.xml : (new XMLSerializer()).serializeToString(xmlDoc);\r\n            return xmlString;\r\n        } catch (err) {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    // Convert a string to XML Node Structure\r\n    // Returns null on failure\r\n    this.stringToXML = function (xmlString) {\r\n        try {\r\n            var xmlDoc = null;\r\n\r\n            if (window.DOMParser) {\r\n\r\n                var parser = new DOMParser();\r\n                xmlDoc = parser.parseFromString(xmlString, \"text/xml\");\r\n\r\n                return xmlDoc;\r\n            } else {\r\n                xmlDoc = new ActiveXObject(\"Microsoft.XMLDOM\");\r\n                xmlDoc.async = false;\r\n                xmlDoc.loadXML(xmlString);\r\n\r\n                return xmlDoc;\r\n            }\r\n        } catch (e) {\r\n            return null;\r\n        }\r\n    };\r\n\r\n    return this;\r\n\r\n}).call({});\r\n\r\nvar xml2json = function (xmlString) {\r\n    return xmlToJSON.parseString(xmlString);\r\n};\r\n\r\nmodule.exports = xml2json;\r\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\r\n\r\nvar util = require('./util');\r\nvar event = require('./event');\r\nvar task = require('./task');\r\nvar base = require('./base');\r\nvar advance = require('./advance');\r\n\r\nvar defaultOptions = {\r\n    AppId: '', // AppId  Bucket test-1250000000\r\n    SecretId: '',\r\n    SecretKey: '',\r\n    XCosSecurityToken: '', //  Token\r\n    ChunkRetryTimes: 2,\r\n    FileParallelLimit: 3,\r\n    ChunkParallelLimit: 3,\r\n    ChunkSize: 1024 * 1024,\r\n    SliceSize: 1024 * 1024,\r\n    CopyChunkParallelLimit: 20,\r\n    CopyChunkSize: 1024 * 1024 * 10,\r\n    CopySliceSize: 1024 * 1024 * 10,\r\n    MaxPartNumber: 10000,\r\n    ProgressInterval: 1000,\r\n    UploadQueueSize: 10000,\r\n    Domain: '',\r\n    ServiceDomain: '',\r\n    Protocol: '',\r\n    CompatibilityMode: false,\r\n    ForcePathStyle: false,\r\n    UseRawKey: false,\r\n    Timeout: 0, // 0 \r\n    CorrectClockSkew: true,\r\n    SystemClockOffset: 0, // ms\r\n    UploadCheckContentMd5: false,\r\n    UploadAddMetaMd5: false,\r\n    UploadIdCacheLimit: 50,\r\n};\r\n\r\n// \r\nvar COS = function (options) {\r\n    this.options = util.extend(util.clone(defaultOptions), options || {});\r\n    this.options.FileParallelLimit = Math.max(1, this.options.FileParallelLimit);\r\n    this.options.ChunkParallelLimit = Math.max(1, this.options.ChunkParallelLimit);\r\n    this.options.ChunkRetryTimes = Math.max(0, this.options.ChunkRetryTimes);\r\n    this.options.ChunkSize = Math.max(1024 * 1024, this.options.ChunkSize);\r\n    this.options.CopyChunkParallelLimit = Math.max(1, this.options.CopyChunkParallelLimit);\r\n    this.options.CopyChunkSize = Math.max(1024 * 1024, this.options.CopyChunkSize);\r\n    this.options.CopySliceSize = Math.max(0, this.options.CopySliceSize);\r\n    this.options.MaxPartNumber = Math.max(1024, Math.min(10000, this.options.MaxPartNumber));\r\n    this.options.Timeout = Math.max(0, this.options.Timeout);\r\n    if (this.options.AppId) {\r\n        console.warn('warning: AppId has been deprecated, Please put it at the end of parameter Bucket(E.g: \"test-1250000000\").');\r\n    }\r\n    event.init(this);\r\n    task.init(this);\r\n};\r\n\r\nbase.init(COS, task);\r\nadvance.init(COS, task);\r\n\r\nCOS.getAuthorization = util.getAuth;\r\nCOS.version = '1.1.0';\r\n\r\nmodule.exports = COS;\r\n","var session = require('./session');\r\nvar Async = require('./async');\r\nvar EventProxy = require('./event').EventProxy;\r\nvar util = require('./util');\r\n\r\n// \r\nfunction sliceUploadFile(params, callback) {\r\n    var self = this;\r\n    var ep = new EventProxy();\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var Body = params.Body;\r\n    var ChunkSize = params.ChunkSize || params.SliceSize || self.options.ChunkSize;\r\n    var AsyncLimit = params.AsyncLimit;\r\n    var StorageClass = params.StorageClass;\r\n    var ServerSideEncryption = params.ServerSideEncryption;\r\n    var FileSize;\r\n\r\n    var onProgress;\r\n    var onHashProgress = params.onHashProgress;\r\n\r\n    // \r\n    ep.on('error', function (err) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        return callback(err);\r\n    });\r\n\r\n    //  uploadSliceComplete \r\n    ep.on('upload_complete', function (UploadCompleteData) {\r\n        callback(null, UploadCompleteData);\r\n    });\r\n\r\n    //  uploadSliceComplete \r\n    ep.on('upload_slice_complete', function (UploadData) {\r\n        uploadSliceComplete.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            UploadId: UploadData.UploadId,\r\n            SliceList: UploadData.SliceList,\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            session.removeUsing(UploadData.UploadId);\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return ep.emit('error', err);\r\n            }\r\n            session.removeUploadId(UploadData.UploadId);\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            ep.emit('upload_complete', data);\r\n        });\r\n    });\r\n\r\n    //  UploadId \r\n    ep.on('get_upload_data_finish', function (UploadData) {\r\n\r\n        //  UploadId \r\n        var uuid = session.getFileId(Body, params.ChunkSize, Bucket, Key);\r\n        uuid && session.saveUploadId(uuid, UploadData.UploadId, self.options.UploadIdCacheLimit); //  UploadId\r\n        session.setUsing(UploadData.UploadId); //  UploadId \r\n\r\n        //  UploadId\r\n        onProgress(null, true); //  uploading\r\n        uploadSliceList.call(self, {\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Body: Body,\r\n            FileSize: FileSize,\r\n            SliceSize: ChunkSize,\r\n            AsyncLimit: AsyncLimit,\r\n            ServerSideEncryption: ServerSideEncryption,\r\n            UploadData: UploadData,\r\n            onProgress: onProgress\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return ep.emit('error', err);\r\n            }\r\n            ep.emit('upload_slice_complete', data);\r\n        });\r\n    });\r\n\r\n    //  UploadId ETag\r\n    ep.on('get_file_size_finish', function () {\r\n\r\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n        if (params.UploadData.UploadId) {\r\n            ep.emit('get_upload_data_finish', params.UploadData);\r\n        } else {\r\n            var _params = util.extend({\r\n                TaskId: TaskId,\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                Headers: params.Headers,\r\n                StorageClass: StorageClass,\r\n                Body: Body,\r\n                FileSize: FileSize,\r\n                SliceSize: ChunkSize,\r\n                onHashProgress: onHashProgress,\r\n            }, params);\r\n            getUploadIdAndPartList.call(self, _params, function (err, UploadData) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) return ep.emit('error', err);\r\n                params.UploadData.UploadId = UploadData.UploadId;\r\n                params.UploadData.PartList = UploadData.PartList;\r\n                ep.emit('get_upload_data_finish', params.UploadData);\r\n            });\r\n        }\r\n    });\r\n\r\n    // \r\n    FileSize = params.ContentLength;\r\n    delete params.ContentLength;\r\n    !params.Headers && (params.Headers = {});\r\n    util.each(params.Headers, function (item, key) {\r\n        if (key.toLowerCase() === 'content-length') {\r\n            delete params.Headers[key];\r\n        }\r\n    });\r\n\r\n    // \r\n    (function () {\r\n        var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\r\n        var AutoChunkSize = 1024 * 1024;\r\n        for (var i = 0; i < SIZE.length; i++) {\r\n            AutoChunkSize = SIZE[i] * 1024 * 1024;\r\n            if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\r\n        }\r\n        params.ChunkSize = params.SliceSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\r\n    })();\r\n\r\n    // \r\n    if (FileSize === 0) {\r\n        params.Body = '';\r\n        params.ContentLength = 0;\r\n        params.SkipTask = true;\r\n        self.putObject(params, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            callback(null, data);\r\n        });\r\n    } else {\r\n        ep.emit('get_file_size_finish');\r\n    }\r\n\r\n}\r\n\r\n//  UploadId\r\nfunction getUploadIdAndPartList(params, callback) {\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var StorageClass = params.StorageClass;\r\n    var self = this;\r\n\r\n    //  ETag\r\n    var ETagMap = {};\r\n    var FileSize = params.FileSize;\r\n    var SliceSize = params.SliceSize;\r\n    var SliceCount = Math.ceil(FileSize / SliceSize);\r\n    var FinishSliceCount = 0;\r\n    var FinishSize = 0;\r\n    var onHashProgress = util.throttleOnProgress.call(self, FileSize, params.onHashProgress);\r\n    var getChunkETag = function (PartNumber, callback) {\r\n        var start = SliceSize * (PartNumber - 1);\r\n        var end = Math.min(start + SliceSize, FileSize);\r\n        var ChunkSize = end - start;\r\n\r\n        if (ETagMap[PartNumber]) {\r\n            callback(null, {\r\n                PartNumber: PartNumber,\r\n                ETag: ETagMap[PartNumber],\r\n                Size: ChunkSize\r\n            });\r\n        } else {\r\n            util.fileSlice(params.Body, start, end, false, function (chunkItem) {\r\n                util.getFileMd5(chunkItem, function (err, md5) {\r\n                    if (err) return callback(err);\r\n                    var ETag = '\"' + md5 + '\"';\r\n                    ETagMap[PartNumber] = ETag;\r\n                    FinishSliceCount += 1;\r\n                    FinishSize += ChunkSize;\r\n                    callback(err, {\r\n                        PartNumber: PartNumber,\r\n                        ETag: ETag,\r\n                        Size: ChunkSize\r\n                    });\r\n                    onHashProgress({loaded: FinishSize, total: FileSize});\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    //  md5  UploadId \r\n    var isAvailableUploadList = function (PartList, callback) {\r\n        var PartCount = PartList.length;\r\n        // \r\n        if (PartCount === 0) {\r\n            return callback(null, true);\r\n        }\r\n        // \r\n        if (PartCount > SliceCount) {\r\n            return callback(null, false);\r\n        }\r\n        // \r\n        if (PartCount > 1) {\r\n            var PartSliceSize = Math.max(PartList[0].Size, PartList[1].Size);\r\n            if (PartSliceSize !== SliceSize) {\r\n                return callback(null, false);\r\n            }\r\n        }\r\n        //  ETag \r\n        var next = function (index) {\r\n            if (index < PartCount) {\r\n                var Part = PartList[index];\r\n                getChunkETag(Part.PartNumber, function (err, chunk) {\r\n                    if (chunk && chunk.ETag === Part.ETag && chunk.Size === Part.Size) {\r\n                        next(index + 1);\r\n                    } else {\r\n                        callback(null, false);\r\n                    }\r\n                });\r\n            } else {\r\n                callback(null, true);\r\n            }\r\n        };\r\n        next(0);\r\n    };\r\n\r\n    var ep = new EventProxy();\r\n    ep.on('error', function (errData) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        return callback(errData);\r\n    });\r\n\r\n    //  UploadId\r\n    ep.on('upload_id_available', function (UploadData) {\r\n        //  map\r\n        var map = {};\r\n        var list = [];\r\n        util.each(UploadData.PartList, function (item) {\r\n            map[item.PartNumber] = item;\r\n        });\r\n        for (var PartNumber = 1; PartNumber <= SliceCount; PartNumber++) {\r\n            var item = map[PartNumber];\r\n            if (item) {\r\n                item.PartNumber = PartNumber;\r\n                item.Uploaded = true;\r\n            } else {\r\n                item = {\r\n                    PartNumber: PartNumber,\r\n                    ETag: null,\r\n                    Uploaded: false\r\n                };\r\n            }\r\n            list.push(item);\r\n        }\r\n        UploadData.PartList = list;\r\n        callback(null, UploadData);\r\n    });\r\n\r\n    //  UploadId,  UploadId\r\n    ep.on('no_available_upload_id', function () {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        var _params = util.extend({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Headers: util.clone(params.Headers),\r\n            StorageClass: StorageClass,\r\n            Body: params.Body,\r\n        }, params);\r\n        self.multipartInit(_params, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (err) return ep.emit('error', err);\r\n            var UploadId = data.UploadId;\r\n            if (!UploadId) {\r\n                return callback({Message: 'no upload id'});\r\n            }\r\n            ep.emit('upload_id_available', {UploadId: UploadId, PartList: []});\r\n        });\r\n    });\r\n\r\n    //  UploadId UploadId\r\n    ep.on('has_and_check_upload_id', function (UploadIdList) {\r\n        //  UploadId\r\n        UploadIdList = UploadIdList.reverse();\r\n        Async.eachLimit(UploadIdList, 1, function (UploadId, asyncCallback) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            // \r\n            if (session.using[UploadId]) {\r\n                asyncCallback(); //  UploadId\r\n                return;\r\n            }\r\n            //  UploadId \r\n            wholeMultipartListPart.call(self, {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                UploadId: UploadId,\r\n            }, function (err, PartListData) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) {\r\n                    session.removeUsing(UploadId);\r\n                    return ep.emit('error', err);\r\n                }\r\n                var PartList = PartListData.PartList;\r\n                PartList.forEach(function (item) {\r\n                    item.PartNumber *= 1;\r\n                    item.Size *= 1;\r\n                    item.ETag = item.ETag || '';\r\n                });\r\n                isAvailableUploadList(PartList, function (err, isAvailable) {\r\n                    if (!self._isRunningTask(TaskId)) return;\r\n                    if (err) return ep.emit('error', err);\r\n                    if (isAvailable) {\r\n                        asyncCallback({\r\n                            UploadId: UploadId,\r\n                            PartList: PartList\r\n                        }); // \r\n                    } else {\r\n                        asyncCallback(); //  UploadId\r\n                    }\r\n                });\r\n            });\r\n        }, function (AvailableUploadData) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            onHashProgress(null, true);\r\n            if (AvailableUploadData && AvailableUploadData.UploadId) {\r\n                ep.emit('upload_id_available', AvailableUploadData);\r\n            } else {\r\n                ep.emit('no_available_upload_id');\r\n            }\r\n        });\r\n    });\r\n\r\n    //  UploadId\r\n    ep.on('seek_local_avail_upload_id', function (RemoteUploadIdList) {\r\n        //  UploadId\r\n        var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key);\r\n        var LocalUploadIdList = session.getUploadIdList(uuid);\r\n        if (!uuid || !LocalUploadIdList) {\r\n            ep.emit('has_and_check_upload_id', RemoteUploadIdList);\r\n            return;\r\n        }\r\n        var next = function (index) {\r\n            //  UploadId\r\n            if (index >= LocalUploadIdList.length) {\r\n                ep.emit('has_and_check_upload_id', RemoteUploadIdList);\r\n                return;\r\n            }\r\n            var UploadId = LocalUploadIdList[index];\r\n            //  UploadId \r\n            if (!util.isInArray(RemoteUploadIdList, UploadId)) {\r\n                session.removeUploadId(UploadId);\r\n                next(index + 1);\r\n                return;\r\n            }\r\n            // \r\n            if (session.using[UploadId]) {\r\n                next(index + 1);\r\n                return;\r\n            }\r\n            //  UploadId \r\n            wholeMultipartListPart.call(self, {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                UploadId: UploadId,\r\n            }, function (err, PartListData) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) {\r\n                    //  UploadId \r\n                    session.removeUploadId(UploadId);\r\n                    next(index + 1);\r\n                } else {\r\n                    //  UploadId\r\n                    ep.emit('upload_id_available', {\r\n                        UploadId: UploadId,\r\n                        PartList: PartListData.PartList,\r\n                    });\r\n                }\r\n            });\r\n        };\r\n        next(0);\r\n    });\r\n\r\n    //  UploadId \r\n    ep.on('get_remote_upload_id_list', function () {\r\n        //  UploadId \r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (err) {\r\n                return ep.emit('error', err);\r\n            }\r\n            //  UploadId \r\n            var RemoteUploadIdList = util.filter(data.UploadList, function (item) {\r\n                return item.Key === Key && (!StorageClass || item.StorageClass.toUpperCase() === StorageClass.toUpperCase());\r\n            }).reverse().map(function (item) {\r\n                return item.UploadId || item.UploadID;\r\n            });\r\n            if (RemoteUploadIdList.length) {\r\n                ep.emit('seek_local_avail_upload_id', RemoteUploadIdList);\r\n            } else {\r\n                //  UploadId UploadId\r\n                var uuid = session.getFileId(params.Body, params.ChunkSize, Bucket, Key), LocalUploadIdList;\r\n                if (uuid && (LocalUploadIdList = session.getUploadIdList(uuid))) {\r\n                    util.each(LocalUploadIdList, function (UploadId) {\r\n                        session.removeUploadId(UploadId);\r\n                    });\r\n                }\r\n                ep.emit('no_available_upload_id');\r\n            }\r\n        });\r\n    });\r\n\r\n    //  UploadId\r\n    ep.emit('get_remote_upload_id_list');\r\n\r\n}\r\n\r\n//  ( Bucket, Region, Prefix)\r\nfunction wholeMultipartList(params, callback) {\r\n    var self = this;\r\n    var UploadList = [];\r\n    var sendParams = {\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Prefix: params.Key\r\n    };\r\n    var next = function () {\r\n        self.multipartList(sendParams, function (err, data) {\r\n            if (err) return callback(err);\r\n            UploadList.push.apply(UploadList, data.Upload || []);\r\n            if (data.IsTruncated === 'true') { // \r\n                sendParams.KeyMarker = data.NextKeyMarker;\r\n                sendParams.UploadIdMarker = data.NextUploadIdMarker;\r\n                next();\r\n            } else {\r\n                callback(null, {UploadList: UploadList});\r\n            }\r\n        });\r\n    };\r\n    next();\r\n}\r\n\r\n// \r\nfunction wholeMultipartListPart(params, callback) {\r\n    var self = this;\r\n    var PartList = [];\r\n    var sendParams = {\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        UploadId: params.UploadId\r\n    };\r\n    var next = function () {\r\n        self.multipartListPart(sendParams, function (err, data) {\r\n            if (err) return callback(err);\r\n            PartList.push.apply(PartList, data.Part || []);\r\n            if (data.IsTruncated === 'true') { // \r\n                sendParams.PartNumberMarker = data.NextPartNumberMarker;\r\n                next();\r\n            } else {\r\n                callback(null, {PartList: PartList});\r\n            }\r\n        });\r\n    };\r\n    next();\r\n}\r\n\r\n// \r\n/*\r\n UploadId ()\r\n AsyncLimit ()\r\n SliceList ()\r\n FilePath ()\r\n SliceSize ()\r\n FileSize ()\r\n onProgress ()\r\n */\r\nfunction uploadSliceList(params, cb) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadData = params.UploadData;\r\n    var FileSize = params.FileSize;\r\n    var SliceSize = params.SliceSize;\r\n    var ChunkParallel = Math.min(params.AsyncLimit || self.options.ChunkParallelLimit || 1, 256);\r\n    var Body = params.Body;\r\n    var SliceCount = Math.ceil(FileSize / SliceSize);\r\n    var FinishSize = 0;\r\n    var ServerSideEncryption = params.ServerSideEncryption;\r\n    var needUploadSlices = util.filter(UploadData.PartList, function (SliceItem) {\r\n        if (SliceItem['Uploaded']) {\r\n            FinishSize += SliceItem['PartNumber'] >= SliceCount ? (FileSize % SliceSize || SliceSize) : SliceSize;\r\n        }\r\n        return !SliceItem['Uploaded'];\r\n    });\r\n    var onProgress = params.onProgress;\r\n\r\n    Async.eachLimit(needUploadSlices, ChunkParallel, function (SliceItem, asyncCallback) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        var PartNumber = SliceItem['PartNumber'];\r\n        var currentSize = Math.min(FileSize, SliceItem['PartNumber'] * SliceSize) - (SliceItem['PartNumber'] - 1) * SliceSize;\r\n        var preAddSize = 0;\r\n        uploadSliceItem.call(self, {\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            SliceSize: SliceSize,\r\n            FileSize: FileSize,\r\n            PartNumber: PartNumber,\r\n            ServerSideEncryption: ServerSideEncryption,\r\n            Body: Body,\r\n            UploadData: UploadData,\r\n            onProgress: function (data) {\r\n                FinishSize += data.loaded - preAddSize;\r\n                preAddSize = data.loaded;\r\n                onProgress({loaded: FinishSize, total: FileSize});\r\n            },\r\n        }, function (err, data) {\r\n            if (!self._isRunningTask(TaskId)) return;\r\n            if (!err && !data.ETag) {\r\n                err = 'get ETag error, please add \"ETag\" to CORS ExposeHeader setting.';\r\n            }\r\n            if (err) {\r\n                FinishSize -= preAddSize;\r\n            } else {\r\n                FinishSize += currentSize - preAddSize;\r\n                SliceItem.ETag = data.ETag;\r\n            }\r\n            onProgress({loaded: FinishSize, total: FileSize});\r\n            asyncCallback(err || null, data);\r\n        });\r\n    }, function (err) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        if (err) return cb(err);\r\n        cb(null, {\r\n            UploadId: UploadData.UploadId,\r\n            SliceList: UploadData.PartList\r\n        });\r\n    });\r\n}\r\n\r\n// \r\nfunction uploadSliceItem(params, callback) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var FileSize = params.FileSize;\r\n    var FileBody = params.Body;\r\n    var PartNumber = params.PartNumber * 1;\r\n    var SliceSize = params.SliceSize;\r\n    var ServerSideEncryption = params.ServerSideEncryption;\r\n    var UploadData = params.UploadData;\r\n    var ChunkRetryTimes = self.options.ChunkRetryTimes + 1;\r\n\r\n    var start = SliceSize * (PartNumber - 1);\r\n\r\n    var ContentLength = SliceSize;\r\n\r\n    var end = start + SliceSize;\r\n\r\n    if (end > FileSize) {\r\n        end = FileSize;\r\n        ContentLength = end - start;\r\n    }\r\n\r\n    var PartItem = UploadData.PartList[PartNumber - 1];\r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        util.fileSlice(FileBody, start, end, true, function (Body) {\r\n            self.multipartUpload({\r\n                TaskId: TaskId,\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                ContentLength: ContentLength,\r\n                PartNumber: PartNumber,\r\n                UploadId: UploadData.UploadId,\r\n                ServerSideEncryption: ServerSideEncryption,\r\n                Body: Body,\r\n                onProgress: params.onProgress,\r\n            }, function (err, data) {\r\n                if (!self._isRunningTask(TaskId)) return;\r\n                if (err) {\r\n                    return tryCallback(err);\r\n                } else {\r\n                    PartItem.Uploaded = true;\r\n                    return tryCallback(null, data);\r\n                }\r\n            });\r\n        });\r\n    }, function (err, data) {\r\n        if (!self._isRunningTask(TaskId)) return;\r\n        return callback(err, data);\r\n    });\r\n}\r\n\r\n\r\n// \r\nfunction uploadSliceComplete(params, callback) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadId = params.UploadId;\r\n    var SliceList = params.SliceList;\r\n    var self = this;\r\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\r\n    var Parts = SliceList.map(function (item) {\r\n        return {\r\n            PartNumber: item.PartNumber,\r\n            ETag: item.ETag\r\n        };\r\n    });\r\n    // \r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        self.multipartComplete({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            UploadId: UploadId,\r\n            Parts: Parts\r\n        }, tryCallback);\r\n    }, function (err, data) {\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n// \r\n/*\r\n AsyncLimit ()\r\n UploadId ( Level  task )\r\n Level (task : file   Bucket )\r\n */\r\nfunction abortUploadTask(params, callback) {\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var UploadId = params.UploadId;\r\n    var Level = params.Level || 'task';\r\n    var AsyncLimit = params.AsyncLimit;\r\n    var self = this;\r\n\r\n    var ep = new EventProxy();\r\n\r\n    ep.on('error', function (errData) {\r\n        return callback(errData);\r\n    });\r\n\r\n    // \r\n    ep.on('get_abort_array', function (AbortArray) {\r\n        abortUploadTaskArray.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Headers: params.Headers,\r\n            AsyncLimit: AsyncLimit,\r\n            AbortArray: AbortArray\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            callback(null, data);\r\n        });\r\n    });\r\n\r\n    if (Level === 'bucket') {\r\n        // Bucket  Bucket \r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            ep.emit('get_abort_array', data.UploadList || []);\r\n        });\r\n    } else if (Level === 'file') {\r\n        // \r\n        if (!Key) return callback({error: 'abort_upload_task_no_key'});\r\n        wholeMultipartList.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            ep.emit('get_abort_array', data.UploadList || []);\r\n        });\r\n    } else if (Level === 'task') {\r\n        //  UploadId \r\n        if (!UploadId) return callback({error: 'abort_upload_task_no_id'});\r\n        if (!Key) return callback({error: 'abort_upload_task_no_key'});\r\n        ep.emit('get_abort_array', [{\r\n            Key: Key,\r\n            UploadId: UploadId\r\n        }]);\r\n    } else {\r\n        return callback({error: 'abort_unknown_level'});\r\n    }\r\n}\r\n\r\n// \r\nfunction abortUploadTaskArray(params, callback) {\r\n\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var AbortArray = params.AbortArray;\r\n    var AsyncLimit = params.AsyncLimit || 1;\r\n    var self = this;\r\n\r\n    var index = 0;\r\n    var resultList = new Array(AbortArray.length);\r\n    Async.eachLimit(AbortArray, AsyncLimit, function (AbortItem, callback) {\r\n        var eachIndex = index;\r\n        if (Key && Key !== AbortItem.Key) {\r\n            resultList[eachIndex] = {error: {KeyNotMatch: true}};\r\n            callback(null);\r\n            return;\r\n        }\r\n        var UploadId = AbortItem.UploadId || AbortItem.UploadID;\r\n\r\n        self.multipartAbort({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: AbortItem.Key,\r\n            Headers: params.Headers,\r\n            UploadId: UploadId\r\n        }, function (err) {\r\n            var task = {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: AbortItem.Key,\r\n                UploadId: UploadId\r\n            };\r\n            resultList[eachIndex] = {error: err, task: task};\r\n            callback(null);\r\n        });\r\n        index++;\r\n\r\n    }, function (err) {\r\n        if (err) {\r\n            return callback(err);\r\n        }\r\n\r\n        var successList = [];\r\n        var errorList = [];\r\n\r\n        for (var i = 0, len = resultList.length; i < len; i++) {\r\n            var item = resultList[i];\r\n            if (item['task']) {\r\n                if (item['error']) {\r\n                    errorList.push(item['task']);\r\n                } else {\r\n                    successList.push(item['task']);\r\n                }\r\n            }\r\n        }\r\n\r\n        return callback(null, {\r\n            successList: successList,\r\n            errorList: errorList\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// \r\nfunction uploadFiles(params, callback) {\r\n    var self = this;\r\n\r\n    // \r\n    var SliceSize = params.SliceSize === undefined ? self.options.SliceSize : params.SliceSize;\r\n\r\n    // \r\n    var TotalSize = 0;\r\n    var TotalFinish = 0;\r\n    var onTotalProgress = util.throttleOnProgress.call(self, TotalFinish, params.onProgress);\r\n\r\n    // \r\n    var unFinishCount = params.files.length;\r\n    var _onTotalFileFinish = params.onFileFinish;\r\n    var resultList = Array(unFinishCount);\r\n    var onTotalFileFinish = function (err, data, options) {\r\n        onTotalProgress(null, true);\r\n        _onTotalFileFinish && _onTotalFileFinish(err, data, options);\r\n        resultList[options.Index] = {\r\n            options: options,\r\n            error: err,\r\n            data: data\r\n        };\r\n        if (--unFinishCount <= 0 && callback) {\r\n            callback(null, {\r\n                files: resultList,\r\n            });\r\n        }\r\n    };\r\n\r\n    // \r\n    var taskList = [];\r\n    util.each(params.files, function (fileParams, index) {\r\n        (function () { //  nodejs \r\n\r\n            var Body = fileParams.Body;\r\n            var FileSize = Body.size || Body.length || 0;\r\n            var fileInfo = {Index: index, TaskId: ''};\r\n\r\n            // \r\n            TotalSize += FileSize;\r\n\r\n            //  option\r\n            util.each(fileParams, function (v, k) {\r\n                if (typeof v !== 'object' && typeof v !== 'function') {\r\n                    fileInfo[k] = v;\r\n                }\r\n            });\r\n\r\n            //  TaskReady\r\n            var _onTaskReady = fileParams.onTaskReady;\r\n            var onTaskReady = function (tid) {\r\n                fileInfo.TaskId = tid;\r\n                _onTaskReady && _onTaskReady(tid);\r\n            };\r\n            fileParams.onTaskReady = onTaskReady;\r\n\r\n            // \r\n            var PreAddSize = 0;\r\n            var _onProgress = fileParams.onProgress;\r\n            var onProgress = function (info) {\r\n                TotalFinish = TotalFinish - PreAddSize + info.loaded;\r\n                PreAddSize = info.loaded;\r\n                _onProgress && _onProgress(info);\r\n                onTotalProgress({loaded: TotalFinish, total: TotalSize});\r\n            };\r\n            fileParams.onProgress = onProgress;\r\n\r\n            // \r\n            var _onFileFinish = fileParams.onFileFinish;\r\n            var onFileFinish = function (err, data) {\r\n                _onFileFinish && _onFileFinish(err, data);\r\n                onTotalFileFinish && onTotalFileFinish(err, data, fileInfo);\r\n            };\r\n\r\n            // \r\n            var api = FileSize >= SliceSize ? 'sliceUploadFile' : 'putObject';\r\n            taskList.push({\r\n                api: api,\r\n                params: fileParams,\r\n                callback: onFileFinish,\r\n            });\r\n        })();\r\n    });\r\n    self._addTasks(taskList);\r\n}\r\n\r\n// \r\nfunction sliceCopyFile(params, callback) {\r\n    var ep = new EventProxy();\r\n\r\n    var self = this;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var CopySource = params.CopySource;\r\n    var m = CopySource.match(/^([^.]+-\\d+)\\.cos(v6)?\\.([^.]+)\\.[^/]+\\/(.+)$/);\r\n    if (!m) {\r\n        callback({error: 'CopySource format error'});\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n    var CopySliceSize = params.CopySliceSize === undefined ? self.options.CopySliceSize : params.CopySliceSize;\r\n    CopySliceSize = Math.max(0, CopySliceSize);\r\n\r\n    var ChunkSize = params.CopyChunkSize || this.options.CopyChunkSize;\r\n    var ChunkParallel = this.options.CopyChunkParallelLimit;\r\n\r\n    var FinishSize = 0;\r\n    var FileSize;\r\n    var onProgress;\r\n\r\n    //  multipartComplete \r\n    ep.on('copy_slice_complete', function (UploadData) {\r\n        self.multipartComplete({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            UploadId: UploadData.UploadId,\r\n            Parts: UploadData.PartList,\r\n        },function (err, data) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            callback(null, data);\r\n        });\r\n    });\r\n\r\n    ep.on('get_copy_data_finish',function (UploadData) {\r\n        Async.eachLimit(UploadData.PartList, ChunkParallel, function (SliceItem, asyncCallback) {\r\n            var PartNumber = SliceItem.PartNumber;\r\n            var CopySourceRange = SliceItem.CopySourceRange;\r\n            var currentSize = SliceItem.end - SliceItem.start;\r\n            var preAddSize = 0;\r\n\r\n            copySliceItem.call(self, {\r\n                Bucket: Bucket,\r\n                Region: Region,\r\n                Key: Key,\r\n                CopySource: CopySource,\r\n                UploadId: UploadData.UploadId,\r\n                PartNumber: PartNumber,\r\n                CopySourceRange: CopySourceRange,\r\n                onProgress: function (data) {\r\n                    FinishSize += data.loaded - preAddSize;\r\n                    preAddSize = data.loaded;\r\n                    onProgress({loaded: FinishSize, total: FileSize});\r\n                }\r\n            },function (err,data) {\r\n                if (err) {\r\n                    return asyncCallback(err);\r\n                }\r\n                onProgress({loaded: FinishSize, total: FileSize});\r\n\r\n                FinishSize += currentSize - preAddSize;\r\n                SliceItem.ETag = data.ETag;\r\n                asyncCallback(err || null, data);\r\n            });\r\n        }, function (err) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n\r\n            ep.emit('copy_slice_complete', UploadData);\r\n        });\r\n    });\r\n\r\n    ep.on('get_file_size_finish', function (SourceHeaders) {\r\n        // \r\n        (function () {\r\n            var SIZE = [1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 1024 * 2, 1024 * 4, 1024 * 5];\r\n            var AutoChunkSize = 1024 * 1024;\r\n            for (var i = 0; i < SIZE.length; i++) {\r\n                AutoChunkSize = SIZE[i] * 1024 * 1024;\r\n                if (FileSize / AutoChunkSize <= self.options.MaxPartNumber) break;\r\n            }\r\n            params.ChunkSize = ChunkSize = Math.max(ChunkSize, AutoChunkSize);\r\n\r\n            var ChunkCount = Math.ceil(FileSize / ChunkSize);\r\n\r\n            var list = [];\r\n            for (var partNumber = 1; partNumber <= ChunkCount; partNumber++) {\r\n                var start = (partNumber - 1) * ChunkSize;\r\n                var end = partNumber * ChunkSize < FileSize ? (partNumber * ChunkSize - 1) : FileSize - 1;\r\n                var item = {\r\n                    PartNumber: partNumber,\r\n                    start: start,\r\n                    end: end,\r\n                    CopySourceRange: \"bytes=\" + start + \"-\" + end,\r\n                };\r\n                list.push(item);\r\n            }\r\n            params.PartList = list;\r\n        })();\r\n\r\n        var TargetHeader;\r\n        if (params.Headers['x-cos-metadata-directive'] === 'Replaced') {\r\n            TargetHeader = params.Headers;\r\n        } else {\r\n            TargetHeader = SourceHeaders;\r\n        }\r\n        TargetHeader['x-cos-storage-class'] = params.Headers['x-cos-storage-class'] || SourceHeaders['x-cos-storage-class'];\r\n        TargetHeader = util.clearKey(TargetHeader);\r\n        /**\r\n         *  Copy\r\n         */\r\n        if (SourceHeaders['x-cos-storage-class'] === 'ARCHIVE' || SourceHeaders['x-cos-storage-class'] === 'DEEP_ARCHIVE') {\r\n            var restoreHeader = SourceHeaders['x-cos-restore'];\r\n            if (!restoreHeader || restoreHeader === 'ongoing-request=\"true\"') {\r\n                callback({ error: 'Unrestored archive object is not allowed to be copied' });\r\n                return;\r\n            }\r\n        }\r\n        /**\r\n         *  multipartInit \r\n         *  putObjectCopy \r\n         */\r\n        delete TargetHeader['x-cos-copy-source'];\r\n        delete TargetHeader['x-cos-metadata-directive'];\r\n        delete TargetHeader['x-cos-copy-source-If-Modified-Since'];\r\n        delete TargetHeader['x-cos-copy-source-If-Unmodified-Since'];\r\n        delete TargetHeader['x-cos-copy-source-If-Match'];\r\n        delete TargetHeader['x-cos-copy-source-If-None-Match'];\r\n        self.multipartInit({\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            Headers: TargetHeader,\r\n        },function (err,data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            params.UploadId = data.UploadId;\r\n            ep.emit('get_copy_data_finish', params);\r\n        });\r\n    });\r\n\r\n    // \r\n    self.headObject({\r\n        Bucket: SourceBucket,\r\n        Region: SourceRegion,\r\n        Key: SourceKey,\r\n    },function(err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 404) {\r\n                callback({ErrorStatus: SourceKey + ' Not Exist'});\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        FileSize = params.FileSize = data.headers['content-length'];\r\n        if (FileSize === undefined || !FileSize) {\r\n            callback({error: 'get Content-Length error, please add \"Content-Length\" to CORS ExposeHeader setting.'});\r\n            return;\r\n        }\r\n\r\n        onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n        // \r\n        if (FileSize <= CopySliceSize) {\r\n            if (!params.Headers['x-cos-metadata-directive']) {\r\n                params.Headers['x-cos-metadata-directive'] = 'Copy';\r\n            }\r\n            self.putObjectCopy(params, function (err, data) {\r\n                if (err) {\r\n                    onProgress(null, true);\r\n                    return callback(err);\r\n                }\r\n                onProgress({loaded: FileSize, total: FileSize}, true);\r\n                callback(err, data);\r\n            });\r\n        } else {\r\n            var resHeaders = data.headers;\r\n            var SourceHeaders = {\r\n                'Cache-Control': resHeaders['cache-control'],\r\n                'Content-Disposition': resHeaders['content-disposition'],\r\n                'Content-Encoding': resHeaders['content-encoding'],\r\n                'Content-Type': resHeaders['content-type'],\r\n                'Expires': resHeaders['expires'],\r\n                'x-cos-storage-class': resHeaders['x-cos-storage-class'],\r\n            };\r\n            util.each(resHeaders, function (v, k) {\r\n                var metaPrefix = 'x-cos-meta-';\r\n                if (k.indexOf(metaPrefix) === 0 && k.length > metaPrefix.length) {\r\n                    SourceHeaders[k] = v;\r\n                }\r\n            });\r\n            ep.emit('get_file_size_finish', SourceHeaders);\r\n        }\r\n    });\r\n}\r\n\r\n// \r\nfunction copySliceItem(params, callback) {\r\n    var TaskId = params.TaskId;\r\n    var Bucket = params.Bucket;\r\n    var Region = params.Region;\r\n    var Key = params.Key;\r\n    var CopySource = params.CopySource;\r\n    var UploadId = params.UploadId;\r\n    var PartNumber = params.PartNumber * 1;\r\n    var CopySourceRange = params.CopySourceRange;\r\n\r\n    var ChunkRetryTimes = this.options.ChunkRetryTimes + 1;\r\n    var self = this;\r\n\r\n    Async.retry(ChunkRetryTimes, function (tryCallback) {\r\n        self.uploadPartCopy({\r\n            TaskId: TaskId,\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Key: Key,\r\n            CopySource: CopySource,\r\n            UploadId: UploadId,\r\n            PartNumber:PartNumber,\r\n            CopySourceRange:CopySourceRange,\r\n            onProgress:params.onProgress,\r\n        },function (err,data) {\r\n            tryCallback(err || null, data);\r\n        })\r\n    }, function (err, data) {\r\n        return callback(err, data);\r\n    });\r\n}\r\n\r\n\r\nvar API_MAP = {\r\n    sliceUploadFile: sliceUploadFile,\r\n    abortUploadTask: abortUploadTask,\r\n    uploadFiles: uploadFiles,\r\n    sliceCopyFile: sliceCopyFile,\r\n};\r\n\r\nmodule.exports.init = function (COS, task) {\r\n    task.transferToTaskMethod(API_MAP, 'sliceUploadFile');\r\n    util.each(API_MAP, function (fn, apiName) {\r\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\r\n    });\r\n};\r\n","function DOMParser(options){\r\n\tthis.options = options ||{locator:{}};\r\n\t\r\n}\r\nDOMParser.prototype.parseFromString = function(source,mimeType){\r\n\tvar options = this.options;\r\n\tvar sax =  new XMLReader();\r\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\r\n\tvar errorHandler = options.errorHandler;\r\n\tvar locator = options.locator;\r\n\tvar defaultNSMap = options.xmlns||{};\r\n\tvar entityMap = {'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"}\r\n\tif(locator){\r\n\t\tdomBuilder.setDocumentLocator(locator)\r\n\t}\r\n\t\r\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\r\n\tsax.domBuilder = options.domBuilder || domBuilder;\r\n\tif(/\\/x?html?$/.test(mimeType)){\r\n\t\tentityMap.nbsp = '\\xa0';\r\n\t\tentityMap.copy = '\\xa9';\r\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\r\n\t}\r\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\r\n\tif(source){\r\n\t\tsax.parse(source,defaultNSMap,entityMap);\r\n\t}else{\r\n\t\tsax.errorHandler.error(\"invalid doc source\");\r\n\t}\r\n\treturn domBuilder.doc;\r\n}\r\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\r\n\tif(!errorImpl){\r\n\t\tif(domBuilder instanceof DOMHandler){\r\n\t\t\treturn domBuilder;\r\n\t\t}\r\n\t\terrorImpl = domBuilder ;\r\n\t}\r\n\tvar errorHandler = {}\r\n\tvar isCallback = errorImpl instanceof Function;\r\n\tlocator = locator||{}\r\n\tfunction build(key){\r\n\t\tvar fn = errorImpl[key];\r\n\t\tif(!fn && isCallback){\r\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\r\n\t\t}\r\n\t\terrorHandler[key] = fn && function(msg){\r\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\r\n\t\t}||function(){};\r\n\t}\r\n\tbuild('warning');\r\n\tbuild('error');\r\n\tbuild('fatalError');\r\n\treturn errorHandler;\r\n}\r\n\r\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\r\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\r\nfunction DOMHandler() {\r\n    this.cdata = false;\r\n}\r\nfunction position(locator,node){\r\n\tnode.lineNumber = locator.lineNumber;\r\n\tnode.columnNumber = locator.columnNumber;\r\n}\r\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */ \r\nDOMHandler.prototype = {\r\n\tstartDocument : function() {\r\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\r\n    \tif (this.locator) {\r\n        \tthis.doc.documentURI = this.locator.systemId;\r\n    \t}\r\n\t},\r\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\r\n\t\tvar doc = this.doc;\r\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\r\n\t    var len = attrs.length;\r\n\t    appendElement(this, el);\r\n\t    this.currentElement = el;\r\n\t    \r\n\t\tthis.locator && position(this.locator,el)\r\n\t    for (var i = 0 ; i < len; i++) {\r\n\t        var namespaceURI = attrs.getURI(i);\r\n\t        var value = attrs.getValue(i);\r\n\t        var qName = attrs.getQName(i);\r\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\r\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\r\n\t\t\tattr.value = attr.nodeValue = value;\r\n\t\t\tel.setAttributeNode(attr)\r\n\t    }\r\n\t},\r\n\tendElement:function(namespaceURI, localName, qName) {\r\n\t\tvar current = this.currentElement\r\n\t\tvar tagName = current.tagName;\r\n\t\tthis.currentElement = current.parentNode;\r\n\t},\r\n\tstartPrefixMapping:function(prefix, uri) {\r\n\t},\r\n\tendPrefixMapping:function(prefix) {\r\n\t},\r\n\tprocessingInstruction:function(target, data) {\r\n\t    var ins = this.doc.createProcessingInstruction(target, data);\r\n\t    this.locator && position(this.locator,ins)\r\n\t    appendElement(this, ins);\r\n\t},\r\n\tignorableWhitespace:function(ch, start, length) {\r\n\t},\r\n\tcharacters:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t\t//console.log(chars)\r\n\t\tif(chars){\r\n\t\t\tif (this.cdata) {\r\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\r\n\t\t\t} else {\r\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\r\n\t\t\t}\r\n\t\t\tif(this.currentElement){\r\n\t\t\t\tthis.currentElement.appendChild(charNode);\r\n\t\t\t}else if(/^\\s*$/.test(chars)){\r\n\t\t\t\tthis.doc.appendChild(charNode);\r\n\t\t\t\t//process xml\r\n\t\t\t}\r\n\t\t\tthis.locator && position(this.locator,charNode)\r\n\t\t}\r\n\t},\r\n\tskippedEntity:function(name) {\r\n\t},\r\n\tendDocument:function() {\r\n\t\tthis.doc.normalize();\r\n\t},\r\n\tsetDocumentLocator:function (locator) {\r\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\r\n\t    \tlocator.lineNumber = 0;\r\n\t    }\r\n\t},\r\n\t//LexicalHandler\r\n\tcomment:function(chars, start, length) {\r\n\t\tchars = _toString.apply(this,arguments)\r\n\t    var comm = this.doc.createComment(chars);\r\n\t    this.locator && position(this.locator,comm)\r\n\t    appendElement(this, comm);\r\n\t},\r\n\t\r\n\tstartCDATA:function() {\r\n\t    //used in characters() methods\r\n\t    this.cdata = true;\r\n\t},\r\n\tendCDATA:function() {\r\n\t    this.cdata = false;\r\n\t},\r\n\t\r\n\tstartDTD:function(name, publicId, systemId) {\r\n\t\tvar impl = this.doc.implementation;\r\n\t    if (impl && impl.createDocumentType) {\r\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\r\n\t        this.locator && position(this.locator,dt)\r\n\t        appendElement(this, dt);\r\n\t    }\r\n\t},\r\n\t/**\r\n\t * @see org.xml.sax.ErrorHandler\r\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n\t */\r\n\twarning:function(error) {\r\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\r\n\t},\r\n\terror:function(error) {\r\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\r\n\t},\r\n\tfatalError:function(error) {\r\n\t\tconsole.error('[xmldom fatalError]\\t'+error,_locator(this.locator));\r\n\t    throw error;\r\n\t}\r\n}\r\nfunction _locator(l){\r\n\tif(l){\r\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\r\n\t}\r\n}\r\nfunction _toString(chars,start,length){\r\n\tif(typeof chars == 'string'){\r\n\t\treturn chars.substr(start,length)\r\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\r\n\t\tif(chars.length >= start+length || start){\r\n\t\t\treturn new java.lang.String(chars,start,length)+'';\r\n\t\t}\r\n\t\treturn chars;\r\n\t}\r\n}\r\n\r\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\r\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\r\n\tDOMHandler.prototype[key] = function(){return null}\r\n})\r\n\r\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\r\nfunction appendElement (hander,node) {\r\n    if (!hander.currentElement) {\r\n        hander.doc.appendChild(node);\r\n    } else {\r\n        hander.currentElement.appendChild(node);\r\n    }\r\n}//appendChild and setAttributeNS are preformance key\r\n\r\n//if(typeof require == 'function'){\r\n\tvar XMLReader = require('./sax').XMLReader;\r\n\tvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\r\n\texports.XMLSerializer = require('./dom').XMLSerializer ;\r\n\texports.DOMParser = DOMParser;\r\n//}\r\n","var COS = require('./src/cos');\r\nmodule.exports = COS;","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProblemFeedback.vue?vue&type=style&index=0&id=5a73302f&lang=less&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=style&index=0&id=907d3258&lang=less&scoped=true&\"","/**\n * requestAnimationFrame polyfill\n */\nimport { isServer } from '..';\nvar prev = Date.now();\n/* istanbul ignore next */\n\nfunction fallback(fn) {\n  var curr = Date.now();\n  var ms = Math.max(0, 16 - (curr - prev));\n  var id = setTimeout(fn, ms);\n  prev = curr + ms;\n  return id;\n}\n/* istanbul ignore next */\n\n\nvar root = isServer ? global : window;\n/* istanbul ignore next */\n\nvar iRaf = root.requestAnimationFrame || fallback;\n/* istanbul ignore next */\n\nvar iCancel = root.cancelAnimationFrame || root.clearTimeout;\nexport function raf(fn) {\n  return iRaf.call(root, fn);\n} // double raf for animation\n\nexport function doubleRaf(fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\nexport function cancelRaf(id) {\n  iCancel.call(root, id);\n}","/**\n * Vue Router support\n */\nfunction isRedundantNavigation(err) {\n  return err.name === 'NavigationDuplicated' || // compatible with vue-router@3.3\n  err.message && err.message.indexOf('redundant navigation') !== -1;\n}\n\nexport function route(router, config) {\n  var to = config.to,\n      url = config.url,\n      replace = config.replace;\n\n  if (to && router) {\n    var promise = router[replace ? 'replace' : 'push'](to);\n    /* istanbul ignore else */\n\n    if (promise && promise.catch) {\n      promise.catch(function (err) {\n        if (err && !isRedundantNavigation(err)) {\n          throw err;\n        }\n      });\n    }\n  } else if (url) {\n    replace ? location.replace(url) : location.href = url;\n  }\n}\nexport function functionalRoute(context) {\n  route(context.parent && context.parent.$router, context.props);\n}\nexport var routeProps = {\n  url: String,\n  replace: Boolean,\n  to: [String, Object]\n};","import '../../style/base.less';\nimport '../../info/index.less';\nimport '../../icon/index.less';\nimport '../index.less';","/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\n\nfunction copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(Object.create){\n\t\tvar ppt = Object.create(Super.prototype)\n\t\tpt.__proto__ = ppt;\n\t}\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknow Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\t// Introduced in DOM Level 2:\n\t\t//readonly attribute DOMString        internalSubset;\n\t\t\n\t\t//TODO:..\n\t\t//  readonly attribute NamedNodeMap     entities;\n\t\t//  readonly attribute NamedNodeMap     notations;\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\t\n\tinsertBefore :  function(newChild, refChild){//raises \n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t\t\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\t\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9?this.documentElement:this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix||'';\n\tvar uri = node.namespaceURI;\n\tif (!prefix && !uri){\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\t\tif (ns.prefix == prefix){\n\t\t\treturn ns.namespace != uri;\n\t\t}\n\t}\n\t//console.log(isHTML,uri,prefix=='')\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n\t//\treturn false;\n\t//}\n\t//node.flag = '11111'\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\treturn true;\n}\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \n\t\tbuf.push('<',nodeName);\n\t\t\n\t\t\n\t\t\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\t\t// add namespace for current node\t\t\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\treturn buf.push(' ',node.name,'=\"',node.value.replace(/[<&\"]/g,_xmlEncoder),'\"');\n\tcase TEXT_NODE:\n\t\treturn buf.push(node.data.replace(/[<&]/g,_xmlEncoder));\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC \"',pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push( '\" \"',sysid);\n\t\t\t}\n\t\t\tbuf.push('\">');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM \"',sysid,'\">');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//TODO:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.DOMImplementation = DOMImplementation;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","/* https://github.com/emn178/js-md5 */\r\n(function () {\r\n    'use strict';\r\n\r\n    var ERROR = 'input is invalid type';\r\n    var WINDOW = typeof window === 'object';\r\n    var root = WINDOW ? window : {};\r\n    if (root.JS_MD5_NO_WINDOW) {\r\n        WINDOW = false;\r\n    }\r\n    var WEB_WORKER = !WINDOW && typeof self === 'object';\r\n    var NODE_JS = !root.JS_MD5_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\r\n    if (NODE_JS) {\r\n        root = global;\r\n    } else if (WEB_WORKER) {\r\n        root = self;\r\n    }\r\n    var COMMON_JS = !root.JS_MD5_NO_COMMON_JS && typeof module === 'object' && module.exports;\r\n    var AMD = typeof define === 'function' && define.amd;\r\n    var ARRAY_BUFFER = !root.JS_MD5_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\r\n    var HEX_CHARS = '0123456789abcdef'.split('');\r\n    var EXTRA = [128, 32768, 8388608, -2147483648];\r\n    var SHIFT = [0, 8, 16, 24];\r\n    var OUTPUT_TYPES = ['hex', 'array', 'digest', 'buffer', 'arrayBuffer', 'base64'];\r\n    var BASE64_ENCODE_CHAR = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\r\n\r\n    var blocks = [], buffer8;\r\n    if (ARRAY_BUFFER) {\r\n        var buffer = new ArrayBuffer(68);\r\n        buffer8 = new Uint8Array(buffer);\r\n        blocks = new Uint32Array(buffer);\r\n    }\r\n\r\n    if (root.JS_MD5_NO_NODE_JS || !Array.isArray) {\r\n        Array.isArray = function (obj) {\r\n            return Object.prototype.toString.call(obj) === '[object Array]';\r\n        };\r\n    }\r\n\r\n    if (ARRAY_BUFFER && (root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\r\n        ArrayBuffer.isView = function (obj) {\r\n            return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\r\n        };\r\n    }\r\n\r\n    /**\r\n     * @method hex\r\n     * @memberof md5\r\n     * @description Output hash as hex string\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {String} Hex string\r\n     * @example\r\n     * md5.hex('The quick brown fox jumps over the lazy dog');\r\n     * // equal to\r\n     * md5('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method digest\r\n     * @memberof md5\r\n     * @description Output hash as bytes array\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Array} Bytes array\r\n     * @example\r\n     * md5.digest('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method array\r\n     * @memberof md5\r\n     * @description Output hash as bytes array\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Array} Bytes array\r\n     * @example\r\n     * md5.array('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method arrayBuffer\r\n     * @memberof md5\r\n     * @description Output hash as ArrayBuffer\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @example\r\n     * md5.arrayBuffer('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method buffer\r\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\r\n     * @memberof md5\r\n     * @description Output hash as ArrayBuffer\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @example\r\n     * md5.buffer('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    /**\r\n     * @method base64\r\n     * @memberof md5\r\n     * @description Output hash as base64 string\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {String} base64 string\r\n     * @example\r\n     * md5.base64('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    var createOutputMethod = function (outputType) {\r\n        return function (message, isBinStr) {\r\n            return new Md5(true).update(message, isBinStr)[outputType]();\r\n        };\r\n    };\r\n\r\n    /**\r\n     * @method create\r\n     * @memberof md5\r\n     * @description Create Md5 object\r\n     * @returns {Md5} Md5 object.\r\n     * @example\r\n     * var hash = md5.create();\r\n     */\r\n    /**\r\n     * @method update\r\n     * @memberof md5\r\n     * @description Create and update Md5 object\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Md5} Md5 object.\r\n     * @example\r\n     * var hash = md5.update('The quick brown fox jumps over the lazy dog');\r\n     * // equal to\r\n     * var hash = md5.create();\r\n     * hash.update('The quick brown fox jumps over the lazy dog');\r\n     */\r\n    var createMethod = function () {\r\n        var method = createOutputMethod('hex');\r\n        if (NODE_JS) {\r\n            method = nodeWrap(method);\r\n        }\r\n        method.getCtx = method.create = function () {\r\n            return new Md5();\r\n        };\r\n        method.update = function (message) {\r\n            return method.create().update(message);\r\n        };\r\n        for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\r\n            var type = OUTPUT_TYPES[i];\r\n            method[type] = createOutputMethod(type);\r\n        }\r\n        return method;\r\n    };\r\n\r\n    var nodeWrap = function (method) {\r\n        var crypto = eval(\"require('crypto')\");\r\n        var Buffer = eval(\"require('buffer').Buffer\");\r\n        var nodeMethod = function (message) {\r\n            if (typeof message === 'string') {\r\n                return crypto.createHash('md5').update(message, 'utf8').digest('hex');\r\n            } else {\r\n                if (message === null || message === undefined) {\r\n                    throw ERROR;\r\n                } else if (message.constructor === ArrayBuffer) {\r\n                    message = new Uint8Array(message);\r\n                }\r\n            }\r\n            if (Array.isArray(message) || ArrayBuffer.isView(message) ||\r\n                message.constructor === Buffer) {\r\n                return crypto.createHash('md5').update(new Buffer(message)).digest('hex');\r\n            } else {\r\n                return method(message);\r\n            }\r\n        };\r\n        return nodeMethod;\r\n    };\r\n\r\n    /**\r\n     * Md5 class\r\n     * @class Md5\r\n     * @description This is internal class.\r\n     * @see {@link md5.create}\r\n     */\r\n    function Md5(sharedMemory) {\r\n        if (sharedMemory) {\r\n            blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\r\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\r\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\r\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\r\n            this.blocks = blocks;\r\n            this.buffer8 = buffer8;\r\n        } else {\r\n            if (ARRAY_BUFFER) {\r\n                var buffer = new ArrayBuffer(68);\r\n                this.buffer8 = new Uint8Array(buffer);\r\n                this.blocks = new Uint32Array(buffer);\r\n            } else {\r\n                this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\r\n            }\r\n        }\r\n        this.h0 = this.h1 = this.h2 = this.h3 = this.start = this.bytes = this.hBytes = 0;\r\n        this.finalized = this.hashed = false;\r\n        this.first = true;\r\n    }\r\n\r\n    /**\r\n     * @method update\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Update hash\r\n     * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n     * @returns {Md5} Md5 object.\r\n     * @see {@link md5.update}\r\n     */\r\n    Md5.prototype.update = function (message, isBinStr) {\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        if (typeof message === 'string' && isBinStr) message = decodeURIComponent(escape(message));\r\n\r\n        var notString, type = typeof message;\r\n        if (type !== 'string') {\r\n            if (type === 'object') {\r\n                if (message === null) {\r\n                    throw ERROR;\r\n                } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\r\n                    message = new Uint8Array(message);\r\n                } else if (!Array.isArray(message)) {\r\n                    if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\r\n                        throw ERROR;\r\n                    }\r\n                }\r\n            } else {\r\n                throw ERROR;\r\n            }\r\n            notString = true;\r\n        }\r\n        var code, index = 0, i, length = message.length, blocks = this.blocks;\r\n        var buffer8 = this.buffer8;\r\n\r\n        while (index < length) {\r\n            if (this.hashed) {\r\n                this.hashed = false;\r\n                blocks[0] = blocks[16];\r\n                blocks[16] = blocks[1] = blocks[2] = blocks[3] =\r\n                    blocks[4] = blocks[5] = blocks[6] = blocks[7] =\r\n                        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\r\n                            blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\r\n            }\r\n\r\n            if (notString) {\r\n                if (ARRAY_BUFFER) {\r\n                    for (i = this.start; index < length && i < 64; ++index) {\r\n                        buffer8[i++] = message[index];\r\n                    }\r\n                } else {\r\n                    for (i = this.start; index < length && i < 64; ++index) {\r\n                        blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\r\n                    }\r\n                }\r\n            } else {\r\n                if (ARRAY_BUFFER) {\r\n                    for (i = this.start; index < length && i < 64; ++index) {\r\n                        code = message.charCodeAt(index);\r\n                        if (code < 0x80) {\r\n                            buffer8[i++] = code;\r\n                        } else if (code < 0x800) {\r\n                            buffer8[i++] = 0xc0 | (code >> 6);\r\n                            buffer8[i++] = 0x80 | (code & 0x3f);\r\n                        } else if (code < 0xd800 || code >= 0xe000) {\r\n                            buffer8[i++] = 0xe0 | (code >> 12);\r\n                            buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\r\n                            buffer8[i++] = 0x80 | (code & 0x3f);\r\n                        } else {\r\n                            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\r\n                            buffer8[i++] = 0xf0 | (code >> 18);\r\n                            buffer8[i++] = 0x80 | ((code >> 12) & 0x3f);\r\n                            buffer8[i++] = 0x80 | ((code >> 6) & 0x3f);\r\n                            buffer8[i++] = 0x80 | (code & 0x3f);\r\n                        }\r\n                    }\r\n                } else {\r\n                    for (i = this.start; index < length && i < 64; ++index) {\r\n                        code = message.charCodeAt(index);\r\n                        if (code < 0x80) {\r\n                            blocks[i >> 2] |= code << SHIFT[i++ & 3];\r\n                        } else if (code < 0x800) {\r\n                            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\r\n                            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\r\n                        } else if (code < 0xd800 || code >= 0xe000) {\r\n                            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\r\n                            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\r\n                            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\r\n                        } else {\r\n                            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\r\n                            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\r\n                            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\r\n                            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\r\n                            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            this.lastByteIndex = i;\r\n            this.bytes += i - this.start;\r\n            if (i >= 64) {\r\n                this.start = i - 64;\r\n                this.hash();\r\n                this.hashed = true;\r\n            } else {\r\n                this.start = i;\r\n            }\r\n        }\r\n        if (this.bytes > 4294967295) {\r\n            this.hBytes += this.bytes / 4294967296 << 0;\r\n            this.bytes = this.bytes % 4294967296;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    Md5.prototype.finalize = function () {\r\n        if (this.finalized) {\r\n            return;\r\n        }\r\n        this.finalized = true;\r\n        var blocks = this.blocks, i = this.lastByteIndex;\r\n        blocks[i >> 2] |= EXTRA[i & 3];\r\n        if (i >= 56) {\r\n            if (!this.hashed) {\r\n                this.hash();\r\n            }\r\n            blocks[0] = blocks[16];\r\n            blocks[16] = blocks[1] = blocks[2] = blocks[3] =\r\n                blocks[4] = blocks[5] = blocks[6] = blocks[7] =\r\n                    blocks[8] = blocks[9] = blocks[10] = blocks[11] =\r\n                        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\r\n        }\r\n        blocks[14] = this.bytes << 3;\r\n        blocks[15] = this.hBytes << 3 | this.bytes >>> 29;\r\n        this.hash();\r\n    };\r\n\r\n    Md5.prototype.hash = function () {\r\n        var a, b, c, d, bc, da, blocks = this.blocks;\r\n\r\n        if (this.first) {\r\n            a = blocks[0] - 680876937;\r\n            a = (a << 7 | a >>> 25) - 271733879 << 0;\r\n            d = (-1732584194 ^ a & 2004318071) + blocks[1] - 117830708;\r\n            d = (d << 12 | d >>> 20) + a << 0;\r\n            c = (-271733879 ^ (d & (a ^ -271733879))) + blocks[2] - 1126478375;\r\n            c = (c << 17 | c >>> 15) + d << 0;\r\n            b = (a ^ (c & (d ^ a))) + blocks[3] - 1316259209;\r\n            b = (b << 22 | b >>> 10) + c << 0;\r\n        } else {\r\n            a = this.h0;\r\n            b = this.h1;\r\n            c = this.h2;\r\n            d = this.h3;\r\n            a += (d ^ (b & (c ^ d))) + blocks[0] - 680876936;\r\n            a = (a << 7 | a >>> 25) + b << 0;\r\n            d += (c ^ (a & (b ^ c))) + blocks[1] - 389564586;\r\n            d = (d << 12 | d >>> 20) + a << 0;\r\n            c += (b ^ (d & (a ^ b))) + blocks[2] + 606105819;\r\n            c = (c << 17 | c >>> 15) + d << 0;\r\n            b += (a ^ (c & (d ^ a))) + blocks[3] - 1044525330;\r\n            b = (b << 22 | b >>> 10) + c << 0;\r\n        }\r\n\r\n        a += (d ^ (b & (c ^ d))) + blocks[4] - 176418897;\r\n        a = (a << 7 | a >>> 25) + b << 0;\r\n        d += (c ^ (a & (b ^ c))) + blocks[5] + 1200080426;\r\n        d = (d << 12 | d >>> 20) + a << 0;\r\n        c += (b ^ (d & (a ^ b))) + blocks[6] - 1473231341;\r\n        c = (c << 17 | c >>> 15) + d << 0;\r\n        b += (a ^ (c & (d ^ a))) + blocks[7] - 45705983;\r\n        b = (b << 22 | b >>> 10) + c << 0;\r\n        a += (d ^ (b & (c ^ d))) + blocks[8] + 1770035416;\r\n        a = (a << 7 | a >>> 25) + b << 0;\r\n        d += (c ^ (a & (b ^ c))) + blocks[9] - 1958414417;\r\n        d = (d << 12 | d >>> 20) + a << 0;\r\n        c += (b ^ (d & (a ^ b))) + blocks[10] - 42063;\r\n        c = (c << 17 | c >>> 15) + d << 0;\r\n        b += (a ^ (c & (d ^ a))) + blocks[11] - 1990404162;\r\n        b = (b << 22 | b >>> 10) + c << 0;\r\n        a += (d ^ (b & (c ^ d))) + blocks[12] + 1804603682;\r\n        a = (a << 7 | a >>> 25) + b << 0;\r\n        d += (c ^ (a & (b ^ c))) + blocks[13] - 40341101;\r\n        d = (d << 12 | d >>> 20) + a << 0;\r\n        c += (b ^ (d & (a ^ b))) + blocks[14] - 1502002290;\r\n        c = (c << 17 | c >>> 15) + d << 0;\r\n        b += (a ^ (c & (d ^ a))) + blocks[15] + 1236535329;\r\n        b = (b << 22 | b >>> 10) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[1] - 165796510;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[6] - 1069501632;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[11] + 643717713;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[0] - 373897302;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[5] - 701558691;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[10] + 38016083;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[15] - 660478335;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[4] - 405537848;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[9] + 568446438;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[14] - 1019803690;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[3] - 187363961;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[8] + 1163531501;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        a += (c ^ (d & (b ^ c))) + blocks[13] - 1444681467;\r\n        a = (a << 5 | a >>> 27) + b << 0;\r\n        d += (b ^ (c & (a ^ b))) + blocks[2] - 51403784;\r\n        d = (d << 9 | d >>> 23) + a << 0;\r\n        c += (a ^ (b & (d ^ a))) + blocks[7] + 1735328473;\r\n        c = (c << 14 | c >>> 18) + d << 0;\r\n        b += (d ^ (a & (c ^ d))) + blocks[12] - 1926607734;\r\n        b = (b << 20 | b >>> 12) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[5] - 378558;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[8] - 2022574463;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[11] + 1839030562;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[14] - 35309556;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[1] - 1530992060;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[4] + 1272893353;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[7] - 155497632;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[10] - 1094730640;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[13] + 681279174;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[0] - 358537222;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[3] - 722521979;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[6] + 76029189;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        bc = b ^ c;\r\n        a += (bc ^ d) + blocks[9] - 640364487;\r\n        a = (a << 4 | a >>> 28) + b << 0;\r\n        d += (bc ^ a) + blocks[12] - 421815835;\r\n        d = (d << 11 | d >>> 21) + a << 0;\r\n        da = d ^ a;\r\n        c += (da ^ b) + blocks[15] + 530742520;\r\n        c = (c << 16 | c >>> 16) + d << 0;\r\n        b += (da ^ c) + blocks[2] - 995338651;\r\n        b = (b << 23 | b >>> 9) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[0] - 198630844;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[7] + 1126891415;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[14] - 1416354905;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[5] - 57434055;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[12] + 1700485571;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[3] - 1894986606;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[10] - 1051523;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[1] - 2054922799;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[8] + 1873313359;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[15] - 30611744;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[6] - 1560198380;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[13] + 1309151649;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n        a += (c ^ (b | ~d)) + blocks[4] - 145523070;\r\n        a = (a << 6 | a >>> 26) + b << 0;\r\n        d += (b ^ (a | ~c)) + blocks[11] - 1120210379;\r\n        d = (d << 10 | d >>> 22) + a << 0;\r\n        c += (a ^ (d | ~b)) + blocks[2] + 718787259;\r\n        c = (c << 15 | c >>> 17) + d << 0;\r\n        b += (d ^ (c | ~a)) + blocks[9] - 343485551;\r\n        b = (b << 21 | b >>> 11) + c << 0;\r\n\r\n        if (this.first) {\r\n            this.h0 = a + 1732584193 << 0;\r\n            this.h1 = b - 271733879 << 0;\r\n            this.h2 = c - 1732584194 << 0;\r\n            this.h3 = d + 271733878 << 0;\r\n            this.first = false;\r\n        } else {\r\n            this.h0 = this.h0 + a << 0;\r\n            this.h1 = this.h1 + b << 0;\r\n            this.h2 = this.h2 + c << 0;\r\n            this.h3 = this.h3 + d << 0;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @method hex\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as hex string\r\n     * @returns {String} Hex string\r\n     * @see {@link md5.hex}\r\n     * @example\r\n     * hash.hex();\r\n     */\r\n    Md5.prototype.hex = function () {\r\n        this.finalize();\r\n\r\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\r\n\r\n        return HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\r\n            HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\r\n            HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\r\n            HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\r\n            HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\r\n            HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\r\n            HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\r\n            HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\r\n            HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\r\n            HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F];\r\n    };\r\n\r\n    /**\r\n     * @method toString\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as hex string\r\n     * @returns {String} Hex string\r\n     * @see {@link md5.hex}\r\n     * @example\r\n     * hash.toString();\r\n     */\r\n    Md5.prototype.toString = Md5.prototype.hex;\r\n\r\n    /**\r\n     * @method digest\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as bytes array\r\n     * @returns {Array} Bytes array\r\n     * @see {@link md5.digest}\r\n     * @example\r\n     * hash.digest();\r\n     */\r\n    Md5.prototype.digest = function (format) {\r\n        if (format === 'hex') return this.hex();\r\n        this.finalize();\r\n\r\n        var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3;\r\n        var res = [\r\n            h0 & 0xFF, (h0 >> 8) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 24) & 0xFF,\r\n            h1 & 0xFF, (h1 >> 8) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 24) & 0xFF,\r\n            h2 & 0xFF, (h2 >> 8) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 24) & 0xFF,\r\n            h3 & 0xFF, (h3 >> 8) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 24) & 0xFF\r\n        ];\r\n        return res;\r\n    };\r\n\r\n    /**\r\n     * @method array\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as bytes array\r\n     * @returns {Array} Bytes array\r\n     * @see {@link md5.array}\r\n     * @example\r\n     * hash.array();\r\n     */\r\n    Md5.prototype.array = Md5.prototype.digest;\r\n\r\n    /**\r\n     * @method arrayBuffer\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as ArrayBuffer\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @see {@link md5.arrayBuffer}\r\n     * @example\r\n     * hash.arrayBuffer();\r\n     */\r\n    Md5.prototype.arrayBuffer = function () {\r\n        this.finalize();\r\n\r\n        var buffer = new ArrayBuffer(16);\r\n        var blocks = new Uint32Array(buffer);\r\n        blocks[0] = this.h0;\r\n        blocks[1] = this.h1;\r\n        blocks[2] = this.h2;\r\n        blocks[3] = this.h3;\r\n        return buffer;\r\n    };\r\n\r\n    /**\r\n     * @method buffer\r\n     * @deprecated This maybe confuse with Buffer in node.js. Please use arrayBuffer instead.\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as ArrayBuffer\r\n     * @returns {ArrayBuffer} ArrayBuffer\r\n     * @see {@link md5.buffer}\r\n     * @example\r\n     * hash.buffer();\r\n     */\r\n    Md5.prototype.buffer = Md5.prototype.arrayBuffer;\r\n\r\n    /**\r\n     * @method base64\r\n     * @memberof Md5\r\n     * @instance\r\n     * @description Output hash as base64 string\r\n     * @returns {String} base64 string\r\n     * @see {@link md5.base64}\r\n     * @example\r\n     * hash.base64();\r\n     */\r\n    Md5.prototype.base64 = function () {\r\n        var v1, v2, v3, base64Str = '', bytes = this.array();\r\n        for (var i = 0; i < 15;) {\r\n            v1 = bytes[i++];\r\n            v2 = bytes[i++];\r\n            v3 = bytes[i++];\r\n            base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\r\n                BASE64_ENCODE_CHAR[(v1 << 4 | v2 >>> 4) & 63] +\r\n                BASE64_ENCODE_CHAR[(v2 << 2 | v3 >>> 6) & 63] +\r\n                BASE64_ENCODE_CHAR[v3 & 63];\r\n        }\r\n        v1 = bytes[i];\r\n        base64Str += BASE64_ENCODE_CHAR[v1 >>> 2] +\r\n            BASE64_ENCODE_CHAR[(v1 << 4) & 63] +\r\n            '==';\r\n        return base64Str;\r\n    };\r\n\r\n    var exports = createMethod();\r\n\r\n    if (COMMON_JS) {\r\n        module.exports = exports;\r\n    } else {\r\n        /**\r\n         * @method md5\b\r\n         * @description Md5 hash function, export to global in browsers.\r\n         * @param {String|Array|Uint8Array|ArrayBuffer} message message to hash\r\n         * @returns {String} md5 hashes\r\n         * @example\r\n         * md5(''); // d41d8cd98f00b204e9800998ecf8427e\r\n         * md5('The quick brown fox jumps over the lazy dog'); // 9e107d9d372bb6826bd81d3542a419d6\r\n         * md5('The quick brown fox jumps over the lazy dog.'); // e4d909c290d0fb1ca068ffaddf22cbd0\r\n         *\r\n         * // It also supports UTF-8 encoding\r\n         * md5(''); // a7bac2239fcdcb3a067903d8077c4a07\r\n         *\r\n         * // It also supports byte `Array`, `Uint8Array`, `ArrayBuffer`\r\n         * md5([]); // d41d8cd98f00b204e9800998ecf8427e\r\n         * md5(new Uint8Array([])); // d41d8cd98f00b204e9800998ecf8427e\r\n         */\r\n        root.md5 = exports;\r\n        if (AMD) {\r\n            define(function () {\r\n                return exports;\r\n            });\r\n        }\r\n    }\r\n})();\r\n","var REQUEST = require('../lib/request');\r\nvar util = require('./util');\r\n\r\n\r\n// Bucket \r\n\r\n/**\r\n *  bucket \r\n * @param  {Object}  params         \r\n * \r\n * @param  {Function}  callback     \r\n */\r\nfunction getService(params, callback) {\r\n\r\n    if (typeof params === 'function') {\r\n        callback = params;\r\n        params = {};\r\n    }\r\n    var protocol = this.options.Protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\r\n    var domain = this.options.ServiceDomain;\r\n    var appId = params.AppId || this.options.appId;\r\n    var region = params.Region;\r\n    if (domain) {\r\n        domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId || '')\r\n            .replace(/\\{\\{Region\\}\\}/ig, region || '').replace(/\\{\\{.*?\\}\\}/ig, '');\r\n        if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\r\n            domain = protocol + '//' + domain;\r\n        }\r\n        if (domain.slice(-1) === '/') {\r\n            domain = domain.slice(0, -1);\r\n        }\r\n    } else if (region) {\r\n        domain = protocol + '//cos.' + region + '.myqcloud.com';\r\n    } else {\r\n        domain = protocol + '//service.cos.myqcloud.com';\r\n    }\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetService',\r\n        url: domain,\r\n        method: 'GET',\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var buckets = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Buckets\r\n            && data.ListAllMyBucketsResult.Buckets.Bucket) || [];\r\n        buckets = util.isArray(buckets) ? buckets : [buckets];\r\n        var owner = (data && data.ListAllMyBucketsResult && data.ListAllMyBucketsResult.Owner) || {};\r\n        callback(null, {\r\n            Buckets: buckets,\r\n            Owner: owner,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket\r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n *     @param  {String}  params.ACL                 privatepublic-readprivate\r\n *     @param  {String}  params.GrantRead           x-cos-grant-read: uin=\" \",uin=\" \"\r\n *     @param  {String}  params.GrantWrite          x-cos-grant-write: uin=\" \",uin=\" \"\r\n *     @param  {String}  params.GrantFullControl    x-cos-grant-full-control: uin=\" \",uin=\" \"\r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          \r\n *     @return  {String}  data.Location             \r\n */\r\nfunction putBucket(params, callback) {\r\n\r\n    var self = this;\r\n\r\n    var xml = '';\r\n    if(params['BucketAZConfig']){\r\n        var CreateBucketConfiguration = {\r\n            BucketAZConfig: params.BucketAZConfig\r\n        };\r\n        xml = util.json2xml({CreateBucketConfiguration: CreateBucketConfiguration});\r\n    }\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucket',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var url = getUrl({\r\n            protocol: self.options.Protocol,\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            isLocation: true,\r\n        });\r\n        callback(null, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Bucket\r\n * @param  {Object}  params                     \r\n *     @param  {String}  params.Bucket          Bucket\r\n *     @param  {String}  params.Region          \r\n * @param  {Function}  callback                 \r\n * @return  {Object}  err                       https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                      \r\n *     @return  {Boolean}  data.BucketExist     Bucket\r\n *     @return  {Boolean}  data.BucketAuth       Bucket \r\n */\r\nfunction headBucket(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:HeadBucket',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        method: 'HEAD',\r\n    }, function (err, data) {\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  object \r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n *     @param  {String}  params.Prefix              \r\n *     @param  {String}  params.Delimiter           PrefixPrefixdelimiter\r\n *     @param  {String}  params.Marker              UTF-8marker\r\n *     @param  {String}  params.MaxKeys             1000\r\n *     @param  {String}  params.EncodingType        \r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          \r\n *     @return  {Object}  data.ListBucketResult      object \r\n */\r\nfunction getBucket(params, callback) {\r\n    var reqParams = {};\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['marker'] = params['Marker'];\r\n    reqParams['max-keys'] = params['MaxKeys'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucket',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListBucketResult = data.ListBucketResult || {};\r\n        var Contents = ListBucketResult.Contents || [];\r\n        var CommonPrefixes = ListBucketResult.CommonPrefixes || [];\r\n\r\n        Contents = util.isArray(Contents) ? Contents : [Contents];\r\n        CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\r\n\r\n        var result = util.clone(ListBucketResult);\r\n        util.extend(result, {\r\n            Contents: Contents,\r\n            CommonPrefixes: CommonPrefixes,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket\r\n * @param  {Object}  params                 \r\n *     @param  {String}  params.Bucket      Bucket\r\n *     @param  {String}  params.Region      \r\n * @param  {Function}  callback             \r\n * @return  {Object}  err                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  \r\n *     @return  {String}  data.Location     \r\n */\r\nfunction deleteBucket(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucket',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        method: 'DELETE',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n *     @param  {String}  params.ACL                 privatepublic-readprivate\r\n *     @param  {String}  params.GrantRead           x-cos-grant-read: uin=\" \",uin=\" \"\r\n *     @param  {String}  params.GrantWrite          x-cos-grant-write: uin=\" \",uin=\" \"\r\n *     @param  {String}  params.GrantFullControl    x-cos-grant-full-control: uin=\" \",uin=\" \"\r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          \r\n */\r\nfunction putBucketAcl(params, callback) {\r\n    var headers = params.Headers;\r\n\r\n    var xml = '';\r\n    if (params['AccessControlPolicy']) {\r\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\r\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\r\n        Grants = util.isArray(Grants) ? Grants : [Grants];\r\n        delete AccessControlPolicy.Grant;\r\n        delete AccessControlPolicy.Grants;\r\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\r\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\r\n\r\n        headers['Content-Type'] = 'application/xml';\r\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n    }\r\n\r\n    // Grant Header \r\n    util.each(headers, function (val, key) {\r\n        if (key.indexOf('x-cos-grant-') === 0) {\r\n            headers[key] = uniqGrant(headers[key]);\r\n        }\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketACL',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: headers,\r\n        action: 'acl',\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          \r\n *     @return  {Object}  data.AccessControlPolicy  \r\n */\r\nfunction getBucketAcl(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketACL',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'acl',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var AccessControlPolicy = data.AccessControlPolicy || {};\r\n        var Owner = AccessControlPolicy.Owner || {};\r\n        var Grant = AccessControlPolicy.AccessControlList.Grant || [];\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n        var result = decodeAcl(AccessControlPolicy);\r\n        if (data.headers && data.headers['x-cos-acl']) {\r\n            result.ACL = data.headers['x-cos-acl'];\r\n        }\r\n        result = util.extend(result, {\r\n            Owner: Owner,\r\n            Grants: Grant,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params                             \r\n *     @param  {String}  params.Bucket                  Bucket\r\n *     @param  {String}  params.Region                  \r\n *     @param  {Object}  params.CORSConfiguration       \r\n * @param  {Array}  params.CORSConfiguration.CORSRules  \r\n * @param  {Function}  callback                         \r\n * @return  {Object}  err                               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              \r\n */\r\nfunction putBucketCors(params, callback) {\r\n\r\n    var CORSConfiguration = params['CORSConfiguration'] || {};\r\n    var CORSRules = CORSConfiguration['CORSRules'] || params['CORSRules'] || [];\r\n    CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\r\n    util.each(CORSRules, function (rule) {\r\n        util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\r\n            var sKey = key + 's';\r\n            var val = rule[sKey] || rule[key] || [];\r\n            delete rule[sKey];\r\n            rule[key] = util.isArray(val) ? val : [val];\r\n        });\r\n    });\r\n\r\n    var xml = util.json2xml({CORSConfiguration: {CORSRule: CORSRules}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketCORS',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'cors',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          \r\n *     @return  {Object}  data.CORSRules            Bucket\r\n */\r\nfunction getBucketCors(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketCORS',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'cors',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchCORSConfiguration') {\r\n                var result = {\r\n                    CORSRules: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var CORSConfiguration = data.CORSConfiguration || {};\r\n        var CORSRules = CORSConfiguration.CORSRules || CORSConfiguration.CORSRule || [];\r\n        CORSRules = util.clone(util.isArray(CORSRules) ? CORSRules : [CORSRules]);\r\n\r\n        util.each(CORSRules, function (rule) {\r\n            util.each(['AllowedOrigin', 'AllowedHeader', 'AllowedMethod', 'ExposeHeader'], function (key) {\r\n                var sKey = key + 's';\r\n                var val = rule[sKey] || rule[key] || [];\r\n                delete rule[key];\r\n                rule[sKey] = util.isArray(val) ? val : [val];\r\n            });\r\n        });\r\n\r\n        callback(null, {\r\n            CORSRules: CORSRules,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params                 \r\n *     @param  {String}  params.Bucket      Bucket\r\n *     @param  {String}  params.Region      \r\n * @param  {Function}  callback             \r\n * @return  {Object}  err                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  \r\n */\r\nfunction deleteBucketCors(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketCORS',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'cors',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode || err.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data               LocationConstraint\r\n */\r\nfunction getBucketLocation(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLocation',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'location',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\nfunction putBucketPolicy(params, callback) {\r\n    var PolicyStr = params['Policy'];\r\n    if (typeof PolicyStr !== 'string') PolicyStr = JSON.stringify(PolicyStr);\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/json';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(PolicyStr));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketPolicy',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        action: 'policy',\r\n        body: PolicyStr,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketPolicy(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketPolicy',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'policy',\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 403) {\r\n                return callback({ErrorStatus: 'Access Denied'});\r\n            }\r\n            if (err.statusCode && err.statusCode === 405) {\r\n                return callback({ErrorStatus: 'Method Not Allowed'});\r\n            }\r\n            if (err.statusCode && err.statusCode === 404) {\r\n                return callback({ErrorStatus: 'Policy Not Found'});\r\n            }\r\n            return callback(err);\r\n        }\r\n        var Policy = {};\r\n        try {\r\n            Policy = JSON.parse(data.body);\r\n        } catch (e) {\r\n        }\r\n        callback(null, {\r\n            Policy: Policy,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params                 \r\n *     @param  {String}  params.Bucket      Bucket\r\n *     @param  {String}  params.Region      \r\n * @param  {Function}  callback             \r\n * @return  {Object}  err                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                  \r\n */\r\nfunction deleteBucketPolicy(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketPolicy',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'policy',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode || err.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n *     @param  {Array}   params.TagSet  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction putBucketTagging(params, callback) {\r\n\r\n    var Tagging = params['Tagging'] || {};\r\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\r\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketTagging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'tagging',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketTagging(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketTagging',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\r\n                var result = {\r\n                    Tags: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Tags = [];\r\n        try {\r\n            Tags = data.Tagging.TagSet.Tag || [];\r\n        } catch (e) {\r\n        }\r\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n        callback(null, {\r\n            Tags: Tags,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket  \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction deleteBucketTagging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketTagging',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketLifecycle(params, callback) {\r\n\r\n    var LifecycleConfiguration = params['LifecycleConfiguration'] || {};\r\n    var Rules = LifecycleConfiguration.Rules || params.Rules || [];\r\n    Rules = util.clone(Rules);\r\n    var xml = util.json2xml({LifecycleConfiguration: {Rule: Rules}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketLifecycle',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'lifecycle',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketLifecycle(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLifecycle',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'lifecycle',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && err.error.Code === 'NoSuchLifecycleConfiguration') {\r\n                var result = {\r\n                    Rules: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Rules = [];\r\n        try {\r\n            Rules = data.LifecycleConfiguration.Rule || [];\r\n        } catch (e) {\r\n        }\r\n        Rules = util.clone(util.isArray(Rules) ? Rules : [Rules]);\r\n        callback(null, {\r\n            Rules: Rules,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction deleteBucketLifecycle(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketLifecycle',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'lifecycle',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction putBucketVersioning(params, callback) {\r\n\r\n    if (!params['VersioningConfiguration']) {\r\n        callback({error: 'missing param VersioningConfiguration'});\r\n        return;\r\n    }\r\n    var VersioningConfiguration = params['VersioningConfiguration'] || {};\r\n    var xml = util.json2xml({VersioningConfiguration: VersioningConfiguration});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketVersioning',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'versioning',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketVersioning(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketVersioning',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'versioning',\r\n    }, function (err, data) {\r\n        if (!err) {\r\n            !data.VersioningConfiguration && (data.VersioningConfiguration = {});\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction putBucketReplication(params, callback) {\r\n    var ReplicationConfiguration = util.clone(params.ReplicationConfiguration);\r\n    var xml = util.json2xml({ReplicationConfiguration: ReplicationConfiguration});\r\n    xml = xml.replace(/<(\\/?)Rules>/ig, '<$1Rule>');\r\n    xml = xml.replace(/<(\\/?)Tags>/ig, '<$1Tag>');\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketReplication',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'replication',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketReplication(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketReplication',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'replication',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === 'Not Found' || err.error.Code === 'ReplicationConfigurationnotFoundError')) {\r\n                var result = {\r\n                    ReplicationConfiguration: {Rules: []},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        if (!err) {\r\n            !data.ReplicationConfiguration && (data.ReplicationConfiguration = {});\r\n        }\r\n        if (data.ReplicationConfiguration.Rule) {\r\n            data.ReplicationConfiguration.Rules = data.ReplicationConfiguration.Rule;\r\n            delete data.ReplicationConfiguration.Rule;\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\nfunction deleteBucketReplication(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketReplication',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'replication',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params                                                 \r\n *     @param  {String}  params.Bucket                                      Bucket\r\n *     @param  {String}  params.Region                                      \r\n *     @param  {Object}  params.WebsiteConfiguration                        \r\n *         @param  {Object}   WebsiteConfiguration.IndexDocument            \r\n *         @param  {Object}   WebsiteConfiguration.ErrorDocument            \r\n *         @param  {Object}   WebsiteConfiguration.RedirectAllRequestsTo    \r\n *         @param  {Array}   params.RoutingRules                            \r\n * @param  {Function}  callback                                             \r\n * @return  {Object}  err                                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  \r\n */\r\nfunction putBucketWebsite(params, callback) {\r\n\r\n    if (!params['WebsiteConfiguration']) {\r\n        callback({ error: 'missing param WebsiteConfiguration' });\r\n        return;\r\n    }\r\n\r\n    var WebsiteConfiguration = util.clone(params['WebsiteConfiguration'] || {});\r\n    var RoutingRules = WebsiteConfiguration['RoutingRules'] || WebsiteConfiguration['RoutingRule'] || [];\r\n    RoutingRules = util.isArray(RoutingRules) ? RoutingRules : [RoutingRules];\r\n    delete WebsiteConfiguration.RoutingRule;\r\n    delete WebsiteConfiguration.RoutingRules;\r\n    if (RoutingRules.length) WebsiteConfiguration.RoutingRules = { RoutingRule: RoutingRules };\r\n    var xml = util.json2xml({ WebsiteConfiguration: WebsiteConfiguration });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketWebsite',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'website',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketWebsite(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketWebsite',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'website',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchWebsiteConfiguration'){\r\n                var result = {\r\n                    WebsiteConfiguration: {},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        var WebsiteConfiguration = data.WebsiteConfiguration || {};\r\n        if (WebsiteConfiguration['RoutingRules']) {\r\n            var RoutingRules = util.clone(WebsiteConfiguration['RoutingRules'].RoutingRule || []);\r\n            RoutingRules = util.makeArray(RoutingRules);\r\n            WebsiteConfiguration.RoutingRules = RoutingRules;\r\n        }\r\n\r\n        callback(null, {\r\n            WebsiteConfiguration: WebsiteConfiguration,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction deleteBucketWebsite(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketWebsite',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'website',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params                                                 \r\n *     @param  {String}  params.Bucket                                      Bucket\r\n *     @param  {String}  params.Region                                      \r\n *     @param  {Object}  params.RefererConfiguration                        \r\n *         @param  {String}   RefererConfiguration.Status                   EnabledDisabled\r\n *         @param  {String}   RefererConfiguration.RefererType              Black-ListWhite-List\r\n *         @param  {Array}   RefererConfiguration.DomianList.Domain         \r\n *         @param  {String}   RefererConfiguration.EmptyReferConfiguration  \r\n * @param  {Function}  callback                                             \r\n * @return  {Object}  err                                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  \r\n */\r\nfunction putBucketReferer(params, callback) {\r\n\r\n    if (!params['RefererConfiguration']) {\r\n        callback({ error: 'missing param RefererConfiguration' });\r\n        return;\r\n    }\r\n\r\n    var RefererConfiguration = util.clone(params['RefererConfiguration'] || {});\r\n    var DomainList = RefererConfiguration['DomainList'] || {};\r\n    var Domains = DomainList['Domains'] || DomainList['Domain'] || [];\r\n    Domains = util.isArray(Domains) ? Domains : [Domains];\r\n    if (Domains.length) RefererConfiguration.DomainList = {Domain: Domains};\r\n    var xml = util.json2xml({ RefererConfiguration: RefererConfiguration });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketReferer',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'referer',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketReferer(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketReferer',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'referer',\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if(err.statusCode === 404 && err.error.Code === 'NoSuchRefererConfiguration'){\r\n                var result = {\r\n                    WebsiteConfiguration: {},\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n\r\n        var RefererConfiguration = data.RefererConfiguration || {};\r\n        if (RefererConfiguration['DomainList']) {\r\n            var Domains = util.clone(RefererConfiguration['DomainList'].Domain || []);\r\n            Domains = util.makeArray(Domains);\r\n            RefererConfiguration.DomainList = {Domains: Domains};\r\n        }\r\n\r\n        callback(null, {\r\n            RefererConfiguration: RefererConfiguration,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params                                                 \r\n *     @param  {String}  params.Bucket                                      Bucket\r\n *     @param  {String}  params.Region                                      \r\n * @param  {Function}  callback                                             \r\n * @return  {Object}  err                                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  \r\n */\r\nfunction putBucketDomain(params, callback) {\r\n\r\n    var DomainConfiguration = params['DomainConfiguration'] || {};\r\n    var DomainRule = DomainConfiguration.DomainRule || params.DomainRule || [];\r\n    DomainRule = util.clone(DomainRule);\r\n    var xml = util.json2xml({DomainConfiguration: {DomainRule: DomainRule}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketDomain',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'domain',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketDomain(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketDomain',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'domain',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        var DomainRule = [];\r\n        try {\r\n            DomainRule = data.DomainConfiguration.DomainRule || [];\r\n        } catch (e) {\r\n        }\r\n        DomainRule = util.clone(util.isArray(DomainRule) ? DomainRule : [DomainRule]);\r\n        callback(null, {\r\n            DomainRule: DomainRule,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction deleteBucketDomain(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketDomain',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'domain',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params                                                 \r\n *     @param  {String}  params.Bucket                                      Bucket\r\n *     @param  {String}  params.Region                                      \r\n * @param  {Function}  callback                                             \r\n * @return  {Object}  err                                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  \r\n */\r\nfunction putBucketOrigin(params, callback){\r\n    var OriginConfiguration = params['OriginConfiguration'] || {};\r\n    var OriginRule = OriginConfiguration.OriginRule || params.OriginRule || [];\r\n    OriginRule = util.clone(OriginRule);\r\n    var xml = util.json2xml({OriginConfiguration: {OriginRule: OriginRule}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketOrigin',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'origin',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketOrigin(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketOrigin',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'origin',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        var OriginRule = [];\r\n        try {\r\n            OriginRule = data.OriginConfiguration.OriginRule || [];\r\n        } catch (e) {\r\n        }\r\n        OriginRule = util.clone(util.isArray(OriginRule) ? OriginRule : [OriginRule]);\r\n        callback(null, {\r\n            OriginRule: OriginRule,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction deleteBucketOrigin(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketOrigin',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'origin',\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params                                                 \r\n *     @param  {String}  params.Bucket                                      Bucket\r\n *     @param  {String}  params.Region                                      \r\n *     @param  {(Object|String)}  params.BucketLoggingStatus                         \r\n * @param  {Function}  callback                                             \r\n * @return  {Object}  err                                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  \r\n */\r\nfunction putBucketLogging(params, callback) {\r\n    var xml = util.json2xml({\r\n        BucketLoggingStatus: params['BucketLoggingStatus'] || ''\r\n    });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketLogging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'logging',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketLogging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketLogging',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'logging',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            BucketLoggingStatus: data.BucketLoggingStatus,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * / Bucket \r\n * @param  {Object}  params                                                 \r\n *     @param  {String}  params.Bucket                                      Bucket\r\n *     @param  {String}  params.Region                                      \r\n *     @param  {String}  params.Id                                          \r\n *     @param  {Object}  params.InventoryConfiguration                      \r\n * @param  {Function}  callback                                             \r\n * @return  {Object}  err                                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                                  \r\n */\r\nfunction putBucketInventory(params, callback) {\r\n    var InventoryConfiguration = util.clone(params['InventoryConfiguration']);\r\n\r\n    if (InventoryConfiguration.OptionalFields) {\r\n        var Field = InventoryConfiguration.OptionalFields || [];\r\n        InventoryConfiguration.OptionalFields = {\r\n            Field: Field\r\n        };\r\n    }\r\n\r\n    if (InventoryConfiguration.Destination\r\n        && InventoryConfiguration.Destination.COSBucketDestination\r\n        && InventoryConfiguration.Destination.COSBucketDestination.Encryption\r\n    ) {\r\n        var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\r\n        if (Object.keys(Encryption).indexOf('SSECOS') > -1) {\r\n            Encryption['SSE-COS'] = Encryption['SSECOS'];\r\n            delete Encryption['SSECOS'];\r\n        }\r\n    }\r\n\r\n    var xml = util.json2xml({\r\n        InventoryConfiguration: InventoryConfiguration\r\n    });\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketInventory',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'inventory',\r\n        qs: {\r\n            id: params['Id']\r\n        },\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n *     @param  {String}  params.Id      \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction getBucketInventory(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketInventory',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'inventory',\r\n        qs: {\r\n            id: params['Id']\r\n        }\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        var InventoryConfiguration = data['InventoryConfiguration'];\r\n        if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\r\n            var Field = InventoryConfiguration.OptionalFields.Field;\r\n            if (!util.isArray(Field)) {\r\n                Field = [Field];\r\n            }\r\n            InventoryConfiguration.OptionalFields = Field;\r\n        }\r\n        if (InventoryConfiguration.Destination\r\n            && InventoryConfiguration.Destination.COSBucketDestination\r\n            && InventoryConfiguration.Destination.COSBucketDestination.Encryption\r\n        ) {\r\n            var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\r\n            if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\r\n                Encryption['SSECOS'] = Encryption['SSE-COS'];\r\n                delete Encryption['SSE-COS'];\r\n            }\r\n        }\r\n\r\n        callback(null, {\r\n            InventoryConfiguration: InventoryConfiguration,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params                             \r\n *     @param  {String}  params.Bucket                  Bucket\r\n *     @param  {String}  params.Region                  \r\n *     @param  {String}  params.ContinuationToken        COS  IsTruncated  true NextContinuationToken  continuation-token \r\n * @param  {Function}  callback                         \r\n * @return  {Object}  err                               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              \r\n */\r\nfunction listBucketInventory(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListBucketInventory',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'inventory',\r\n        qs: {\r\n            'continuation-token': params['ContinuationToken']\r\n        }\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListInventoryConfigurationResult = data['ListInventoryConfigurationResult'];\r\n        var InventoryConfigurations = ListInventoryConfigurationResult.InventoryConfiguration || [];\r\n        InventoryConfigurations = util.isArray(InventoryConfigurations) ? InventoryConfigurations : [InventoryConfigurations];\r\n        delete ListInventoryConfigurationResult['InventoryConfiguration'];\r\n        util.each(InventoryConfigurations, function (InventoryConfiguration) {\r\n            if (InventoryConfiguration && InventoryConfiguration.OptionalFields && InventoryConfiguration.OptionalFields.Field) {\r\n                var Field = InventoryConfiguration.OptionalFields.Field;\r\n                if (!util.isArray(Field)) {\r\n                    Field = [Field];\r\n                }\r\n                InventoryConfiguration.OptionalFields = Field;\r\n            }\r\n\r\n            if (InventoryConfiguration.Destination\r\n                && InventoryConfiguration.Destination.COSBucketDestination\r\n                && InventoryConfiguration.Destination.COSBucketDestination.Encryption\r\n            ) {\r\n                var Encryption = InventoryConfiguration.Destination.COSBucketDestination.Encryption;\r\n                if (Object.keys(Encryption).indexOf('SSE-COS') > -1) {\r\n                    Encryption['SSECOS'] = Encryption['SSE-COS'];\r\n                    delete Encryption['SSE-COS'];\r\n                }\r\n            }\r\n        });\r\n        ListInventoryConfigurationResult.InventoryConfigurations = InventoryConfigurations;\r\n        util.extend(ListInventoryConfigurationResult, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, ListInventoryConfigurationResult);\r\n    });\r\n}\r\n\r\n/**\r\n *  Bucket \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n *     @param  {String}  params.Id      \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction deleteBucketInventory(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteBucketInventory',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'inventory',\r\n        qs: {\r\n            id: params['Id']\r\n        }\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/*  */\r\nfunction putBucketAccelerate(params, callback) {\r\n\r\n    if (!params['AccelerateConfiguration']) {\r\n        callback({error: 'missing param AccelerateConfiguration'});\r\n        return;\r\n    }\r\n\r\n    var configuration = { AccelerateConfiguration: params.AccelerateConfiguration || {} };\r\n\r\n    var xml = util.json2xml(configuration);\r\n\r\n    var headers = {};\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutBucketAccelerate',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'accelerate',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\nfunction getBucketAccelerate(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketAccelerate',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        action: 'accelerate',\r\n    }, function (err, data) {\r\n        if (!err) {\r\n            !data.AccelerateConfiguration && (data.AccelerateConfiguration = {});\r\n        }\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n// Object \r\n\r\n/**\r\n * ObjectHeadGet\r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n *     @param  {String}  params.Key                 \r\n *     @param  {String}  params.IfModifiedSince     ObjectObject304\r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                           object  IfModifiedSince NotModified  true\r\n *     @return  {Boolean}  data.NotModified          IfModifiedSince  object true\r\n */\r\nfunction headObject(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:HeadObject',\r\n        method: 'HEAD',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\r\n                return callback(null, {\r\n                    NotModified: true,\r\n                    statusCode: statusCode,\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n        data.ETag = util.attr(data.headers, 'etag', '');\r\n        callback(null, data);\r\n    });\r\n}\r\n\r\n\r\nfunction listObjectVersions(params, callback) {\r\n    var reqParams = {};\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['key-marker'] = params['KeyMarker'];\r\n    reqParams['version-id-marker'] = params['VersionIdMarker'];\r\n    reqParams['max-keys'] = params['MaxKeys'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetBucketObjectVersions',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        action: 'versions',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListVersionsResult = data.ListVersionsResult || {};\r\n        var DeleteMarkers = ListVersionsResult.DeleteMarker || [];\r\n        DeleteMarkers = util.isArray(DeleteMarkers) ? DeleteMarkers : [DeleteMarkers];\r\n        var Versions = ListVersionsResult.Version || [];\r\n        Versions = util.isArray(Versions) ? Versions : [Versions];\r\n\r\n        var result = util.clone(ListVersionsResult);\r\n        delete result.DeleteMarker;\r\n        delete result.Version;\r\n        util.extend(result, {\r\n            DeleteMarkers: DeleteMarkers,\r\n            Versions: Versions,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n *  object\r\n * @param  {Object}  params                                 \r\n *     @param  {String}  params.Bucket                      Bucket\r\n *     @param  {String}  params.Region                      \r\n *     @param  {String}  params.Key                         \r\n *     @param  {WriteStream}  params.Output                 \r\n *     @param  {String}  params.IfModifiedSince             ObjectObject304\r\n *     @param  {String}  params.IfUnmodifiedSince            412 (precondition failed)\r\n *     @param  {String}  params.IfMatch                      ETag  412 (precondition failed)\r\n *     @param  {String}  params.IfNoneMatch                  ETag 304 (not modified)\r\n *     @param  {String}  params.ResponseContentType          Content-Type \r\n *     @param  {String}  params.ResponseContentLanguage      Content-Language \r\n *     @param  {String}  params.ResponseExpires              Content-Expires \r\n *     @param  {String}  params.ResponseCacheControl         Cache-Control \r\n *     @param  {String}  params.ResponseContentDisposition   Content-Disposition \r\n *     @param  {String}  params.ResponseContentEncoding      Content-Encoding \r\n * @param  {Function}  callback                             \r\n * @param  {Object}  err                                    https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                                    object  body  headers\r\n */\r\nfunction getObject(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['response-content-type'] = params['ResponseContentType'];\r\n    reqParams['response-content-language'] = params['ResponseContentLanguage'];\r\n    reqParams['response-expires'] = params['ResponseExpires'];\r\n    reqParams['response-cache-control'] = params['ResponseCacheControl'];\r\n    reqParams['response-content-disposition'] = params['ResponseContentDisposition'];\r\n    reqParams['response-content-encoding'] = params['ResponseContentEncoding'];\r\n\r\n    //  output\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObject',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        DataType: params.DataType,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (params.Headers['If-Modified-Since'] && statusCode && statusCode === 304) {\r\n                return callback(null, {\r\n                    NotModified: true\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            Body: data.body,\r\n            ETag: util.attr(data.headers, 'etag', ''),\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n\r\n}\r\n\r\n/**\r\n *  object\r\n * @param  {Object} params                                          \r\n *     @param  {String}  params.Bucket                              Bucket\r\n *     @param  {String}  params.Region                              \r\n *     @param  {String}  params.Key                                 \r\n *     @param  {File || Blob || String}  params.Body                \r\n *     @param  {String}  params.CacheControl                        RFC 2616  Object \r\n *     @param  {String}  params.ContentDisposition                  RFC 2616  Object \r\n *     @param  {String}  params.ContentEncoding                     RFC 2616  Object \r\n *     @param  {String}  params.ContentLength                       RFC 2616  HTTP \r\n *     @param  {String}  params.ContentType                         RFC 2616 MIME Object \r\n *     @param  {String}  params.Expect                               Expect: 100-continue \r\n *     @param  {String}  params.Expires                             RFC 2616  Object \r\n *     @param  {String}  params.ContentSha1                         RFC 3174  160-bit  SHA-1 \r\n *     @param  {String}  params.ACL                                 private | public-read\r\n *     @param  {String}  params.GrantRead                           id=\"[OwnerUin]\",\r\n *     @param  {String}  params.GrantReadAcp                        ACLid=\"[OwnerUin]\",\r\n *     @param  {String}  params.GrantWriteAcp                       ACLid=\"[OwnerUin]\",\r\n *     @param  {String}  params.GrantFullControl                    id=\"[OwnerUin]\",\r\n *     @param  {String}  params.StorageClass                        STANDARDSTANDARD_IAARCHIVESTANDARD\r\n *     @param  {String}  params.x-cos-meta-*                        2KB\r\n *     @param  {String}  params.ContentSha1                         RFC 3174  160-bit  SHA-1 \r\n *     @param  {String}  params.ServerSideEncryption                 x-cos-server-side-encryption: \"AES256\"\r\n *     @param  {Function}  params.onProgress                        \r\n * @param  {Function}  callback                                     \r\n * @return  {Object}  err                                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                           object \r\n *     @return  {String}  data.ETag                                  ETag \r\n */\r\nfunction putObject(params, callback) {\r\n    var self = this;\r\n    var FileSize = params.ContentLength;\r\n    var onProgress = util.throttleOnProgress.call(self, FileSize, params.onProgress);\r\n\r\n    //  Cache-ControlContent-Type Object \r\n    var headers = params.Headers;\r\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\r\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\r\n    var needCalcMd5 = params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5 || self.options.UploadCheckContentMd5;\r\n    util.getBodyMd5(needCalcMd5, params.Body, function (md5) {\r\n        if (md5) {\r\n            if (self.options.UploadCheckContentMd5) headers['Content-MD5'] = util.binaryBase64(md5);\r\n            if (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5) headers['x-cos-meta-md5'] = md5;\r\n        }\r\n        if (params.ContentLength !== undefined) headers['Content-Length'] = params.ContentLength;\r\n        onProgress(null, true); //  uploading\r\n        submitRequest.call(self, {\r\n            Action: 'name/cos:PutObject',\r\n            TaskId: params.TaskId,\r\n            method: 'PUT',\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            headers: params.Headers,\r\n            body: params.Body,\r\n            onProgress: onProgress,\r\n        }, function (err, data) {\r\n            if (err) {\r\n                onProgress(null, true);\r\n                return callback(err);\r\n            }\r\n            onProgress({loaded: FileSize, total: FileSize}, true);\r\n            var url = getUrl({\r\n                ForcePathStyle: self.options.ForcePathStyle,\r\n                protocol: self.options.Protocol,\r\n                domain: self.options.Domain,\r\n                bucket: params.Bucket,\r\n                region: params.Region,\r\n                object: params.Key,\r\n            });\r\n            url = url.substr(url.indexOf('://') + 3);\r\n            var result = {\r\n                Location: url,\r\n                ETag: util.attr(data.headers, 'etag', ''),\r\n                statusCode: data.statusCode,\r\n                headers: data.headers,\r\n            };\r\n            callback(null, result);\r\n        });\r\n    }, params.onHashProgress);\r\n}\r\n\r\n/**\r\n *  object\r\n * @param  {Object}  params                     \r\n *     @param  {String}  params.Bucket          Bucket\r\n *     @param  {String}  params.Region          \r\n *     @param  {String}  params.Key             object\r\n * @param  {Function}  callback                 \r\n * @param  {Object}  err                        https://cloud.tencent.com/document/product/436/7730\r\n * @param  {Object}  data                       \r\n */\r\nfunction deleteObject(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteObject',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            var statusCode = err.statusCode;\r\n            if (statusCode && statusCode === 204) {\r\n                return callback(null, {statusCode: statusCode});\r\n            } else if (statusCode && statusCode === 404) {\r\n                return callback(null, {BucketNotFound: true, statusCode: statusCode,});\r\n            } else {\r\n                return callback(err);\r\n            }\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  object  \r\n * @param  {Object}  params                         \r\n *     @param  {String}  params.Bucket              Bucket\r\n *     @param  {String}  params.Region              \r\n *     @param  {String}  params.Key                 object\r\n * @param  {Function}  callback                     \r\n * @return  {Object}  err                           https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                          \r\n *     @return  {Object}  data.AccessControlPolicy  \r\n */\r\nfunction getObjectAcl(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObjectACL',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'acl',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var AccessControlPolicy = data.AccessControlPolicy || {};\r\n        var Owner = AccessControlPolicy.Owner || {};\r\n        var Grant = AccessControlPolicy.AccessControlList && AccessControlPolicy.AccessControlList.Grant || [];\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n        var result = decodeAcl(AccessControlPolicy);\r\n        if (data.headers && data.headers['x-cos-acl']) {\r\n            result.ACL = data.headers['x-cos-acl'];\r\n        }\r\n        result = util.extend(result, {\r\n            Owner: Owner,\r\n            Grants: Grant,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n *  object  \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n *     @param  {String}  params.Key     object\r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction putObjectAcl(params, callback) {\r\n    var headers = params.Headers;\r\n\r\n    var xml = '';\r\n    if (params['AccessControlPolicy']) {\r\n        var AccessControlPolicy = util.clone(params['AccessControlPolicy'] || {});\r\n        var Grants = AccessControlPolicy.Grants || AccessControlPolicy.Grant;\r\n        Grants = util.isArray(Grants) ? Grants : [Grants];\r\n        delete AccessControlPolicy.Grant;\r\n        delete AccessControlPolicy.Grants;\r\n        AccessControlPolicy.AccessControlList = {Grant: Grants};\r\n        xml = util.json2xml({AccessControlPolicy: AccessControlPolicy});\r\n\r\n        headers['Content-Type'] = 'application/xml';\r\n        headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n    }\r\n\r\n    // Grant Header \r\n    util.each(headers, function (val, key) {\r\n        if (key.indexOf('x-cos-grant-') === 0) {\r\n            headers[key] = uniqGrant(headers[key]);\r\n        }\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutObjectACL',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        action: 'acl',\r\n        headers: headers,\r\n        body: xml,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * Options Object OPTIONS \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n *     @param  {String}  params.Key     object\r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data              \r\n */\r\nfunction optionsObject(params, callback) {\r\n\r\n    var headers = params.Headers;\r\n    headers['Origin'] = params['Origin'];\r\n    headers['Access-Control-Request-Method'] = params['AccessControlRequestMethod'];\r\n    headers['Access-Control-Request-Headers'] = params['AccessControlRequestHeaders'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:OptionsObject',\r\n        method: 'OPTIONS',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode && err.statusCode === 403) {\r\n                return callback(null, {\r\n                    OptionsForbidden: true,\r\n                    statusCode: err.statusCode\r\n                });\r\n            }\r\n            return callback(err);\r\n        }\r\n\r\n        var headers = data.headers || {};\r\n        callback(null, {\r\n            AccessControlAllowOrigin: headers['access-control-allow-origin'],\r\n            AccessControlAllowMethods: headers['access-control-allow-methods'],\r\n            AccessControlAllowHeaders: headers['access-control-allow-headers'],\r\n            AccessControlExposeHeaders: headers['access-control-expose-headers'],\r\n            AccessControlMaxAge: headers['access-control-max-age'],\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * @param  {Object}                                     \r\n *     @param  {String}  Bucket                         Bucket \r\n *     @param  {String}  Region                         \r\n *     @param  {String}  Key                            \r\n *     @param  {String}  CopySource                     URLversionid\r\n *     @param  {String}  ACL                            privatepublic-readprivate\r\n *     @param  {String}  GrantRead                       x-cos-grant-read: uin=\" \",uin=\" \"uin=\"RootAcountID/SubAccountID\"uin=\"RootAcountID\"\r\n *     @param  {String}  GrantWrite                      x-cos-grant-write: uin=\" \",uin=\" \"uin=\"RootAcountID/SubAccountID\"uin=\"RootAcountID\"\r\n *     @param  {String}  GrantFullControl                x-cos-grant-full-control: uin=\" \",uin=\" \"uin=\"RootAcountID/SubAccountID\"uin=\"RootAcountID\"\r\n *     @param  {String}  MetadataDirective              Copy, ReplacedCopyCopyHeaderReplacedHeaderReplaced\r\n *     @param  {String}  CopySourceIfModifiedSince      Object412x-cos-copy-source-If-None-Match\r\n *     @param  {String}  CopySourceIfUnmodifiedSince    Object412x-cos-copy-source-If-Match\r\n *     @param  {String}  CopySourceIfMatch              ObjectETag412x-cos-copy-source-If-Unmodified-Since\r\n *     @param  {String}  CopySourceIfNoneMatch          ObjectETag412x-cos-copy-source-If-Modified-Since\r\n *     @param  {String}  StorageClass                   Standard, Standard_IAArchiveStandard\r\n *     @param  {String}  CacheControl                   /\r\n *     @param  {String}  ContentDisposition             MIME MIME  MIME \r\n *     @param  {String}  ContentEncoding                HTTP \r\n *     @param  {String}  ContentLength                  \r\n *     @param  {String}  ContentType                    RFC 2616  HTTP MIMEtext/plain\r\n *     @param  {String}  Expect                         \r\n *     @param  {String}  Expires                        \r\n *     @param  {String}  params.ServerSideEncryption    x-cos-server-side-encryption: \"AES256\"\r\n *     @param  {String}  ContentLanguage                \r\n *     @param  {String}  x-cos-meta-*                    Object 2K\r\n */\r\nfunction putObjectCopy(params, callback) {\r\n\r\n    //  Cache-Control\r\n    var headers = params.Headers;\r\n    if (!headers['Cache-Control'] && !!headers['cache-control']) headers['Cache-Control'] = '';\r\n\r\n    var CopySource = params.CopySource || '';\r\n    var m = CopySource.match(/^([^.]+-\\d+)\\.cos(v6)?\\.([^.]+)\\.[^/]+\\/(.+)$/);\r\n    if (!m) {\r\n        callback({error: 'CopySource format error'});\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n\r\n    submitRequest.call(this, {\r\n        Interface: 'PutObjectCopy',\r\n        Scope: [{\r\n            action: 'name/cos:GetObject',\r\n            bucket: SourceBucket,\r\n            region: SourceRegion,\r\n            prefix: SourceKey,\r\n        }, {\r\n            action: 'name/cos:PutObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: params.Key,\r\n        }],\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var result = util.clone(data.CopyObjectResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction uploadPartCopy(params, callback) {\r\n\r\n    var CopySource = params.CopySource || '';\r\n    var m = CopySource.match(/^([^.]+-\\d+)\\.cos(v6)?\\.([^.]+)\\.[^/]+\\/(.+)$/);\r\n    if (!m) {\r\n        callback({error: 'CopySource format error'});\r\n        return;\r\n    }\r\n\r\n    var SourceBucket = m[1];\r\n    var SourceRegion = m[3];\r\n    var SourceKey = decodeURIComponent(m[4]);\r\n\r\n    submitRequest.call(this, {\r\n        Interface: 'UploadPartCopy',\r\n        Scope: [{\r\n            action: 'name/cos:GetObject',\r\n            bucket: SourceBucket,\r\n            region: SourceRegion,\r\n            prefix: SourceKey,\r\n        }, {\r\n            action: 'name/cos:PutObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: params.Key,\r\n        }],\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        qs: {\r\n            partNumber: params['PartNumber'],\r\n            uploadId: params['UploadId'],\r\n        },\r\n        headers: params.Headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var result = util.clone(data.CopyPartResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction deleteMultipleObject(params, callback) {\r\n    var Objects = params.Objects || [];\r\n    var Quiet = params.Quiet;\r\n    Objects = util.isArray(Objects) ? Objects : [Objects];\r\n\r\n    var xml = util.json2xml({Delete: {Object: Objects, Quiet: Quiet || false}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    var Scope = util.map(Objects, function (v) {\r\n        return {\r\n            action: 'name/cos:DeleteObject',\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            prefix: v.Key,\r\n        };\r\n    });\r\n\r\n    submitRequest.call(this, {\r\n        Interface: 'DeleteMultipleObjects',\r\n        Scope: Scope,\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'delete',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var DeleteResult = data.DeleteResult || {};\r\n        var Deleted = DeleteResult.Deleted || [];\r\n        var Errors = DeleteResult.Error || [];\r\n\r\n        Deleted = util.isArray(Deleted) ? Deleted : [Deleted];\r\n        Errors = util.isArray(Errors) ? Errors : [Errors];\r\n\r\n        var result = util.clone(DeleteResult);\r\n        util.extend(result, {\r\n            Error: Errors,\r\n            Deleted: Deleted,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\nfunction restoreObject(params, callback) {\r\n    var headers = params.Headers;\r\n    if (!params['RestoreRequest']) {\r\n        callback({error: 'missing param RestoreRequest'});\r\n        return;\r\n    }\r\n\r\n    var RestoreRequest = params.RestoreRequest || {};\r\n    var xml = util.json2xml({RestoreRequest: RestoreRequest});\r\n\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:RestoreObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        VersionId: params.VersionId,\r\n        body: xml,\r\n        action: 'restore',\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        callback(err, data);\r\n    });\r\n}\r\n\r\n/**\r\n *  Object \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Object\r\n *     @param  {String}  params.Region  \r\n *     @param  {Array}   params.TagSet  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              \r\n */\r\nfunction putObjectTagging(params, callback) {\r\n\r\n    var Tagging = params['Tagging'] || {};\r\n    var Tags = Tagging.TagSet || Tagging.Tags || params['Tags'] || [];\r\n    Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n    var xml = util.json2xml({Tagging: {TagSet: {Tag: Tags}}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:PutObjectTagging',\r\n        method: 'PUT',\r\n        Bucket: params.Bucket,\r\n        Key: params.Key,\r\n        Region: params.Region,\r\n        body: xml,\r\n        action: 'tagging',\r\n        headers: headers,\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Object \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Bucket\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              \r\n */\r\nfunction getObjectTagging(params, callback) {\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:GetObjectTagging',\r\n        method: 'GET',\r\n        Key: params.Key,\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err) {\r\n            if (err.statusCode === 404 && err.error && (err.error === \"Not Found\" || err.error.Code === 'NoSuchTagSet')) {\r\n                var result = {\r\n                    Tags: [],\r\n                    statusCode: err.statusCode,\r\n                };\r\n                err.headers && (result.headers = err.headers);\r\n                callback(null, result);\r\n            } else {\r\n                callback(err);\r\n            }\r\n            return;\r\n        }\r\n        var Tags = [];\r\n        try {\r\n            Tags = data.Tagging.TagSet.Tag || [];\r\n        } catch (e) {\r\n        }\r\n        Tags = util.clone(util.isArray(Tags) ? Tags : [Tags]);\r\n        callback(null, {\r\n            Tags: Tags,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  Object  \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Bucket  Object\r\n *     @param  {String}  params.Region  \r\n * @param  {Function}  callback         \r\n * @return  {Object}  err               https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data              \r\n */\r\nfunction deleteObjectTagging(params, callback) {\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:DeleteObjectTagging',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'tagging',\r\n        VersionId: params.VersionId,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n *  SQL CSV  JSON \r\n * @param  {Object}  params                   \r\n *     @param  {String}  params.Bucket        Object\r\n *     @param  {String}  params.Region        \r\n *     @param  {Object}  params.SelectRequest \r\n * @param  {Function}  callback               \r\n * @return  {Object}  err                     https://cloud.tencent.com/document/product/436/42998\r\n * @return  {Object}  data                    \r\n */\r\nfunction selectObjectContent(params, callback) {\r\n    var SelectType = params['SelectType'];\r\n    if (!SelectType) return callback({error: 'missing param SelectType'});\r\n\r\n    var SelectRequest = params['SelectRequest'] || {};\r\n    var xml = util.json2xml({SelectRequest: SelectRequest});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Interface: 'SelectObjectContent',\r\n        Action: 'name/cos:GetObject',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        action: 'select',\r\n        qs: {\r\n            'select-type': params['SelectType'],\r\n        },\r\n        VersionId: params.VersionId,\r\n        body: xml,\r\n        rawBody: true,\r\n    }, function (err, data) {\r\n        if (err && err.statusCode === 204) {\r\n            return callback(null, {statusCode: err.statusCode});\r\n        } else if (err) {\r\n            return callback(err);\r\n        }\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n            Body: data.body,\r\n        });\r\n    });\r\n}\r\n\r\n\r\n// \r\n\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                                     \r\n *     @param  {String}  params.Bucket                          Bucket\r\n *     @param  {String}  params.Region                          \r\n *     @param  {String}  params.Key                             object\r\n *     @param  {String}  params.UploadId                        object\r\n *     @param  {String}  params.CacheControl                    RFC 2616  Object \r\n *     @param  {String}  params.ContentDisposition              RFC 2616  Object     \r\n *     @param  {String}  params.ContentEncoding                 RFC 2616  Object \r\n *     @param  {String}  params.ContentType                     RFC 2616 MIME Object \r\n *     @param  {String}  params.Expires                         RFC 2616  Object \r\n *     @param  {String}  params.ACL                             \r\n *     @param  {String}  params.GrantRead                        \r\n *     @param  {String}  params.GrantWrite                       \r\n *     @param  {String}  params.GrantFullControl                 \r\n *     @param  {String}  params.StorageClass                    ObjectStandardStandard_IAArchive\r\n *     @param  {String}  params.ServerSideEncryption            x-cos-server-side-encryption: \"AES256\"\r\n * @param  {Function}  callback                                 \r\n * @return  {Object}  err                                       https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                      \r\n */\r\nfunction multipartInit(params, callback) {\r\n\r\n    var self = this;\r\n    var headers = params.Headers;\r\n\r\n    //  Cache-ControlContent-Type\r\n    if (!headers['Cache-Control'] && !headers['cache-control']) headers['Cache-Control'] = '';\r\n    if (!headers['Content-Type'] && !headers['content-type']) headers['Content-Type'] = params.Body && params.Body.type || '';\r\n\r\n    util.getBodyMd5(params.Body && (params.UploadAddMetaMd5 || self.options.UploadAddMetaMd5), params.Body, function (md5) {\r\n        if (md5) params.Headers['x-cos-meta-md5'] = md5;\r\n        submitRequest.call(self, {\r\n            Action: 'name/cos:InitiateMultipartUpload',\r\n            method: 'POST',\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            action: 'uploads',\r\n            headers: params.Headers,\r\n        }, function (err, data) {\r\n            if (err) {\r\n                return callback(err);\r\n            }\r\n            data = util.clone(data || {});\r\n            if (data && data.InitiateMultipartUploadResult) {\r\n                return callback(null, util.extend(data.InitiateMultipartUploadResult, {\r\n                    statusCode: data.statusCode,\r\n                    headers: data.headers,\r\n                }));\r\n            }\r\n            callback(null, data);\r\n        });\r\n    }, params.onHashProgress);\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                                 \r\n *     @param  {String}  params.Bucket                      Bucket\r\n *     @param  {String}  params.Region                      \r\n *     @param  {String}  params.Key                         object\r\n *     @param  {File || Blob || String}  params.Body        \r\n *     @param  {String} params.ContentLength                RFC 2616  HTTP \r\n *     @param  {String} params.Expect                        Expect: 100-continue \r\n *     @param  {String} params.ServerSideEncryption          x-cos-server-side-encryption: \"AES256\"\r\n *     @param  {String} params.ContentSha1                  RFC 3174  160-bit  SHA-1 \r\n * @param  {Function}  callback                             \r\n *     @return  {Object}  err                               https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}  data                              \r\n *     @return  {Object}  data.ETag                          sha1 \r\n */\r\nfunction multipartUpload(params, callback) {\r\n\r\n    var self = this;\r\n    util.getFileSize('multipartUpload', params, function () {\r\n        util.getBodyMd5(self.options.UploadCheckContentMd5, params.Body, function (md5) {\r\n            if (md5) params.Headers['Content-MD5'] = util.binaryBase64(md5);\r\n            submitRequest.call(self, {\r\n                Action: 'name/cos:UploadPart',\r\n                TaskId: params.TaskId,\r\n                method: 'PUT',\r\n                Bucket: params.Bucket,\r\n                Region: params.Region,\r\n                Key: params.Key,\r\n                qs: {\r\n                    partNumber: params['PartNumber'],\r\n                    uploadId: params['UploadId'],\r\n                },\r\n                headers: params.Headers,\r\n                onProgress: params.onProgress,\r\n                body: params.Body || null\r\n            }, function (err, data) {\r\n                if (err) return callback(err);\r\n                callback(null, {\r\n                    ETag: util.attr(data.headers, 'etag', ''),\r\n                    statusCode: data.statusCode,\r\n                    headers: data.headers,\r\n                });\r\n            });\r\n        });\r\n    });\r\n\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                             \r\n *     @param  {String}  params.Bucket                  Bucket\r\n *     @param  {String}  params.Region                  \r\n *     @param  {String}  params.Key                     object\r\n *     @param  {Array}   params.Parts                   \r\n *     @param  {String}  params.Parts[i].PartNumber     \r\n *     @param  {String}  params.Parts[i].ETag            sha1 \r\n * @param  {Function}  callback                         \r\n * @return  {Object}  err                               https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                              \r\n *     @return  {Object}  data.CompleteMultipartUpload  Location, Bucket, Key  ETag\r\n */\r\nfunction multipartComplete(params, callback) {\r\n    var self = this;\r\n\r\n    var UploadId = params.UploadId;\r\n\r\n    var Parts = params['Parts'];\r\n\r\n    for (var i = 0, len = Parts.length; i < len; i++) {\r\n        if (Parts[i]['ETag'].indexOf('\"') === 0) {\r\n            continue;\r\n        }\r\n        Parts[i]['ETag'] = '\"' + Parts[i]['ETag'] + '\"';\r\n    }\r\n\r\n    var xml = util.json2xml({CompleteMultipartUpload: {Part: Parts}});\r\n\r\n    var headers = params.Headers;\r\n    headers['Content-Type'] = 'application/xml';\r\n    headers['Content-MD5'] = util.binaryBase64(util.md5(xml));\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:CompleteMultipartUpload',\r\n        method: 'POST',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        qs: {\r\n            uploadId: UploadId\r\n        },\r\n        body: xml,\r\n        headers: headers,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var url = getUrl({\r\n            ForcePathStyle: self.options.ForcePathStyle,\r\n            protocol: self.options.Protocol,\r\n            domain: self.options.Domain,\r\n            bucket: params.Bucket,\r\n            region: params.Region,\r\n            object: params.Key,\r\n            isLocation: true,\r\n        });\r\n        var CompleteMultipartUploadResult = data.CompleteMultipartUploadResult || {};\r\n        var result = util.extend(CompleteMultipartUploadResult, {\r\n            Location: url,\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                                 \r\n *     @param  {String}  params.Bucket                      Bucket\r\n *     @param  {String}  params.Region                      \r\n *     @param  {String}  params.Delimiter                   PrefixPrefixdelimiterCommon PrefixCommon PrefixPrefix\r\n *     @param  {String}  params.EncodingType                \r\n *     @param  {String}  params.Prefix                      \r\n *     @param  {String}  params.MaxUploads                  1000\r\n *     @param  {String}  params.KeyMarker                   upload-id-marker </Br>upload-id-markerObjectNamekey-marker </Br>upload-id-markerObjectNamekey-markerObjectNamekey-markerUploadIdupload-id-marker\r\n *     @param  {String}  params.UploadIdMarker              key-marker </Br>key-markerupload-id-marker </Br>key-markerObjectNamekey-markerObjectNamekey-markerUploadIdupload-id-marker\r\n * @param  {Function}  callback                             \r\n * @return  {Object}  err                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  \r\n *     @return  {Object}  data.ListMultipartUploadsResult   \r\n */\r\nfunction multipartList(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['delimiter'] = params['Delimiter'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n    reqParams['prefix'] = params['Prefix'] || '';\r\n\r\n    reqParams['max-uploads'] = params['MaxUploads'];\r\n\r\n    reqParams['key-marker'] = params['KeyMarker'];\r\n    reqParams['upload-id-marker'] = params['UploadIdMarker'];\r\n\r\n    reqParams = util.clearKey(reqParams);\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListMultipartUploads',\r\n        ResourceKey: reqParams['prefix'],\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n        action: 'uploads',\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n\r\n        if (data && data.ListMultipartUploadsResult) {\r\n            var Upload = data.ListMultipartUploadsResult.Upload || [];\r\n\r\n            var CommonPrefixes = data.ListMultipartUploadsResult.CommonPrefixes || [];\r\n\r\n            CommonPrefixes = util.isArray(CommonPrefixes) ? CommonPrefixes : [CommonPrefixes];\r\n            Upload = util.isArray(Upload) ? Upload : [Upload];\r\n\r\n            data.ListMultipartUploadsResult.Upload = Upload;\r\n            data.ListMultipartUploadsResult.CommonPrefixes = CommonPrefixes;\r\n        }\r\n        var result = util.clone(data.ListMultipartUploadsResult || {});\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                                 \r\n *     @param  {String}  params.Bucket                      Bucket\r\n *     @param  {String}  params.Region                      \r\n *     @param  {String}  params.Key                         object\r\n *     @param  {String}  params.UploadId                    ID\r\n *     @param  {String}  params.EncodingType                \r\n *     @param  {String}  params.MaxParts                    1000\r\n *     @param  {String}  params.PartNumberMarker            UTF-8marker\r\n * @param  {Function}  callback                             \r\n * @return  {Object}  err                                   https://cloud.tencent.com/document/product/436/7730\r\n * @return  {Object}  data                                  \r\n *     @return  {Object}  data.ListMultipartUploadsResult   \r\n */\r\nfunction multipartListPart(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['uploadId'] = params['UploadId'];\r\n    reqParams['encoding-type'] = params['EncodingType'];\r\n    reqParams['max-parts'] = params['MaxParts'];\r\n    reqParams['part-number-marker'] = params['PartNumberMarker'];\r\n\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:ListParts',\r\n        method: 'GET',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        var ListPartsResult = data.ListPartsResult || {};\r\n        var Part = ListPartsResult.Part || [];\r\n        Part = util.isArray(Part) ? Part : [Part];\r\n\r\n        ListPartsResult.Part = Part;\r\n        var result = util.clone(ListPartsResult);\r\n        util.extend(result, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n        callback(null, result);\r\n    });\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                 \r\n *     @param  {String}  params.Bucket      Bucket\r\n *     @param  {String}  params.Region      \r\n *     @param  {String}  params.Key         object\r\n *     @param  {String}  params.UploadId    ID\r\n * @param  {Function}  callback             \r\n *     @return  {Object}    err             https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            \r\n */\r\nfunction multipartAbort(params, callback) {\r\n    var reqParams = {};\r\n\r\n    reqParams['uploadId'] = params['UploadId'];\r\n    submitRequest.call(this, {\r\n        Action: 'name/cos:AbortMultipartUpload',\r\n        method: 'DELETE',\r\n        Bucket: params.Bucket,\r\n        Region: params.Region,\r\n        Key: params.Key,\r\n        headers: params.Headers,\r\n        qs: reqParams,\r\n    }, function (err, data) {\r\n        if (err) return callback(err);\r\n        callback(null, {\r\n            statusCode: data.statusCode,\r\n            headers: data.headers,\r\n        });\r\n    });\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params             \r\n *     @param  {String}  params.Method  \r\n *     @param  {String}  params.Key     object\r\n *     @param  {String}  params.Expires \r\n * @return  {String}  data              \r\n */\r\nfunction getAuth(params) {\r\n    var self = this;\r\n    return util.getAuth({\r\n        SecretId: params.SecretId || this.options.SecretId || '',\r\n        SecretKey: params.SecretKey || this.options.SecretKey || '',\r\n        Method: params.Method,\r\n        Key: params.Key,\r\n        Query: params.Query,\r\n        Headers: params.Headers,\r\n        Expires: params.Expires,\r\n        UseRawKey: self.options.UseRawKey,\r\n        SystemClockOffset: self.options.SystemClockOffset,\r\n    });\r\n}\r\n\r\n/**\r\n * \r\n * @param  {Object}  params                 \r\n *     @param  {String}  params.Bucket      Bucket\r\n *     @param  {String}  params.Region      \r\n *     @param  {String}  params.Key         object\r\n *     @param  {String}  params.Method      \r\n *     @param  {String}  params.Expires     \r\n * @param  {Function}  callback             \r\n *     @return  {Object}    err             https://cloud.tencent.com/document/product/436/7730\r\n *     @return  {Object}    data            \r\n */\r\nfunction getObjectUrl(params, callback) {\r\n    var self = this;\r\n    var url = getUrl({\r\n        ForcePathStyle: self.options.ForcePathStyle,\r\n        protocol: params.Protocol || self.options.Protocol,\r\n        domain: params.Domain || self.options.Domain,\r\n        bucket: params.Bucket,\r\n        region: params.Region,\r\n        object: params.Key,\r\n    });\r\n    if (params.Sign !== undefined && !params.Sign) {\r\n        callback(null, {Url: url});\r\n        return url;\r\n    }\r\n    var AuthData = getAuthorizationAsync.call(this, {\r\n        Action: ((params.Method || '').toUpperCase() === 'PUT' ? 'name/cos:PutObject' : 'name/cos:GetObject'),\r\n        Bucket: params.Bucket || '',\r\n        Region: params.Region || '',\r\n        Method: params.Method || 'get',\r\n        Key: params.Key,\r\n        Expires: params.Expires,\r\n    }, function (err, AuthData) {\r\n        if (!callback) return;\r\n        if (err) {\r\n            callback(err);\r\n            return;\r\n        }\r\n        var signUrl = url;\r\n        signUrl += '?' + (AuthData.Authorization.indexOf('q-signature') > -1 ?\r\n            AuthData.Authorization : 'sign=' + encodeURIComponent(AuthData.Authorization));\r\n        AuthData.XCosSecurityToken && (signUrl += '&x-cos-security-token=' + AuthData.XCosSecurityToken);\r\n        AuthData.ClientIP && (signUrl += '&clientIP=' + AuthData.ClientIP);\r\n        AuthData.ClientUA && (signUrl += '&clientUA=' + AuthData.ClientUA);\r\n        AuthData.Token && (signUrl += '&token=' + AuthData.Token);\r\n        setTimeout(function () {\r\n            callback(null, {Url: signUrl});\r\n        });\r\n    });\r\n    if (AuthData) {\r\n        return url + '?' + AuthData.Authorization +\r\n            (AuthData.XCosSecurityToken ? '&x-cos-security-token=' + AuthData.XCosSecurityToken : '');\r\n    } else {\r\n        return url;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * \r\n */\r\nfunction decodeAcl(AccessControlPolicy) {\r\n    var result = {\r\n        GrantFullControl: [],\r\n        GrantWrite: [],\r\n        GrantRead: [],\r\n        GrantReadAcp: [],\r\n        GrantWriteAcp: [],\r\n        ACL: '',\r\n    };\r\n    var GrantMap = {\r\n        'FULL_CONTROL': 'GrantFullControl',\r\n        'WRITE': 'GrantWrite',\r\n        'READ': 'GrantRead',\r\n        'READ_ACP': 'GrantReadAcp',\r\n        'WRITE_ACP': 'GrantWriteAcp',\r\n    };\r\n    var AccessControlList = AccessControlPolicy && AccessControlPolicy.AccessControlList || {};\r\n    var Grant = AccessControlList.Grant;\r\n    if (Grant) {\r\n        Grant = util.isArray(Grant) ? Grant : [Grant];\r\n    }\r\n    var PublicAcl = {READ: 0, WRITE: 0, FULL_CONTROL: 0};\r\n    Grant && Grant.length && util.each(Grant, function (item) {\r\n        if (item.Grantee.ID === 'qcs::cam::anyone:anyone' || item.Grantee.URI === 'http://cam.qcloud.com/groups/global/AllUsers') {\r\n            PublicAcl[item.Permission] = 1;\r\n        } else if (item.Grantee.ID !== AccessControlPolicy.Owner.ID) {\r\n            result[GrantMap[item.Permission]].push('id=\"' + item.Grantee.ID + '\"');\r\n        }\r\n    });\r\n    if (PublicAcl.FULL_CONTROL || (PublicAcl.WRITE && PublicAcl.READ)) {\r\n        result.ACL = 'public-read-write';\r\n    } else if (PublicAcl.READ) {\r\n        result.ACL = 'public-read';\r\n    } else {\r\n        result.ACL = 'private';\r\n    }\r\n    util.each(GrantMap, function (item) {\r\n        result[item] = uniqGrant(result[item].join(','));\r\n    });\r\n    return result;\r\n}\r\n\r\n// Grant \r\nfunction uniqGrant(str) {\r\n    var arr = str.split(',');\r\n    var exist = {};\r\n    var i, item;\r\n    for (i = 0; i < arr.length; ) {\r\n        item = arr[i].trim();\r\n        if (exist[item]) {\r\n            arr.splice(i, 1);\r\n        } else {\r\n            exist[item] = true;\r\n            arr[i] = item;\r\n            i++;\r\n        }\r\n    }\r\n    return arr.join(',');\r\n}\r\n\r\n//  url\r\nfunction getUrl(params) {\r\n    var longBucket = params.bucket;\r\n    var shortBucket = longBucket.substr(0, longBucket.lastIndexOf('-'));\r\n    var appId = longBucket.substr(longBucket.lastIndexOf('-') + 1);\r\n    var domain = params.domain;\r\n    var region = params.region;\r\n    var object = params.object;\r\n    var protocol = params.protocol || (util.isBrowser && location.protocol === 'http:' ? 'http:' : 'https:');\r\n    if (!domain) {\r\n        if (['cn-south', 'cn-south-2', 'cn-north', 'cn-east', 'cn-southwest', 'sg'].indexOf(region) > -1) {\r\n            domain = '{Region}.myqcloud.com';\r\n        } else {\r\n            domain = 'cos.{Region}.myqcloud.com';\r\n        }\r\n        if (!params.ForcePathStyle) {\r\n            domain = '{Bucket}.' + domain;\r\n        }\r\n    }\r\n    domain = domain.replace(/\\{\\{AppId\\}\\}/ig, appId)\r\n        .replace(/\\{\\{Bucket\\}\\}/ig, shortBucket)\r\n        .replace(/\\{\\{Region\\}\\}/ig, region)\r\n        .replace(/\\{\\{.*?\\}\\}/ig, '');\r\n    domain = domain.replace(/\\{AppId\\}/ig, appId)\r\n        .replace(/\\{BucketName\\}/ig, shortBucket)\r\n        .replace(/\\{Bucket\\}/ig, longBucket)\r\n        .replace(/\\{Region\\}/ig, region)\r\n        .replace(/\\{.*?\\}/ig, '');\r\n    if (!/^[a-zA-Z]+:\\/\\//.test(domain)) {\r\n        domain = protocol + '//' + domain;\r\n    }\r\n\r\n    // \r\n    if (domain.slice(-1) === '/') {\r\n        domain = domain.slice(0, -1);\r\n    }\r\n    var url = domain;\r\n\r\n    if (params.ForcePathStyle) {\r\n        url += '/' + longBucket;\r\n    }\r\n    url += '/';\r\n    if (object) {\r\n        url += util.camSafeUrlEncode(object).replace(/%2F/g, '/');\r\n    }\r\n\r\n    if (params.isLocation) {\r\n        url = url.replace(/^https?:\\/\\//, '');\r\n    }\r\n    return url;\r\n}\r\n\r\n// \r\nfunction getAuthorizationAsync(params, callback) {\r\n\r\n    var headers = util.clone(params.Headers);\r\n    delete headers['Content-Type'];\r\n    delete headers['Cache-Control'];\r\n    util.each(headers, function (v, k) {\r\n        v === '' && delete headers[k];\r\n    });\r\n\r\n    var cb = function (AuthData) {\r\n\r\n        // \r\n        var formatAllow = false;\r\n        var auth = AuthData.Authorization;\r\n        if (auth) {\r\n            if (auth.indexOf(' ') > -1) {\r\n                formatAllow = false;\r\n            } else if (auth.indexOf('q-sign-algorithm=') > -1 &&\r\n                auth.indexOf('q-ak=') > -1 &&\r\n                auth.indexOf('q-sign-time=') > -1 &&\r\n                auth.indexOf('q-key-time=') > -1 &&\r\n                auth.indexOf('q-url-param-list=') > -1) {\r\n                formatAllow = true;\r\n            } else {\r\n                try {\r\n                    auth = atob(auth);\r\n                    if (auth.indexOf('a=') > -1 &&\r\n                        auth.indexOf('k=') > -1 &&\r\n                        auth.indexOf('t=') > -1 &&\r\n                        auth.indexOf('r=') > -1 &&\r\n                        auth.indexOf('b=') > -1) {\r\n                        formatAllow = true;\r\n                    }\r\n                } catch (e) {}\r\n            }\r\n        }\r\n        if (formatAllow) {\r\n            callback && callback(null, AuthData);\r\n        } else {\r\n            callback && callback('authorization error');\r\n        }\r\n    };\r\n\r\n    var self = this;\r\n    var Bucket = params.Bucket || '';\r\n    var Region = params.Region || '';\r\n\r\n    // PathName\r\n    var KeyName = params.Key || '';\r\n    if (self.options.ForcePathStyle && Bucket) {\r\n        KeyName = Bucket + '/' + KeyName;\r\n    }\r\n    var Pathname = '/' + KeyName;\r\n\r\n    // ActionResourceKey\r\n    var StsData = {};\r\n    var Scope = params.Scope;\r\n    if (!Scope) {\r\n        var Action = params.Action || '';\r\n        var ResourceKey = params.ResourceKey || params.Key || '';\r\n        Scope = params.Scope || [{\r\n            action: Action,\r\n            bucket: Bucket,\r\n            region: Region,\r\n            prefix: ResourceKey,\r\n        }];\r\n    }\r\n    var ScopeKey  = util.md5(JSON.stringify(Scope));\r\n\r\n    // STS\r\n    self._StsCache = self._StsCache ||[];\r\n    (function () {\r\n        var i, AuthData;\r\n        for (i = self._StsCache.length - 1; i >= 0; i--) {\r\n            AuthData = self._StsCache[i];\r\n            var compareTime = Math.round(util.getSkewTime(self.options.SystemClockOffset) / 1000) + 30;\r\n            if (AuthData.StartTime && compareTime < AuthData.StartTime || compareTime >= AuthData.ExpiredTime) {\r\n                self._StsCache.splice(i, 1);\r\n                continue;\r\n            }\r\n            if (!AuthData.ScopeLimit || AuthData.ScopeLimit && AuthData.ScopeKey === ScopeKey) {\r\n                StsData = AuthData;\r\n                break;\r\n            }\r\n        }\r\n    })();\r\n\r\n    var calcAuthByTmpKey = function () {\r\n        var KeyTime = StsData.StartTime && StsData.ExpiredTime ? StsData.StartTime + ';' + StsData.ExpiredTime : '';\r\n        var Authorization = util.getAuth({\r\n            SecretId: StsData.TmpSecretId,\r\n            SecretKey: StsData.TmpSecretKey,\r\n            Method: params.Method,\r\n            Pathname: Pathname,\r\n            Query: params.Query,\r\n            Headers: headers,\r\n            Expires: params.Expires,\r\n            UseRawKey: self.options.UseRawKey,\r\n            SystemClockOffset: self.options.SystemClockOffset,\r\n            KeyTime: KeyTime\r\n        });\r\n        var AuthData = {\r\n            Authorization: Authorization,\r\n            XCosSecurityToken: StsData.XCosSecurityToken || '',\r\n            Token: StsData.Token || '',\r\n            ClientIP: StsData.ClientIP || '',\r\n            ClientUA: StsData.ClientUA || '',\r\n        };\r\n        cb(AuthData);\r\n    };\r\n\r\n    // \r\n    if (StsData.ExpiredTime && StsData.ExpiredTime - (util.getSkewTime(self.options.SystemClockOffset) / 1000) > 60) { // 60\r\n        calcAuthByTmpKey();\r\n    } else if (self.options.getAuthorization) { // \r\n        self.options.getAuthorization.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n            Method: params.Method,\r\n            Key: KeyName,\r\n            Pathname: Pathname,\r\n            Query: params.Query,\r\n            Headers: headers,\r\n            Scope: Scope,\r\n            SystemClockOffset: self.options.SystemClockOffset,\r\n        }, function (AuthData) {\r\n            if (typeof AuthData === 'string') {\r\n                AuthData = {Authorization: AuthData};\r\n            }\r\n            if (AuthData.TmpSecretId &&\r\n                AuthData.TmpSecretKey &&\r\n                AuthData.XCosSecurityToken &&\r\n                AuthData.ExpiredTime) {\r\n                StsData = AuthData || {};\r\n                StsData.Scope = Scope;\r\n                StsData.ScopeKey = ScopeKey;\r\n                self._StsCache.push(StsData);\r\n                calcAuthByTmpKey();\r\n            } else {\r\n                cb(AuthData);\r\n            }\r\n        });\r\n    } else if (self.options.getSTS) { // \r\n        self.options.getSTS.call(self, {\r\n            Bucket: Bucket,\r\n            Region: Region,\r\n        }, function (data) {\r\n            StsData = data || {};\r\n            StsData.Scope = Scope;\r\n            StsData.ScopeKey = ScopeKey;\r\n            StsData.TmpSecretId = StsData.SecretId;\r\n            StsData.TmpSecretKey = StsData.SecretKey;\r\n            self._StsCache.push(StsData);\r\n            calcAuthByTmpKey();\r\n        });\r\n    } else { // \r\n        return (function () {\r\n            var Authorization = util.getAuth({\r\n                SecretId: params.SecretId || self.options.SecretId,\r\n                SecretKey: params.SecretKey || self.options.SecretKey,\r\n                Method: params.Method,\r\n                Pathname: Pathname,\r\n                Query: params.Query,\r\n                Headers: headers,\r\n                Expires: params.Expires,\r\n                UseRawKey: self.options.UseRawKey,\r\n                SystemClockOffset: self.options.SystemClockOffset,\r\n            });\r\n            var AuthData = {\r\n                Authorization: Authorization,\r\n                XCosSecurityToken: self.options.XCosSecurityToken,\r\n            };\r\n            cb(AuthData);\r\n            return AuthData;\r\n        })();\r\n    }\r\n    return '';\r\n}\r\n\r\n// \r\nfunction allowRetry(err) {\r\n    var allowRetry = false;\r\n    var isTimeError = false;\r\n    var serverDate = (err.headers && (err.headers.date || err.headers.Date)) || (err.error && err.error.ServerTime);\r\n    try {\r\n        var errorCode = err.error.Code;\r\n        var errorMessage = err.error.Message;\r\n        if (errorCode === 'RequestTimeTooSkewed' ||\r\n            (errorCode === 'AccessDenied' && errorMessage === 'Request has expired')) {\r\n            isTimeError = true;\r\n        }\r\n    } catch (e) {\r\n    }\r\n    if (err) {\r\n        if (isTimeError && serverDate) {\r\n            var serverTime = Date.parse(serverDate);\r\n            if (this.options.CorrectClockSkew && Math.abs(util.getSkewTime(this.options.SystemClockOffset) - serverTime) >= 30000) {\r\n                console.error('error: Local time is too skewed.');\r\n                this.options.SystemClockOffset = serverTime - Date.now();\r\n                allowRetry = true;\r\n            }\r\n        } else if (Math.floor(err.statusCode / 100) === 5) {\r\n            allowRetry = true;\r\n        }\r\n    }\r\n    return allowRetry;\r\n}\r\n\r\n// \r\nfunction submitRequest(params, callback) {\r\n    var self = this;\r\n\r\n    //  headers\r\n    !params.headers && (params.headers = {});\r\n\r\n    //  query\r\n    !params.qs && (params.qs = {});\r\n    params.VersionId && (params.qs.versionId = params.VersionId);\r\n    params.qs = util.clearKey(params.qs);\r\n\r\n    //  undefined  null \r\n    params.headers && (params.headers = util.clearKey(params.headers));\r\n    params.qs && (params.qs = util.clearKey(params.qs));\r\n\r\n    var Query = util.clone(params.qs);\r\n    params.action && (Query[params.action] = '');\r\n\r\n    var next = function (tryTimes) {\r\n        var oldClockOffset = self.options.SystemClockOffset;\r\n        getAuthorizationAsync.call(self, {\r\n            Bucket: params.Bucket || '',\r\n            Region: params.Region || '',\r\n            Method: params.method,\r\n            Key: params.Key,\r\n            Query: Query,\r\n            Headers: params.headers,\r\n            Action: params.Action,\r\n            ResourceKey: params.ResourceKey,\r\n            Scope: params.Scope,\r\n        }, function (err, AuthData) {\r\n            if (err) {\r\n                callback(err);\r\n                return;\r\n            }\r\n            params.AuthData = AuthData;\r\n            _submitRequest.call(self, params, function (err, data) {\r\n                if (err && tryTimes < 2 && (oldClockOffset !== self.options.SystemClockOffset || allowRetry.call(self, err))) {\r\n                    if (params.headers) {\r\n                        delete params.headers.Authorization;\r\n                        delete params.headers['token'];\r\n                        delete params.headers['clientIP'];\r\n                        delete params.headers['clientUA'];\r\n                        delete params.headers['x-cos-security-token'];\r\n                    }\r\n                    next(tryTimes + 1);\r\n                } else {\r\n                    callback(err, data);\r\n                }\r\n            });\r\n        });\r\n    };\r\n    next(1);\r\n\r\n}\r\n\r\n// \r\nfunction _submitRequest(params, callback) {\r\n    var self = this;\r\n    var TaskId = params.TaskId;\r\n    if (TaskId && !self._isRunningTask(TaskId)) return;\r\n\r\n    var bucket = params.Bucket;\r\n    var region = params.Region;\r\n    var object = params.Key;\r\n    var method = params.method || 'GET';\r\n    var url = params.url;\r\n    var body = params.body;\r\n    var rawBody = params.rawBody;\r\n\r\n    // url\r\n    url = url || getUrl({\r\n        ForcePathStyle: self.options.ForcePathStyle,\r\n        protocol: self.options.Protocol,\r\n        domain: self.options.Domain,\r\n        bucket: bucket,\r\n        region: region,\r\n        object: object,\r\n    });\r\n    if (params.action) {\r\n        url = url + '?' + params.action;\r\n    }\r\n\r\n    var opt = {\r\n        method: method,\r\n        url: url,\r\n        headers: params.headers,\r\n        qs: params.qs,\r\n        body: body,\r\n    };\r\n\r\n    // \r\n    opt.headers.Authorization = params.AuthData.Authorization;\r\n    params.AuthData.Token && (opt.headers['token'] = params.AuthData.Token);\r\n    params.AuthData.ClientIP && (opt.headers['clientIP'] = params.AuthData.ClientIP);\r\n    params.AuthData.ClientUA && (opt.headers['clientUA'] = params.AuthData.ClientUA);\r\n    params.AuthData.XCosSecurityToken && (opt.headers['x-cos-security-token'] = params.AuthData.XCosSecurityToken);\r\n\r\n    //  undefined  null \r\n    opt.headers && (opt.headers = util.clearKey(opt.headers));\r\n    opt = util.clearKey(opt);\r\n\r\n    // progress\r\n    if (params.onProgress && typeof params.onProgress === 'function') {\r\n        var contentLength = body && (body.size || body.length) || 0;\r\n        opt.onProgress = function (e) {\r\n            if (TaskId && !self._isRunningTask(TaskId)) return;\r\n            var loaded = e ? e.loaded : 0;\r\n            params.onProgress({loaded: loaded, total: contentLength});\r\n        };\r\n    }\r\n    if (params.DataType) {\r\n        opt.dataType = params.DataType;\r\n    }\r\n    if (this.options.Timeout) {\r\n        opt.timeout = this.options.Timeout;\r\n    }\r\n\r\n    //  cosInterface  before-send \r\n    if (params.Interface) {\r\n        opt.cosInterface = params.Interface;\r\n    } else if (params.Action) {\r\n        opt.cosInterface = params.Action.replace(/^name\\/cos:/, '');\r\n    }\r\n\r\n    self.options.ForcePathStyle && (opt.pathStyle = self.options.ForcePathStyle);\r\n    self.emit('before-send', opt);\r\n    var sender = (self.options.Request || REQUEST)(opt, function (r) {\r\n        if (r.error === 'abort') return;\r\n\r\n        //  errorstatusCodestatusMessagebody\r\n        self.emit('after-receive', r);\r\n        var response = {statusCode: r.statusCode, statusMessage: r.statusMessage, headers: r.headers};\r\n        var err = r.error;\r\n        var body = r.body;\r\n\r\n        //    headers\r\n        var hasReturned;\r\n        var cb = function (err, data) {\r\n            TaskId && self.off('inner-kill-task', killTask);\r\n            if (hasReturned) return;\r\n            hasReturned = true;\r\n            var attrs = {};\r\n            response && response.statusCode && (attrs.statusCode = response.statusCode);\r\n            response && response.headers && (attrs.headers = response.headers);\r\n\r\n            if (err) {\r\n                err = util.extend(err || {}, attrs)\r\n                callback(err, null);\r\n            } else {\r\n                data = util.extend(data || {}, attrs);\r\n                callback(null, data);\r\n            }\r\n            sender = null;\r\n        };\r\n\r\n        // \r\n        if (err) {\r\n            cb({error: err});\r\n            return;\r\n        }\r\n\r\n        //  body body \r\n        var jsonRes;\r\n        if (rawBody) {\r\n            jsonRes = {};\r\n            jsonRes.body = body;\r\n        } else {\r\n            try {\r\n                jsonRes = body && body.indexOf('<') > -1 && body.indexOf('>') > -1 && util.xml2json(body) || {};\r\n            } catch (e) {\r\n                jsonRes = body || {};\r\n            }\r\n        }\r\n\r\n        //  200\r\n        var statusCode = response.statusCode;\r\n        var statusSuccess = Math.floor(statusCode / 100) === 2; // 200 202 204 206\r\n        if (!statusSuccess) {\r\n            cb({error: jsonRes.Error || jsonRes});\r\n            return;\r\n        }\r\n\r\n        if (jsonRes.Error) {\r\n            cb({error: jsonRes.Error});\r\n            return;\r\n        }\r\n        cb(null, jsonRes);\r\n    });\r\n\r\n    // kill task\r\n    var killTask = function (data) {\r\n        if (data.TaskId === TaskId) {\r\n            sender && sender.abort && sender.abort();\r\n            self.off('inner-kill-task', killTask);\r\n        }\r\n    };\r\n    TaskId && self.on('inner-kill-task', killTask);\r\n\r\n}\r\n\r\n\r\nvar API_MAP = {\r\n    // Bucket \r\n    getService: getService,                      // Bucket\r\n    putBucket: putBucket,\r\n    headBucket: headBucket,                      // Bucket\r\n    getBucket: getBucket,\r\n    deleteBucket: deleteBucket,\r\n    putBucketAcl: putBucketAcl,                  // BucketACL\r\n    getBucketAcl: getBucketAcl,\r\n    putBucketCors: putBucketCors,                // BucketCors\r\n    getBucketCors: getBucketCors,\r\n    deleteBucketCors: deleteBucketCors,\r\n    getBucketLocation: getBucketLocation,        // BucketLocation\r\n    getBucketPolicy: getBucketPolicy,            // BucketPolicy\r\n    putBucketPolicy: putBucketPolicy,\r\n    deleteBucketPolicy: deleteBucketPolicy,\r\n    putBucketTagging: putBucketTagging,          // BucketTagging\r\n    getBucketTagging: getBucketTagging,\r\n    deleteBucketTagging: deleteBucketTagging,\r\n    putBucketLifecycle: putBucketLifecycle,      // BucketLifecycle\r\n    getBucketLifecycle: getBucketLifecycle,\r\n    deleteBucketLifecycle: deleteBucketLifecycle,\r\n    putBucketVersioning: putBucketVersioning,    // BucketVersioning\r\n    getBucketVersioning: getBucketVersioning,\r\n    putBucketReplication: putBucketReplication,  // BucketReplication\r\n    getBucketReplication: getBucketReplication,\r\n    deleteBucketReplication: deleteBucketReplication,\r\n    putBucketWebsite: putBucketWebsite,          // BucketWebsite\r\n    getBucketWebsite: getBucketWebsite,\r\n    deleteBucketWebsite: deleteBucketWebsite,\r\n    putBucketReferer: putBucketReferer,          // BucketReferer\r\n    getBucketReferer: getBucketReferer,\r\n    putBucketDomain: putBucketDomain,            // BucketDomain\r\n    getBucketDomain: getBucketDomain,\r\n    deleteBucketDomain: deleteBucketDomain,\r\n    putBucketOrigin: putBucketOrigin,            // BucketOrigin\r\n    getBucketOrigin: getBucketOrigin,\r\n    deleteBucketOrigin: deleteBucketOrigin,\r\n    putBucketLogging: putBucketLogging,             // BucketLogging\r\n    getBucketLogging: getBucketLogging,\r\n    putBucketInventory: putBucketInventory,         // BucketInventory\r\n    getBucketInventory: getBucketInventory,\r\n    listBucketInventory: listBucketInventory,\r\n    deleteBucketInventory: deleteBucketInventory,\r\n    putBucketAccelerate: putBucketAccelerate,\r\n    getBucketAccelerate: getBucketAccelerate,\r\n\r\n    // Object \r\n    getObject: getObject,\r\n    headObject: headObject,\r\n    listObjectVersions: listObjectVersions,\r\n    putObject: putObject,\r\n    deleteObject: deleteObject,\r\n    getObjectAcl: getObjectAcl,\r\n    putObjectAcl: putObjectAcl,\r\n    optionsObject: optionsObject,\r\n    putObjectCopy: putObjectCopy,\r\n    deleteMultipleObject: deleteMultipleObject,\r\n    restoreObject: restoreObject,\r\n    putObjectTagging: putObjectTagging,\r\n    getObjectTagging: getObjectTagging,\r\n    deleteObjectTagging: deleteObjectTagging,\r\n    selectObjectContent: selectObjectContent,\r\n\r\n    // \r\n    uploadPartCopy: uploadPartCopy,\r\n    multipartInit: multipartInit,\r\n    multipartUpload: multipartUpload,\r\n    multipartComplete: multipartComplete,\r\n    multipartList: multipartList,\r\n    multipartListPart: multipartListPart,\r\n    multipartAbort: multipartAbort,\r\n\r\n    // \r\n    getObjectUrl: getObjectUrl,\r\n    getAuth: getAuth,\r\n};\r\n\r\nfunction warnOldApi(apiName, fn, proto) {\r\n    util.each(['Cors', 'Acl'], function (suffix) {\r\n        if (apiName.slice(-suffix.length) === suffix) {\r\n            var oldName = apiName.slice(0, -suffix.length) + suffix.toUpperCase();\r\n            var apiFn = util.apiWrapper(apiName, fn);\r\n            var warned = false;\r\n            proto[oldName] = function () {\r\n                !warned && console.warn('warning: cos.' + oldName + ' has been deprecated. Please Use cos.' + apiName + ' instead.');\r\n                warned = true;\r\n                apiFn.apply(this, arguments);\r\n            };\r\n        }\r\n    });\r\n}\r\n\r\nmodule.exports.init = function (COS, task) {\r\n    task.transferToTaskMethod(API_MAP, 'putObject');\r\n    util.each(API_MAP, function (fn, apiName) {\r\n        COS.prototype[apiName] = util.apiWrapper(apiName, fn);\r\n        warnOldApi(apiName, fn, COS.prototype);\r\n    });\r\n};\r\n","//copyright Ryan Day 2010 <http://ryanday.org>, Joscha Feth 2013 <http://www.feth.com> [MIT Licensed]\r\n\r\nvar element_start_char =\r\n    \"a-zA-Z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u00FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FFF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\";\r\nvar element_non_start_char = \"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F\\u2040\";\r\nvar element_replace = new RegExp(\"^([^\" + element_start_char + \"])|^((x|X)(m|M)(l|L))|([^\" + element_start_char + element_non_start_char + \"])\", \"g\");\r\nvar not_safe_in_xml = /[^\\x09\\x0A\\x0D\\x20-\\xFF\\x85\\xA0-\\uD7FF\\uE000-\\uFDCF\\uFDE0-\\uFFFD]/gm;\r\n\r\nvar objKeys = function (obj) {\r\n    var l = [];\r\n    if (obj instanceof Object) {\r\n        for (var k in obj) {\r\n            if (obj.hasOwnProperty(k)) {\r\n                l.push(k);\r\n            }\r\n        }\r\n    }\r\n    return l;\r\n};\r\nvar process_to_xml = function (node_data, options) {\r\n\r\n    var makeNode = function (name, content, attributes, level, hasSubNodes) {\r\n        var indent_value = options.indent !== undefined ? options.indent : \"\\t\";\r\n        var indent = options.prettyPrint ? '\\n' + new Array(level).join(indent_value) : '';\r\n        if (options.removeIllegalNameCharacters) {\r\n            name = name.replace(element_replace, '_');\r\n        }\r\n\r\n        var node = [indent, '<', name, (attributes || '')];\r\n        if (content && content.length > 0) {\r\n            node.push('>')\r\n            node.push(content);\r\n            hasSubNodes && node.push(indent);\r\n            node.push('</');\r\n            node.push(name);\r\n            node.push('>');\r\n        } else {\r\n            node.push('/>');\r\n        }\r\n        return node.join('');\r\n    };\r\n\r\n    return (function fn(node_data, node_descriptor, level) {\r\n        var type = typeof node_data;\r\n        if ((Array.isArray) ? Array.isArray(node_data) : node_data instanceof Array) {\r\n            type = 'array';\r\n        } else if (node_data instanceof Date) {\r\n            type = 'date';\r\n        }\r\n\r\n        switch (type) {\r\n            //if value is an array create child nodes from values\r\n            case 'array':\r\n                var ret = [];\r\n                node_data.map(function (v) {\r\n                    ret.push(fn(v, 1, level + 1));\r\n                    //entries that are values of an array are the only ones that can be special node descriptors\r\n                });\r\n                options.prettyPrint && ret.push('\\n');\r\n                return ret.join('');\r\n                break;\r\n\r\n            case 'date':\r\n                // cast dates to ISO 8601 date (soap likes it)\r\n                return node_data.toJSON ? node_data.toJSON() : node_data + '';\r\n                break;\r\n\r\n            case 'object':\r\n                var nodes = [];\r\n                for (var name in node_data) {\r\n                    if (node_data.hasOwnProperty(name)) {\r\n                        if (node_data[name] instanceof Array) {\r\n                            for (var j = 0; j < node_data[name].length; j++) {\r\n                                if (node_data[name].hasOwnProperty(j)) {\r\n                                    nodes.push(makeNode(name, fn(node_data[name][j], 0, level + 1), null, level + 1, objKeys(node_data[name][j]).length));\r\n                                }\r\n                            }\r\n                        } else {\r\n                            nodes.push(makeNode(name, fn(node_data[name], 0, level + 1), null, level + 1));\r\n                        }\r\n                    }\r\n                }\r\n                options.prettyPrint && nodes.length > 0 && nodes.push('\\n');\r\n                return nodes.join('');\r\n                break;\r\n\r\n            case 'function':\r\n                return node_data();\r\n                break;\r\n\r\n            default:\r\n                return options.escape ? esc(node_data) : '' + node_data;\r\n        }\r\n\r\n    }(node_data, 0, 0))\r\n};\r\n\r\n\r\nvar xml_header = function (standalone) {\r\n    var ret = ['<?xml version=\"1.0\" encoding=\"UTF-8\"'];\r\n\r\n    if (standalone) {\r\n        ret.push(' standalone=\"yes\"');\r\n    }\r\n    ret.push('?>');\r\n\r\n    return ret.join('');\r\n};\r\n\r\nfunction esc(str) {\r\n    return ('' + str).replace(/&/g, '&amp;')\r\n        .replace(/</g, '&lt;')\r\n        .replace(/>/g, '&gt;')\r\n        .replace(/'/g, '&apos;')\r\n        .replace(/\"/g, '&quot;')\r\n        .replace(not_safe_in_xml, '');\r\n}\r\n\r\nmodule.exports = function (obj, options) {\r\n    if (!options) {\r\n        options = {\r\n            xmlHeader: {\r\n                standalone: true\r\n            },\r\n            prettyPrint: true,\r\n            indent: \"  \",\r\n            escape: true,\r\n        };\r\n    }\r\n\r\n    if (typeof obj == 'string') {\r\n        try {\r\n            obj = JSON.parse(obj.toString());\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    var xmlheader = '';\r\n    var docType = '';\r\n    if (options) {\r\n        if (typeof options == 'object') {\r\n            // our config is an object\r\n\r\n            if (options.xmlHeader) {\r\n                // the user wants an xml header\r\n                xmlheader = xml_header(!!options.xmlHeader.standalone);\r\n            }\r\n\r\n            if (typeof options.docType != 'undefined') {\r\n                docType = '<!DOCTYPE ' + options.docType + '>'\r\n            }\r\n        } else {\r\n            // our config is a boolean value, so just add xml header\r\n            xmlheader = xml_header();\r\n        }\r\n    }\r\n    options = options || {}\r\n\r\n    var ret = [\r\n        xmlheader,\r\n        (options.prettyPrint && docType ? '\\n' : ''),\r\n        docType,\r\n        process_to_xml(obj, options)\r\n    ];\r\n    return ret.join('').replace(/\\n{2,}/g, '\\n').replace(/\\s+$/g, '');\r\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace, isDef } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport { routeProps, functionalRoute } from '../utils/router';\nimport { cellProps } from './shared'; // Components\n\nimport Icon from '../icon'; // Types\n\nvar _createNamespace = createNamespace('cell'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Cell(h, props, slots, ctx) {\n  var icon = props.icon,\n      size = props.size,\n      title = props.title,\n      label = props.label,\n      value = props.value,\n      isLink = props.isLink;\n  var showTitle = slots.title || isDef(title);\n\n  function Label() {\n    var showLabel = slots.label || isDef(label);\n\n    if (showLabel) {\n      return h(\"div\", {\n        \"class\": [bem('label'), props.labelClass]\n      }, [slots.label ? slots.label() : label]);\n    }\n  }\n\n  function Title() {\n    if (showTitle) {\n      return h(\"div\", {\n        \"class\": [bem('title'), props.titleClass],\n        \"style\": props.titleStyle\n      }, [slots.title ? slots.title() : h(\"span\", [title]), Label()]);\n    }\n  }\n\n  function Value() {\n    var showValue = slots.default || isDef(value);\n\n    if (showValue) {\n      return h(\"div\", {\n        \"class\": [bem('value', {\n          alone: !showTitle\n        }), props.valueClass]\n      }, [slots.default ? slots.default() : h(\"span\", [value])]);\n    }\n  }\n\n  function LeftIcon() {\n    if (slots.icon) {\n      return slots.icon();\n    }\n\n    if (icon) {\n      return h(Icon, {\n        \"class\": bem('left-icon'),\n        \"attrs\": {\n          \"name\": icon,\n          \"classPrefix\": props.iconPrefix\n        }\n      });\n    }\n  }\n\n  function RightIcon() {\n    var rightIconSlot = slots['right-icon'];\n\n    if (rightIconSlot) {\n      return rightIconSlot();\n    }\n\n    if (isLink) {\n      var arrowDirection = props.arrowDirection;\n      return h(Icon, {\n        \"class\": bem('right-icon'),\n        \"attrs\": {\n          \"name\": arrowDirection ? \"arrow-\" + arrowDirection : 'arrow'\n        }\n      });\n    }\n  }\n\n  function onClick(event) {\n    emit(ctx, 'click', event);\n    functionalRoute(ctx);\n  }\n\n  var clickable = isLink || props.clickable;\n  var classes = {\n    clickable: clickable,\n    center: props.center,\n    required: props.required,\n    borderless: !props.border\n  };\n\n  if (size) {\n    classes[size] = size;\n  }\n\n  return h(\"div\", _mergeJSXProps([{\n    \"class\": bem(classes),\n    \"attrs\": {\n      \"role\": clickable ? 'button' : null,\n      \"tabindex\": clickable ? 0 : null\n    },\n    \"on\": {\n      \"click\": onClick\n    }\n  }, inherit(ctx)]), [LeftIcon(), Title(), Value(), RightIcon(), slots.extra == null ? void 0 : slots.extra()]);\n}\n\nCell.props = _extends({}, cellProps, routeProps);\nexport default createComponent(Cell);","export var FieldMixin = {\n  inject: {\n    vanField: {\n      default: null\n    }\n  },\n  watch: {\n    value: function value() {\n      var field = this.vanField;\n\n      if (field) {\n        field.resetValidation();\n        field.validateWithTrigger('onChange');\n      }\n    }\n  },\n  created: function created() {\n    var field = this.vanField;\n\n    if (field && !field.children) {\n      field.children = this;\n    }\n  }\n};","var eachLimit = function (arr, limit, iterator, callback) {\r\n    callback = callback || function () {};\r\n    if (!arr.length || limit <= 0) {\r\n        return callback();\r\n    }\r\n\r\n    var completed = 0;\r\n    var started = 0;\r\n    var running = 0;\r\n\r\n    (function replenish () {\r\n        if (completed >= arr.length) {\r\n            return callback();\r\n        }\r\n\r\n        while (running < limit && started < arr.length) {\r\n            started += 1;\r\n            running += 1;\r\n            iterator(arr[started - 1], function (err) {\r\n\r\n                if (err) {\r\n                    callback(err);\r\n                    callback = function () {};\r\n                } else {\r\n                    completed += 1;\r\n                    running -= 1;\r\n                    if (completed >= arr.length) {\r\n                        callback();\r\n                    } else {\r\n                        replenish();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    })();\r\n};\r\n\r\nvar retry = function (times, iterator, callback) {\r\n    var next = function (index) {\r\n        iterator(function (err, data) {\r\n            if (err && index < times) {\r\n                next(index + 1);\r\n            } else {\r\n                callback(err, data);\r\n            }\r\n        });\r\n    };\r\n    if (times < 1) {\r\n        callback();\r\n    } else {\r\n        next(1);\r\n    }\r\n};\r\n\r\nvar async = {\r\n    eachLimit: eachLimit,\r\n    retry: retry\r\n};\r\n\r\nmodule.exports = async;","function flattenVNodes(vnodes) {\n  var result = [];\n\n  function traverse(vnodes) {\n    vnodes.forEach(function (vnode) {\n      result.push(vnode);\n\n      if (vnode.componentInstance) {\n        traverse(vnode.componentInstance.$children.map(function (item) {\n          return item.$vnode;\n        }));\n      }\n\n      if (vnode.children) {\n        traverse(vnode.children);\n      }\n    });\n  }\n\n  traverse(vnodes);\n  return result;\n} // sort children instances by vnodes order\n\n\nexport function sortChildren(children, parent) {\n  var componentOptions = parent.$vnode.componentOptions;\n\n  if (!componentOptions || !componentOptions.children) {\n    return;\n  }\n\n  var vnodes = flattenVNodes(componentOptions.children);\n  children.sort(function (a, b) {\n    return vnodes.indexOf(a.$vnode) - vnodes.indexOf(b.$vnode);\n  });\n}","import { sortChildren } from '../utils/vnodes';\nexport function ChildrenMixin(_parent, options) {\n  var _inject, _computed;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  var indexKey = options.indexKey || 'index';\n  return {\n    inject: (_inject = {}, _inject[_parent] = {\n      default: null\n    }, _inject),\n    computed: (_computed = {\n      parent: function parent() {\n        if (this.disableBindRelation) {\n          return null;\n        }\n\n        return this[_parent];\n      }\n    }, _computed[indexKey] = function () {\n      this.bindRelation();\n\n      if (this.parent) {\n        return this.parent.children.indexOf(this);\n      }\n\n      return null;\n    }, _computed),\n    watch: {\n      disableBindRelation: function disableBindRelation(val) {\n        if (!val) {\n          this.bindRelation();\n        }\n      }\n    },\n    mounted: function mounted() {\n      this.bindRelation();\n    },\n    beforeDestroy: function beforeDestroy() {\n      var _this = this;\n\n      if (this.parent) {\n        this.parent.children = this.parent.children.filter(function (item) {\n          return item !== _this;\n        });\n      }\n    },\n    methods: {\n      bindRelation: function bindRelation() {\n        if (!this.parent || this.parent.children.indexOf(this) !== -1) {\n          return;\n        }\n\n        var children = [].concat(this.parent.children, [this]);\n        sortChildren(children, this.parent);\n        this.parent.children = children;\n      }\n    }\n  };\n}\nexport function ParentMixin(parent) {\n  return {\n    provide: function provide() {\n      var _ref;\n\n      return _ref = {}, _ref[parent] = this, _ref;\n    },\n    data: function data() {\n      return {\n        children: []\n      };\n    }\n  };\n}","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","/**\n * Common part of Checkbox & Radio\n */\nimport Icon from '../icon';\nimport { FieldMixin } from './field';\nimport { ChildrenMixin } from './relation';\nimport { addUnit } from '../utils';\nexport var CheckboxMixin = function CheckboxMixin(_ref) {\n  var parent = _ref.parent,\n      bem = _ref.bem,\n      role = _ref.role;\n  return {\n    mixins: [ChildrenMixin(parent), FieldMixin],\n    props: {\n      name: null,\n      value: null,\n      disabled: Boolean,\n      iconSize: [Number, String],\n      checkedColor: String,\n      labelPosition: String,\n      labelDisabled: Boolean,\n      shape: {\n        type: String,\n        default: 'round'\n      },\n      bindGroup: {\n        type: Boolean,\n        default: true\n      }\n    },\n    computed: {\n      disableBindRelation: function disableBindRelation() {\n        return !this.bindGroup;\n      },\n      isDisabled: function isDisabled() {\n        return this.parent && this.parent.disabled || this.disabled;\n      },\n      direction: function direction() {\n        return this.parent && this.parent.direction || null;\n      },\n      iconStyle: function iconStyle() {\n        var checkedColor = this.checkedColor || this.parent && this.parent.checkedColor;\n\n        if (checkedColor && this.checked && !this.isDisabled) {\n          return {\n            borderColor: checkedColor,\n            backgroundColor: checkedColor\n          };\n        }\n      },\n      tabindex: function tabindex() {\n        if (this.isDisabled || role === 'radio' && !this.checked) {\n          return -1;\n        }\n\n        return 0;\n      }\n    },\n    methods: {\n      onClick: function onClick(event) {\n        var _this = this;\n\n        var target = event.target;\n        var icon = this.$refs.icon;\n        var iconClicked = icon === target || icon.contains(target);\n\n        if (!this.isDisabled && (iconClicked || !this.labelDisabled)) {\n          this.toggle(); // wait for toggle method to complete\n          // so we can get the changed value in the click event listener\n\n          setTimeout(function () {\n            _this.$emit('click', event);\n          });\n        } else {\n          this.$emit('click', event);\n        }\n      },\n      genIcon: function genIcon() {\n        var h = this.$createElement;\n        var checked = this.checked;\n        var iconSize = this.iconSize || this.parent && this.parent.iconSize;\n        return h(\"div\", {\n          \"ref\": \"icon\",\n          \"class\": bem('icon', [this.shape, {\n            disabled: this.isDisabled,\n            checked: checked\n          }]),\n          \"style\": {\n            fontSize: addUnit(iconSize)\n          }\n        }, [this.slots('icon', {\n          checked: checked\n        }) || h(Icon, {\n          \"attrs\": {\n            \"name\": \"success\"\n          },\n          \"style\": this.iconStyle\n        })]);\n      },\n      genLabel: function genLabel() {\n        var h = this.$createElement;\n        var slot = this.slots();\n\n        if (slot) {\n          return h(\"span\", {\n            \"class\": bem('label', [this.labelPosition, {\n              disabled: this.isDisabled\n            }])\n          }, [slot]);\n        }\n      }\n    },\n    render: function render() {\n      var h = arguments[0];\n      var Children = [this.genIcon()];\n\n      if (this.labelPosition === 'left') {\n        Children.unshift(this.genLabel());\n      } else {\n        Children.push(this.genLabel());\n      }\n\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": role,\n          \"tabindex\": this.tabindex,\n          \"aria-checked\": String(this.checked)\n        },\n        \"class\": bem([{\n          disabled: this.isDisabled,\n          'label-disabled': this.labelDisabled\n        }, this.direction]),\n        \"on\": {\n          \"click\": this.onClick\n        }\n      }, [Children]);\n    }\n  };\n};","import { createNamespace } from '../utils';\nimport { CheckboxMixin } from '../mixins/checkbox';\n\nvar _createNamespace = createNamespace('radio'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [CheckboxMixin({\n    bem: bem,\n    role: 'radio',\n    parent: 'vanRadio'\n  })],\n  computed: {\n    currentValue: {\n      get: function get() {\n        return this.parent ? this.parent.value : this.value;\n      },\n      set: function set(val) {\n        (this.parent || this).$emit('input', val);\n      }\n    },\n    checked: function checked() {\n      return this.currentValue === this.name;\n    }\n  },\n  methods: {\n    toggle: function toggle() {\n      this.currentValue = this.name;\n    }\n  }\n});","var stringifyPrimitive = function(v) {\r\n    switch (typeof v) {\r\n        case 'string':\r\n            return v;\r\n        case 'boolean':\r\n            return v ? 'true' : 'false';\r\n        case 'number':\r\n            return isFinite(v) ? v : '';\r\n        default:\r\n            return '';\r\n    }\r\n};\r\n\r\nvar queryStringify = function(obj, sep, eq, name) {\r\n    sep = sep || '&';\r\n    eq = eq || '=';\r\n    if (obj === null) {\r\n        obj = undefined;\r\n    }\r\n    if (typeof obj === 'object') {\r\n        return Object.keys(obj).map(function(k) {\r\n            var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\r\n            if (Array.isArray(obj[k])) {\r\n                return obj[k].map(function(v) {\r\n                    return ks + encodeURIComponent(stringifyPrimitive(v));\r\n                }).join(sep);\r\n            } else {\r\n                return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\r\n            }\r\n        }).filter(Boolean).join(sep);\r\n\r\n    }\r\n    if (!name) return '';\r\n    return encodeURIComponent(stringifyPrimitive(name)) + eq +\r\n        encodeURIComponent(stringifyPrimitive(obj));\r\n};\r\n\r\nvar xhrRes = function (err, xhr, body) {\r\n    var headers = {};\r\n    xhr.getAllResponseHeaders().trim().split('\\n').forEach(function (item) {\r\n        if (item) {\r\n            var index = item.indexOf(':');\r\n            var key = item.substr(0, index).trim().toLowerCase();\r\n            var val = item.substr(index + 1).trim();\r\n            headers[key] = val;\r\n        }\r\n    });\r\n    return {\r\n        error: err,\r\n        statusCode: xhr.status,\r\n        statusMessage: xhr.statusText,\r\n        headers: headers,\r\n        body: body,\r\n    };\r\n};\r\n\r\nvar xhrBody = function (xhr, dataType) {\r\n    return !dataType && dataType === 'text' ? xhr.responseText : xhr.response;\r\n};\r\n\r\nvar request = function (opt, callback) {\r\n\r\n    // method\r\n    var method = (opt.method || 'GET').toUpperCase();\r\n\r\n    // urlqs\r\n    var url = opt.url;\r\n    if (opt.qs) {\r\n        var qsStr = queryStringify(opt.qs);\r\n        if (qsStr) {\r\n            url += (url.indexOf('?') === -1 ? '?' : '&') + qsStr;\r\n        }\r\n    }\r\n\r\n    //  ajax \r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(method, url, true);\r\n    xhr.responseType = opt.dataType || 'text';\r\n\r\n    //  headers\r\n    var headers = opt.headers;\r\n    if (headers) {\r\n        for (var key in headers) {\r\n            if (headers.hasOwnProperty(key) &&\r\n                key.toLowerCase() !== 'content-length' &&\r\n                key.toLowerCase() !== 'user-agent' &&\r\n                key.toLowerCase() !== 'origin' &&\r\n                key.toLowerCase() !== 'host') {\r\n                xhr.setRequestHeader(key, headers[key]);\r\n            }\r\n        }\r\n    }\r\n\r\n    // onprogress\r\n    if (opt.onProgress && xhr.upload) xhr.upload.onprogress = opt.onProgress;\r\n\r\n    // success 2xx/3xx/4xx\r\n    xhr.onload = function () {\r\n        callback(xhrRes(null, xhr, xhrBody(xhr, opt.dataType)));\r\n    };\r\n\r\n    // error 5xx/0 (Https connect-src  statusCode  0)\r\n    xhr.onerror = function (err) {\r\n        var body = xhrBody(xhr, opt.dataType);\r\n        if (body) { // 5xx\r\n            callback(xhrRes(null, xhr, body));\r\n        } else { // 0\r\n            var error = xhr.statusText;\r\n            if (!error && xhr.status === 0) error = 'CORS blocked or network error';\r\n            callback(xhrRes(error, xhr, body));\r\n        }\r\n    };\r\n\r\n    // send\r\n    xhr.send(opt.body || '');\r\n\r\n    //  ajax  xhr.abort\r\n    return xhr;\r\n};\r\n\r\nmodule.exports = request;\r\n","// color\nexport var RED = '#ee0a24';\nexport var BLUE = '#1989fa';\nexport var GREEN = '#07c160';\nexport var WHITE = '#fff'; // border\n\nexport var BORDER = 'van-hairline';\nexport var BORDER_TOP = BORDER + \"--top\";\nexport var BORDER_LEFT = BORDER + \"--left\";\nexport var BORDER_BOTTOM = BORDER + \"--bottom\";\nexport var BORDER_SURROUND = BORDER + \"--surround\";\nexport var BORDER_TOP_BOTTOM = BORDER + \"--top-bottom\";\nexport var BORDER_UNSET_TOP_BOTTOM = BORDER + \"-unset--top-bottom\";","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { emit, inherit } from '../utils/functional';\nimport { BORDER_SURROUND, WHITE } from '../utils/constant';\nimport { routeProps, functionalRoute } from '../utils/router'; // Components\n\nimport Icon from '../icon';\nimport Loading from '../loading'; // Types\n\nvar _createNamespace = createNamespace('button'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nfunction Button(h, props, slots, ctx) {\n  var _ref;\n\n  var tag = props.tag,\n      icon = props.icon,\n      type = props.type,\n      color = props.color,\n      plain = props.plain,\n      disabled = props.disabled,\n      loading = props.loading,\n      hairline = props.hairline,\n      loadingText = props.loadingText,\n      iconPosition = props.iconPosition;\n  var style = {};\n\n  if (color) {\n    style.color = plain ? color : WHITE;\n\n    if (!plain) {\n      // Use background instead of backgroundColor to make linear-gradient work\n      style.background = color;\n    } // hide border when color is linear-gradient\n\n\n    if (color.indexOf('gradient') !== -1) {\n      style.border = 0;\n    } else {\n      style.borderColor = color;\n    }\n  }\n\n  function onClick(event) {\n    if (!loading && !disabled) {\n      emit(ctx, 'click', event);\n      functionalRoute(ctx);\n    }\n  }\n\n  function onTouchstart(event) {\n    emit(ctx, 'touchstart', event);\n  }\n\n  var classes = [bem([type, props.size, {\n    plain: plain,\n    loading: loading,\n    disabled: disabled,\n    hairline: hairline,\n    block: props.block,\n    round: props.round,\n    square: props.square\n  }]), (_ref = {}, _ref[BORDER_SURROUND] = hairline, _ref)];\n\n  function renderIcon() {\n    if (loading) {\n      return slots.loading ? slots.loading() : h(Loading, {\n        \"class\": bem('loading'),\n        \"attrs\": {\n          \"size\": props.loadingSize,\n          \"type\": props.loadingType,\n          \"color\": \"currentColor\"\n        }\n      });\n    }\n\n    if (icon) {\n      return h(Icon, {\n        \"attrs\": {\n          \"name\": icon,\n          \"classPrefix\": props.iconPrefix\n        },\n        \"class\": bem('icon')\n      });\n    }\n  }\n\n  function renderContent() {\n    var content = [];\n\n    if (iconPosition === 'left') {\n      content.push(renderIcon());\n    }\n\n    var text;\n\n    if (loading) {\n      text = loadingText;\n    } else {\n      text = slots.default ? slots.default() : props.text;\n    }\n\n    if (text) {\n      content.push(h(\"span\", {\n        \"class\": bem('text')\n      }, [text]));\n    }\n\n    if (iconPosition === 'right') {\n      content.push(renderIcon());\n    }\n\n    return content;\n  }\n\n  return h(tag, _mergeJSXProps([{\n    \"style\": style,\n    \"class\": classes,\n    \"attrs\": {\n      \"type\": props.nativeType,\n      \"disabled\": disabled\n    },\n    \"on\": {\n      \"click\": onClick,\n      \"touchstart\": onTouchstart\n    }\n  }, inherit(ctx)]), [h(\"div\", {\n    \"class\": bem('content')\n  }, [renderContent()])]);\n}\n\nButton.props = _extends({}, routeProps, {\n  text: String,\n  icon: String,\n  color: String,\n  block: Boolean,\n  plain: Boolean,\n  round: Boolean,\n  square: Boolean,\n  loading: Boolean,\n  hairline: Boolean,\n  disabled: Boolean,\n  iconPrefix: String,\n  nativeType: String,\n  loadingText: String,\n  loadingType: String,\n  tag: {\n    type: String,\n    default: 'button'\n  },\n  type: {\n    type: String,\n    default: 'default'\n  },\n  size: {\n    type: String,\n    default: 'normal'\n  },\n  loadingSize: {\n    type: String,\n    default: '20px'\n  },\n  iconPosition: {\n    type: String,\n    default: 'left'\n  }\n});\nexport default createComponent(Button);","import '../../style/base.less';\nimport '../../info/index.less';\nimport '../../icon/index.less';\nimport '../../loading/index.less';\nimport '../index.less';","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"problem-feedback-wrap page\"},[_c('van-radio-group',{staticClass:\"checkbox-group\",attrs:{\"direction\":\"horizontal\"},model:{value:(_vm.subData.problem),callback:function ($$v) {_vm.$set(_vm.subData, \"problem\", $$v)},expression:\"subData.problem\"}},_vm._l((_vm.checkListData),function(item){return _c('van-radio',{key:item.value,staticClass:\"checkbox-item\",attrs:{\"icon-size\":\"0.37rem\",\"name\":item.value}},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),1),_c('van-field',{attrs:{\"rows\":\"6\",\"autosize\":\"\",\"type\":\"textarea\",\"maxlength\":\"500\",\"placeholder\":\"~\",\"show-word-limit\":\"\"},model:{value:(_vm.subData.describe),callback:function ($$v) {_vm.$set(_vm.subData, \"describe\", $$v)},expression:\"subData.describe\"}}),_c('upload-img',{staticClass:\"upload-wraper \",on:{\"getImgList\":_vm.getImgList}}),_c('van-button',{staticClass:\"sub-btn\",attrs:{\"type\":\"primary\",\"disabled\":_vm.isDisabled,\"round\":\"\",\"size\":\"large\"},on:{\"click\":_vm.subDatas}},[_vm._v(\"\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { isServer } from '..';\nexport function isAndroid() {\n  /* istanbul ignore next */\n  return isServer ? false : /android/.test(navigator.userAgent.toLowerCase());\n}\nexport function isIOS() {\n  /* istanbul ignore next */\n  return isServer ? false : /ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());\n}","/**\n * Hack for iOS12 page scroll\n * https://developers.weixin.qq.com/community/develop/doc/00044ae90742f8c82fb78fcae56800\n */\nimport { isIOS as checkIsIOS } from '../validate/system';\nimport { getRootScrollTop, setRootScrollTop } from './scroll';\nvar isIOS = checkIsIOS();\n/* istanbul ignore next */\n\nexport function resetScroll() {\n  if (isIOS) {\n    setRootScrollTop(getRootScrollTop());\n  }\n}","export function range(num, min, max) {\n  return Math.min(Math.max(num, min), max);\n}\n\nfunction trimExtraChar(value, _char, regExp) {\n  var index = value.indexOf(_char);\n\n  if (index === -1) {\n    return value;\n  }\n\n  if (_char === '-' && index !== 0) {\n    return value.slice(0, index);\n  }\n\n  return value.slice(0, index + 1) + value.slice(index).replace(regExp, '');\n}\n\nexport function formatNumber(value, allowDot, allowMinus) {\n  if (allowDot === void 0) {\n    allowDot = true;\n  }\n\n  if (allowMinus === void 0) {\n    allowMinus = true;\n  }\n\n  if (allowDot) {\n    value = trimExtraChar(value, '.', /\\./g);\n  } else {\n    value = value.split('.')[0];\n  }\n\n  if (allowMinus) {\n    value = trimExtraChar(value, '-', /-/g);\n  } else {\n    value = value.replace(/-/, '');\n  }\n\n  var regExp = allowDot ? /[^-0-9.]/g : /[^-0-9]/g;\n  return value.replace(regExp, '');\n}","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { resetScroll } from '../utils/dom/reset-scroll';\nimport { formatNumber } from '../utils/format/number';\nimport { preventDefault } from '../utils/dom/event';\nimport { isDef, addUnit, isObject, isPromise, isFunction, createNamespace } from '../utils'; // Components\n\nimport Icon from '../icon';\nimport Cell from '../cell';\nimport { cellProps } from '../cell/shared';\n\nvar _createNamespace = createNamespace('field'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  provide: function provide() {\n    return {\n      vanField: this\n    };\n  },\n  inject: {\n    vanForm: {\n      default: null\n    }\n  },\n  props: _extends({}, cellProps, {\n    name: String,\n    rules: Array,\n    disabled: Boolean,\n    readonly: Boolean,\n    autosize: [Boolean, Object],\n    leftIcon: String,\n    rightIcon: String,\n    clearable: Boolean,\n    formatter: Function,\n    maxlength: [Number, String],\n    labelWidth: [Number, String],\n    labelClass: null,\n    labelAlign: String,\n    inputAlign: String,\n    placeholder: String,\n    errorMessage: String,\n    errorMessageAlign: String,\n    showWordLimit: Boolean,\n    value: {\n      type: [Number, String],\n      default: ''\n    },\n    type: {\n      type: String,\n      default: 'text'\n    },\n    error: {\n      type: Boolean,\n      default: null\n    },\n    colon: {\n      type: Boolean,\n      default: null\n    },\n    clearTrigger: {\n      type: String,\n      default: 'focus'\n    },\n    formatTrigger: {\n      type: String,\n      default: 'onChange'\n    }\n  }),\n  data: function data() {\n    return {\n      focused: false,\n      validateFailed: false,\n      validateMessage: ''\n    };\n  },\n  watch: {\n    value: function value() {\n      this.updateValue(this.value);\n      this.resetValidation();\n      this.validateWithTrigger('onChange');\n      this.$nextTick(this.adjustSize);\n    }\n  },\n  mounted: function mounted() {\n    this.updateValue(this.value, this.formatTrigger);\n    this.$nextTick(this.adjustSize);\n\n    if (this.vanForm) {\n      this.vanForm.addField(this);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.vanForm) {\n      this.vanForm.removeField(this);\n    }\n  },\n  computed: {\n    showClear: function showClear() {\n      if (this.clearable && !this.readonly) {\n        var hasValue = isDef(this.value) && this.value !== '';\n        var trigger = this.clearTrigger === 'always' || this.clearTrigger === 'focus' && this.focused;\n        return hasValue && trigger;\n      }\n    },\n    showError: function showError() {\n      if (this.error !== null) {\n        return this.error;\n      }\n\n      if (this.vanForm && this.vanForm.showError && this.validateFailed) {\n        return true;\n      }\n    },\n    listeners: function listeners() {\n      return _extends({}, this.$listeners, {\n        blur: this.onBlur,\n        focus: this.onFocus,\n        input: this.onInput,\n        click: this.onClickInput,\n        keypress: this.onKeypress\n      });\n    },\n    labelStyle: function labelStyle() {\n      var labelWidth = this.getProp('labelWidth');\n\n      if (labelWidth) {\n        return {\n          width: addUnit(labelWidth)\n        };\n      }\n    },\n    formValue: function formValue() {\n      if (this.children && (this.$scopedSlots.input || this.$slots.input)) {\n        return this.children.value;\n      }\n\n      return this.value;\n    }\n  },\n  methods: {\n    // @exposed-api\n    focus: function focus() {\n      if (this.$refs.input) {\n        this.$refs.input.focus();\n      }\n    },\n    // @exposed-api\n    blur: function blur() {\n      if (this.$refs.input) {\n        this.$refs.input.blur();\n      }\n    },\n    runValidator: function runValidator(value, rule) {\n      return new Promise(function (resolve) {\n        var returnVal = rule.validator(value, rule);\n\n        if (isPromise(returnVal)) {\n          return returnVal.then(resolve);\n        }\n\n        resolve(returnVal);\n      });\n    },\n    isEmptyValue: function isEmptyValue(value) {\n      if (Array.isArray(value)) {\n        return !value.length;\n      }\n\n      if (value === 0) {\n        return false;\n      }\n\n      return !value;\n    },\n    runSyncRule: function runSyncRule(value, rule) {\n      if (rule.required && this.isEmptyValue(value)) {\n        return false;\n      }\n\n      if (rule.pattern && !rule.pattern.test(value)) {\n        return false;\n      }\n\n      return true;\n    },\n    getRuleMessage: function getRuleMessage(value, rule) {\n      var message = rule.message;\n\n      if (isFunction(message)) {\n        return message(value, rule);\n      }\n\n      return message;\n    },\n    runRules: function runRules(rules) {\n      var _this = this;\n\n      return rules.reduce(function (promise, rule) {\n        return promise.then(function () {\n          if (_this.validateFailed) {\n            return;\n          }\n\n          var value = _this.formValue;\n\n          if (rule.formatter) {\n            value = rule.formatter(value, rule);\n          }\n\n          if (!_this.runSyncRule(value, rule)) {\n            _this.validateFailed = true;\n            _this.validateMessage = _this.getRuleMessage(value, rule);\n            return;\n          }\n\n          if (rule.validator) {\n            return _this.runValidator(value, rule).then(function (result) {\n              if (result === false) {\n                _this.validateFailed = true;\n                _this.validateMessage = _this.getRuleMessage(value, rule);\n              }\n            });\n          }\n        });\n      }, Promise.resolve());\n    },\n    validate: function validate(rules) {\n      var _this2 = this;\n\n      if (rules === void 0) {\n        rules = this.rules;\n      }\n\n      return new Promise(function (resolve) {\n        if (!rules) {\n          resolve();\n        }\n\n        _this2.resetValidation();\n\n        _this2.runRules(rules).then(function () {\n          if (_this2.validateFailed) {\n            resolve({\n              name: _this2.name,\n              message: _this2.validateMessage\n            });\n          } else {\n            resolve();\n          }\n        });\n      });\n    },\n    validateWithTrigger: function validateWithTrigger(trigger) {\n      if (this.vanForm && this.rules) {\n        var defaultTrigger = this.vanForm.validateTrigger === trigger;\n        var rules = this.rules.filter(function (rule) {\n          if (rule.trigger) {\n            return rule.trigger === trigger;\n          }\n\n          return defaultTrigger;\n        });\n        this.validate(rules);\n      }\n    },\n    resetValidation: function resetValidation() {\n      if (this.validateFailed) {\n        this.validateFailed = false;\n        this.validateMessage = '';\n      }\n    },\n    updateValue: function updateValue(value, trigger) {\n      if (trigger === void 0) {\n        trigger = 'onChange';\n      }\n\n      value = isDef(value) ? String(value) : ''; // native maxlength have incorrect line-break counting\n      // see: https://github.com/youzan/vant/issues/5033\n\n      var maxlength = this.maxlength;\n\n      if (isDef(maxlength) && value.length > maxlength) {\n        if (this.value && this.value.length === +maxlength) {\n          value = this.value;\n        } else {\n          value = value.slice(0, maxlength);\n        }\n      }\n\n      if (this.type === 'number' || this.type === 'digit') {\n        var isNumber = this.type === 'number';\n        value = formatNumber(value, isNumber, isNumber);\n      }\n\n      if (this.formatter && trigger === this.formatTrigger) {\n        value = this.formatter(value);\n      }\n\n      var input = this.$refs.input;\n\n      if (input && value !== input.value) {\n        input.value = value;\n      }\n\n      if (value !== this.value) {\n        this.$emit('input', value);\n      }\n    },\n    onInput: function onInput(event) {\n      // not update v-model when composing\n      if (event.target.composing) {\n        return;\n      }\n\n      this.updateValue(event.target.value);\n    },\n    onFocus: function onFocus(event) {\n      this.focused = true;\n      this.$emit('focus', event); // readonly not work in lagacy mobile safari\n\n      /* istanbul ignore if */\n\n      if (this.readonly) {\n        this.blur();\n      }\n    },\n    onBlur: function onBlur(event) {\n      this.focused = false;\n      this.updateValue(this.value, 'onBlur');\n      this.$emit('blur', event);\n      this.validateWithTrigger('onBlur');\n      resetScroll();\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    onClickInput: function onClickInput(event) {\n      this.$emit('click-input', event);\n    },\n    onClickLeftIcon: function onClickLeftIcon(event) {\n      this.$emit('click-left-icon', event);\n    },\n    onClickRightIcon: function onClickRightIcon(event) {\n      this.$emit('click-right-icon', event);\n    },\n    onClear: function onClear(event) {\n      preventDefault(event);\n      this.$emit('input', '');\n      this.$emit('clear', event);\n    },\n    onKeypress: function onKeypress(event) {\n      var ENTER_CODE = 13;\n\n      if (event.keyCode === ENTER_CODE) {\n        var submitOnEnter = this.getProp('submitOnEnter');\n\n        if (!submitOnEnter && this.type !== 'textarea') {\n          preventDefault(event);\n        } // trigger blur after click keyboard search button\n\n\n        if (this.type === 'search') {\n          this.blur();\n        }\n      }\n\n      this.$emit('keypress', event);\n    },\n    adjustSize: function adjustSize() {\n      var input = this.$refs.input;\n\n      if (!(this.type === 'textarea' && this.autosize) || !input) {\n        return;\n      }\n\n      input.style.height = 'auto';\n      var height = input.scrollHeight;\n\n      if (isObject(this.autosize)) {\n        var _this$autosize = this.autosize,\n            maxHeight = _this$autosize.maxHeight,\n            minHeight = _this$autosize.minHeight;\n\n        if (maxHeight) {\n          height = Math.min(height, maxHeight);\n        }\n\n        if (minHeight) {\n          height = Math.max(height, minHeight);\n        }\n      }\n\n      if (height) {\n        input.style.height = height + 'px';\n      }\n    },\n    genInput: function genInput() {\n      var h = this.$createElement;\n      var type = this.type;\n      var inputSlot = this.slots('input');\n      var inputAlign = this.getProp('inputAlign');\n\n      if (inputSlot) {\n        return h(\"div\", {\n          \"class\": bem('control', [inputAlign, 'custom']),\n          \"on\": {\n            \"click\": this.onClickInput\n          }\n        }, [inputSlot]);\n      }\n\n      var inputProps = {\n        ref: 'input',\n        class: bem('control', inputAlign),\n        domProps: {\n          value: this.value\n        },\n        attrs: _extends({}, this.$attrs, {\n          name: this.name,\n          disabled: this.disabled,\n          readonly: this.readonly,\n          placeholder: this.placeholder\n        }),\n        on: this.listeners,\n        // add model directive to skip IME composition\n        directives: [{\n          name: 'model',\n          value: this.value\n        }]\n      };\n\n      if (type === 'textarea') {\n        return h(\"textarea\", _mergeJSXProps([{}, inputProps]));\n      }\n\n      var inputType = type;\n      var inputMode; // type=\"number\" is weired in iOS, and can't prevent dot in Android\n      // so use inputmode to set keyboard in mordern browers\n\n      if (type === 'number') {\n        inputType = 'text';\n        inputMode = 'decimal';\n      }\n\n      if (type === 'digit') {\n        inputType = 'tel';\n        inputMode = 'numeric';\n      }\n\n      return h(\"input\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"type\": inputType,\n          \"inputmode\": inputMode\n        }\n      }, inputProps]));\n    },\n    genLeftIcon: function genLeftIcon() {\n      var h = this.$createElement;\n      var showLeftIcon = this.slots('left-icon') || this.leftIcon;\n\n      if (showLeftIcon) {\n        return h(\"div\", {\n          \"class\": bem('left-icon'),\n          \"on\": {\n            \"click\": this.onClickLeftIcon\n          }\n        }, [this.slots('left-icon') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.leftIcon,\n            \"classPrefix\": this.iconPrefix\n          }\n        })]);\n      }\n    },\n    genRightIcon: function genRightIcon() {\n      var h = this.$createElement;\n      var slots = this.slots;\n      var showRightIcon = slots('right-icon') || this.rightIcon;\n\n      if (showRightIcon) {\n        return h(\"div\", {\n          \"class\": bem('right-icon'),\n          \"on\": {\n            \"click\": this.onClickRightIcon\n          }\n        }, [slots('right-icon') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.rightIcon,\n            \"classPrefix\": this.iconPrefix\n          }\n        })]);\n      }\n    },\n    genWordLimit: function genWordLimit() {\n      var h = this.$createElement;\n\n      if (this.showWordLimit && this.maxlength) {\n        var count = (this.value || '').length;\n        return h(\"div\", {\n          \"class\": bem('word-limit')\n        }, [h(\"span\", {\n          \"class\": bem('word-num')\n        }, [count]), \"/\", this.maxlength]);\n      }\n    },\n    genMessage: function genMessage() {\n      var h = this.$createElement;\n\n      if (this.vanForm && this.vanForm.showErrorMessage === false) {\n        return;\n      }\n\n      var message = this.errorMessage || this.validateMessage;\n\n      if (message) {\n        var errorMessageAlign = this.getProp('errorMessageAlign');\n        return h(\"div\", {\n          \"class\": bem('error-message', errorMessageAlign)\n        }, [message]);\n      }\n    },\n    getProp: function getProp(key) {\n      if (isDef(this[key])) {\n        return this[key];\n      }\n\n      if (this.vanForm && isDef(this.vanForm[key])) {\n        return this.vanForm[key];\n      }\n    },\n    genLabel: function genLabel() {\n      var h = this.$createElement;\n      var colon = this.getProp('colon') ? ':' : '';\n\n      if (this.slots('label')) {\n        return [this.slots('label'), colon];\n      }\n\n      if (this.label) {\n        return h(\"span\", [this.label + colon]);\n      }\n    }\n  },\n  render: function render() {\n    var _bem;\n\n    var h = arguments[0];\n    var slots = this.slots;\n    var labelAlign = this.getProp('labelAlign');\n    var scopedSlots = {\n      icon: this.genLeftIcon\n    };\n    var Label = this.genLabel();\n\n    if (Label) {\n      scopedSlots.title = function () {\n        return Label;\n      };\n    }\n\n    var extra = this.slots('extra');\n\n    if (extra) {\n      scopedSlots.extra = function () {\n        return extra;\n      };\n    }\n\n    return h(Cell, {\n      \"attrs\": {\n        \"icon\": this.leftIcon,\n        \"size\": this.size,\n        \"center\": this.center,\n        \"border\": this.border,\n        \"isLink\": this.isLink,\n        \"required\": this.required,\n        \"clickable\": this.clickable,\n        \"titleStyle\": this.labelStyle,\n        \"valueClass\": bem('value'),\n        \"titleClass\": [bem('label', labelAlign), this.labelClass],\n        \"arrowDirection\": this.arrowDirection\n      },\n      \"scopedSlots\": scopedSlots,\n      \"class\": bem((_bem = {\n        error: this.showError,\n        disabled: this.disabled\n      }, _bem[\"label-\" + labelAlign] = labelAlign, _bem['min-height'] = this.type === 'textarea' && !this.autosize, _bem)),\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [h(\"div\", {\n      \"class\": bem('body')\n    }, [this.genInput(), this.showClear && h(Icon, {\n      \"attrs\": {\n        \"name\": \"clear\"\n      },\n      \"class\": bem('clear'),\n      \"on\": {\n        \"touchstart\": this.onClear\n      }\n    }), this.genRightIcon(), slots('button') && h(\"div\", {\n      \"class\": bem('button')\n    }, [slots('button')])]), this.genWordLimit(), this.genMessage()]);\n  }\n});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-uploader',{staticClass:\"upload-wraper\",attrs:{\"max-size\":10 * 1024 * 1024,\"multiple\":\"\",\"before-read\":_vm.beforeRead,\"after-read\":_vm.afterRead,\"max-count\":9,\"upload-icon\":\"plus\"},on:{\"oversize\":_vm.onOversize,\"delete\":_vm.deleteImg},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function toArray(item) {\n  if (Array.isArray(item)) {\n    return item;\n  }\n\n  return [item];\n}\nexport function readFile(file, resultType) {\n  return new Promise(function (resolve) {\n    if (resultType === 'file') {\n      resolve();\n      return;\n    }\n\n    var reader = new FileReader();\n\n    reader.onload = function (event) {\n      resolve(event.target.result);\n    };\n\n    if (resultType === 'dataUrl') {\n      reader.readAsDataURL(file);\n    } else if (resultType === 'text') {\n      reader.readAsText(file);\n    }\n  });\n}\nexport function isOversize(files, maxSize) {\n  return toArray(files).some(function (file) {\n    return file.size > maxSize;\n  });\n}\nvar IMAGE_REGEXP = /\\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;\nexport function isImageUrl(url) {\n  return IMAGE_REGEXP.test(url);\n}\nexport function isImageFile(item) {\n  // some special urls cannot be recognized\n  // user can add `isImage` flag to mark it as an image url\n  if (item.isImage) {\n    return true;\n  }\n\n  if (item.file && item.file.type) {\n    return item.file.type.indexOf('image') === 0;\n  }\n\n  if (item.url) {\n    return isImageUrl(item.url);\n  }\n\n  if (item.content) {\n    return item.content.indexOf('data:image') === 0;\n  }\n\n  return false;\n}","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport { createNamespace, isDef, addUnit, inBrowser } from '../utils';\nimport Icon from '../icon';\n\nvar _createNamespace = createNamespace('image'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  props: {\n    src: String,\n    fit: String,\n    alt: String,\n    round: Boolean,\n    width: [Number, String],\n    height: [Number, String],\n    radius: [Number, String],\n    lazyLoad: Boolean,\n    iconPrefix: String,\n    showError: {\n      type: Boolean,\n      default: true\n    },\n    showLoading: {\n      type: Boolean,\n      default: true\n    },\n    errorIcon: {\n      type: String,\n      default: 'photo-fail'\n    },\n    loadingIcon: {\n      type: String,\n      default: 'photo'\n    }\n  },\n  data: function data() {\n    return {\n      loading: true,\n      error: false\n    };\n  },\n  watch: {\n    src: function src() {\n      this.loading = true;\n      this.error = false;\n    }\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n\n      if (isDef(this.width)) {\n        style.width = addUnit(this.width);\n      }\n\n      if (isDef(this.height)) {\n        style.height = addUnit(this.height);\n      }\n\n      if (isDef(this.radius)) {\n        style.overflow = 'hidden';\n        style.borderRadius = addUnit(this.radius);\n      }\n\n      return style;\n    }\n  },\n  created: function created() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload && inBrowser) {\n      $Lazyload.$on('loaded', this.onLazyLoaded);\n      $Lazyload.$on('error', this.onLazyLoadError);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $Lazyload = this.$Lazyload;\n\n    if ($Lazyload) {\n      $Lazyload.$off('loaded', this.onLazyLoaded);\n      $Lazyload.$off('error', this.onLazyLoadError);\n    }\n  },\n  methods: {\n    onLoad: function onLoad(event) {\n      this.loading = false;\n      this.$emit('load', event);\n    },\n    onLazyLoaded: function onLazyLoaded(_ref) {\n      var el = _ref.el;\n\n      if (el === this.$refs.image && this.loading) {\n        this.onLoad();\n      }\n    },\n    onLazyLoadError: function onLazyLoadError(_ref2) {\n      var el = _ref2.el;\n\n      if (el === this.$refs.image && !this.error) {\n        this.onError();\n      }\n    },\n    onError: function onError(event) {\n      this.error = true;\n      this.loading = false;\n      this.$emit('error', event);\n    },\n    onClick: function onClick(event) {\n      this.$emit('click', event);\n    },\n    genPlaceholder: function genPlaceholder() {\n      var h = this.$createElement;\n\n      if (this.loading && this.showLoading && inBrowser) {\n        return h(\"div\", {\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.loadingIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('loading-icon')\n        })]);\n      }\n\n      if (this.error && this.showError) {\n        return h(\"div\", {\n          \"class\": bem('error')\n        }, [this.slots('error') || h(Icon, {\n          \"attrs\": {\n            \"name\": this.errorIcon,\n            \"classPrefix\": this.iconPrefix\n          },\n          \"class\": bem('error-icon')\n        })]);\n      }\n    },\n    genImage: function genImage() {\n      var h = this.$createElement;\n      var imgData = {\n        class: bem('img'),\n        attrs: {\n          alt: this.alt\n        },\n        style: {\n          objectFit: this.fit\n        }\n      };\n\n      if (this.error) {\n        return;\n      }\n\n      if (this.lazyLoad) {\n        return h(\"img\", _mergeJSXProps([{\n          \"ref\": \"image\",\n          \"directives\": [{\n            name: \"lazy\",\n            value: this.src\n          }]\n        }, imgData]));\n      }\n\n      return h(\"img\", _mergeJSXProps2([{\n        \"attrs\": {\n          \"src\": this.src\n        },\n        \"on\": {\n          \"load\": this.onLoad,\n          \"error\": this.onError\n        }\n      }, imgData]));\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem({\n        round: this.round\n      }),\n      \"style\": this.style,\n      \"on\": {\n        \"click\": this.onClick\n      }\n    }, [this.genImage(), this.genPlaceholder(), this.slots()]);\n  }\n});","import { createNamespace } from '../utils';\n\nvar _createNamespace = createNamespace('image-preview'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport { createComponent, bem };","export function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  var hidden = style.display === 'none'; // offsetParent returns null in the following situations:\n  // 1. The element or its parent element has the display property set to none.\n  // 2. The element has the position property set to fixed\n\n  var parentHidden = el.offsetParent === null && style.position !== 'fixed';\n  return hidden || parentHidden;\n}","// Utils\nimport { createNamespace } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { preventDefault } from '../utils/dom/event';\nimport { doubleRaf } from '../utils/dom/raf';\nimport { range } from '../utils/format/number'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch';\nimport { ParentMixin } from '../mixins/relation';\nimport { BindEventMixin } from '../mixins/bind-event';\n\nvar _createNamespace = createNamespace('swipe'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [TouchMixin, ParentMixin('vanSwipe'), BindEventMixin(function (bind, isBind) {\n    bind(window, 'resize', this.resize, true);\n    bind(window, 'orientationchange', this.resize, true);\n    bind(window, 'visibilitychange', this.onVisibilityChange);\n\n    if (isBind) {\n      this.initialize();\n    } else {\n      this.clear();\n    }\n  })],\n  props: {\n    width: [Number, String],\n    height: [Number, String],\n    autoplay: [Number, String],\n    vertical: Boolean,\n    lazyRender: Boolean,\n    indicatorColor: String,\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    duration: {\n      type: [Number, String],\n      default: 500\n    },\n    touchable: {\n      type: Boolean,\n      default: true\n    },\n    initialSwipe: {\n      type: [Number, String],\n      default: 0\n    },\n    showIndicators: {\n      type: Boolean,\n      default: true\n    },\n    stopPropagation: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      rect: null,\n      offset: 0,\n      active: 0,\n      deltaX: 0,\n      deltaY: 0,\n      swiping: false,\n      computedWidth: 0,\n      computedHeight: 0\n    };\n  },\n  watch: {\n    children: function children() {\n      this.initialize();\n    },\n    initialSwipe: function initialSwipe() {\n      this.initialize();\n    },\n    autoplay: function autoplay(_autoplay) {\n      if (_autoplay > 0) {\n        this.autoPlay();\n      } else {\n        this.clear();\n      }\n    }\n  },\n  computed: {\n    count: function count() {\n      return this.children.length;\n    },\n    maxCount: function maxCount() {\n      return Math.ceil(Math.abs(this.minOffset) / this.size);\n    },\n    delta: function delta() {\n      return this.vertical ? this.deltaY : this.deltaX;\n    },\n    size: function size() {\n      return this[this.vertical ? 'computedHeight' : 'computedWidth'];\n    },\n    trackSize: function trackSize() {\n      return this.count * this.size;\n    },\n    activeIndicator: function activeIndicator() {\n      return (this.active + this.count) % this.count;\n    },\n    isCorrectDirection: function isCorrectDirection() {\n      var expect = this.vertical ? 'vertical' : 'horizontal';\n      return this.direction === expect;\n    },\n    trackStyle: function trackStyle() {\n      var _ref;\n\n      var mainAxis = this.vertical ? 'height' : 'width';\n      var crossAxis = this.vertical ? 'width' : 'height';\n      return _ref = {}, _ref[mainAxis] = this.trackSize + \"px\", _ref[crossAxis] = this[crossAxis] ? this[crossAxis] + \"px\" : '', _ref.transitionDuration = (this.swiping ? 0 : this.duration) + \"ms\", _ref.transform = \"translate\" + (this.vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\", _ref;\n    },\n    indicatorStyle: function indicatorStyle() {\n      return {\n        backgroundColor: this.indicatorColor\n      };\n    },\n    minOffset: function minOffset() {\n      return (this.vertical ? this.rect.height : this.rect.width) - this.size * this.count;\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$refs.track);\n  },\n  methods: {\n    // initialize swipe position\n    initialize: function initialize(active) {\n      if (active === void 0) {\n        active = +this.initialSwipe;\n      }\n\n      if (!this.$el || isHidden(this.$el)) {\n        return;\n      }\n\n      clearTimeout(this.timer);\n      var rect = this.$el.getBoundingClientRect();\n      this.rect = rect;\n      this.swiping = true;\n      this.active = active;\n      this.computedWidth = +this.width || rect.width;\n      this.computedHeight = +this.height || rect.height;\n      this.offset = this.getTargetOffset(active);\n      this.children.forEach(function (swipe) {\n        swipe.offset = 0;\n      });\n      this.autoPlay();\n    },\n    // @exposed-api\n    resize: function resize() {\n      this.initialize(this.activeIndicator);\n    },\n    onVisibilityChange: function onVisibilityChange() {\n      if (document.hidden) {\n        this.clear();\n      } else {\n        this.autoPlay();\n      }\n    },\n    onTouchStart: function onTouchStart(event) {\n      if (!this.touchable) return;\n      this.clear();\n      this.touchStartTime = Date.now();\n      this.touchStart(event);\n      this.correctPosition();\n    },\n    onTouchMove: function onTouchMove(event) {\n      if (!this.touchable || !this.swiping) return;\n      this.touchMove(event);\n\n      if (this.isCorrectDirection) {\n        preventDefault(event, this.stopPropagation);\n        this.move({\n          offset: this.delta\n        });\n      }\n    },\n    onTouchEnd: function onTouchEnd() {\n      if (!this.touchable || !this.swiping) return;\n      var size = this.size,\n          delta = this.delta;\n      var duration = Date.now() - this.touchStartTime;\n      var speed = delta / duration;\n      var shouldSwipe = Math.abs(speed) > 0.25 || Math.abs(delta) > size / 2;\n\n      if (shouldSwipe && this.isCorrectDirection) {\n        var offset = this.vertical ? this.offsetY : this.offsetX;\n        var pace = 0;\n\n        if (this.loop) {\n          pace = offset > 0 ? delta > 0 ? -1 : 1 : 0;\n        } else {\n          pace = -Math[delta > 0 ? 'ceil' : 'floor'](delta / size);\n        }\n\n        this.move({\n          pace: pace,\n          emitChange: true\n        });\n      } else if (delta) {\n        this.move({\n          pace: 0\n        });\n      }\n\n      this.swiping = false;\n      this.autoPlay();\n    },\n    getTargetActive: function getTargetActive(pace) {\n      var active = this.active,\n          count = this.count,\n          maxCount = this.maxCount;\n\n      if (pace) {\n        if (this.loop) {\n          return range(active + pace, -1, count);\n        }\n\n        return range(active + pace, 0, maxCount);\n      }\n\n      return active;\n    },\n    getTargetOffset: function getTargetOffset(targetActive, offset) {\n      if (offset === void 0) {\n        offset = 0;\n      }\n\n      var currentPosition = targetActive * this.size;\n\n      if (!this.loop) {\n        currentPosition = Math.min(currentPosition, -this.minOffset);\n      }\n\n      var targetOffset = offset - currentPosition;\n\n      if (!this.loop) {\n        targetOffset = range(targetOffset, this.minOffset, 0);\n      }\n\n      return targetOffset;\n    },\n    move: function move(_ref2) {\n      var _ref2$pace = _ref2.pace,\n          pace = _ref2$pace === void 0 ? 0 : _ref2$pace,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? 0 : _ref2$offset,\n          emitChange = _ref2.emitChange;\n      var loop = this.loop,\n          count = this.count,\n          active = this.active,\n          children = this.children,\n          trackSize = this.trackSize,\n          minOffset = this.minOffset;\n\n      if (count <= 1) {\n        return;\n      }\n\n      var targetActive = this.getTargetActive(pace);\n      var targetOffset = this.getTargetOffset(targetActive, offset); // auto move first and last swipe in loop mode\n\n      if (loop) {\n        if (children[0] && targetOffset !== minOffset) {\n          var outRightBound = targetOffset < minOffset;\n          children[0].offset = outRightBound ? trackSize : 0;\n        }\n\n        if (children[count - 1] && targetOffset !== 0) {\n          var outLeftBound = targetOffset > 0;\n          children[count - 1].offset = outLeftBound ? -trackSize : 0;\n        }\n      }\n\n      this.active = targetActive;\n      this.offset = targetOffset;\n\n      if (emitChange && targetActive !== active) {\n        this.$emit('change', this.activeIndicator);\n      }\n    },\n    // @exposed-api\n    prev: function prev() {\n      var _this = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this.swiping = false;\n\n        _this.move({\n          pace: -1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    next: function next() {\n      var _this2 = this;\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        _this2.swiping = false;\n\n        _this2.move({\n          pace: 1,\n          emitChange: true\n        });\n      });\n    },\n    // @exposed-api\n    swipeTo: function swipeTo(index, options) {\n      var _this3 = this;\n\n      if (options === void 0) {\n        options = {};\n      }\n\n      this.correctPosition();\n      this.resetTouchStatus();\n      doubleRaf(function () {\n        var targetIndex;\n\n        if (_this3.loop && index === _this3.count) {\n          targetIndex = _this3.active === 0 ? 0 : index;\n        } else {\n          targetIndex = index % _this3.count;\n        }\n\n        if (options.immediate) {\n          doubleRaf(function () {\n            _this3.swiping = false;\n          });\n        } else {\n          _this3.swiping = false;\n        }\n\n        _this3.move({\n          pace: targetIndex - _this3.active,\n          emitChange: true\n        });\n      });\n    },\n    correctPosition: function correctPosition() {\n      this.swiping = true;\n\n      if (this.active <= -1) {\n        this.move({\n          pace: this.count\n        });\n      }\n\n      if (this.active >= this.count) {\n        this.move({\n          pace: -this.count\n        });\n      }\n    },\n    clear: function clear() {\n      clearTimeout(this.timer);\n    },\n    autoPlay: function autoPlay() {\n      var _this4 = this;\n\n      var autoplay = this.autoplay;\n\n      if (autoplay > 0 && this.count > 1) {\n        this.clear();\n        this.timer = setTimeout(function () {\n          _this4.next();\n\n          _this4.autoPlay();\n        }, autoplay);\n      }\n    },\n    genIndicator: function genIndicator() {\n      var _this5 = this;\n\n      var h = this.$createElement;\n      var count = this.count,\n          activeIndicator = this.activeIndicator;\n      var slot = this.slots('indicator');\n\n      if (slot) {\n        return slot;\n      }\n\n      if (this.showIndicators && count > 1) {\n        return h(\"div\", {\n          \"class\": bem('indicators', {\n            vertical: this.vertical\n          })\n        }, [Array.apply(void 0, Array(count)).map(function (empty, index) {\n          return h(\"i\", {\n            \"class\": bem('indicator', {\n              active: index === activeIndicator\n            }),\n            \"style\": index === activeIndicator ? _this5.indicatorStyle : null\n          });\n        })]);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"ref\": \"track\",\n      \"style\": this.trackStyle,\n      \"class\": bem('track', {\n        vertical: this.vertical\n      })\n    }, [this.slots()]), this.genIndicator()]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createNamespace } from '../utils';\nimport { ChildrenMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('swipe-item'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ChildrenMixin('vanSwipe')],\n  data: function data() {\n    return {\n      offset: 0,\n      inited: false,\n      mounted: false\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.mounted = true;\n    });\n  },\n  computed: {\n    style: function style() {\n      var style = {};\n      var _this$parent = this.parent,\n          size = _this$parent.size,\n          vertical = _this$parent.vertical;\n      style[vertical ? 'height' : 'width'] = size + \"px\";\n\n      if (this.offset) {\n        style.transform = \"translate\" + (vertical ? 'Y' : 'X') + \"(\" + this.offset + \"px)\";\n      }\n\n      return style;\n    },\n    shouldRender: function shouldRender() {\n      var index = this.index,\n          inited = this.inited,\n          parent = this.parent,\n          mounted = this.mounted;\n\n      if (!parent.lazyRender || inited) {\n        return true;\n      } // wait for all item to mount, so we can get the exact count\n\n\n      if (!mounted) {\n        return false;\n      }\n\n      var active = parent.activeIndicator;\n      var maxActive = parent.count - 1;\n      var prevActive = active === 0 && parent.loop ? maxActive : active - 1;\n      var nextActive = active === maxActive && parent.loop ? 0 : active + 1;\n      var shouldRender = index === active || index === prevActive || index === nextActive;\n\n      if (shouldRender) {\n        this.inited = true;\n      }\n\n      return shouldRender;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem(),\n      \"style\": this.style,\n      \"on\": _extends({}, this.$listeners)\n    }, [this.shouldRender && this.slots()]);\n  }\n});","// Utils\nimport { bem } from './shared';\nimport { range } from '../utils/format/number';\nimport { preventDefault } from '../utils/dom/event'; // Mixins\n\nimport { TouchMixin } from '../mixins/touch'; // Component\n\nimport Image from '../image';\nimport Loading from '../loading';\nimport SwipeItem from '../swipe-item';\n\nfunction getDistance(touches) {\n  return Math.sqrt(Math.pow(touches[0].clientX - touches[1].clientX, 2) + Math.pow(touches[0].clientY - touches[1].clientY, 2));\n}\n\nexport default {\n  mixins: [TouchMixin],\n  props: {\n    src: String,\n    show: Boolean,\n    active: Number,\n    minZoom: [Number, String],\n    maxZoom: [Number, String],\n    rootWidth: Number,\n    rootHeight: Number\n  },\n  data: function data() {\n    return {\n      scale: 1,\n      moveX: 0,\n      moveY: 0,\n      moving: false,\n      zooming: false,\n      imageRatio: 0,\n      displayWidth: 0,\n      displayHeight: 0\n    };\n  },\n  computed: {\n    vertical: function vertical() {\n      var rootWidth = this.rootWidth,\n          rootHeight = this.rootHeight;\n      var rootRatio = rootHeight / rootWidth;\n      return this.imageRatio > rootRatio;\n    },\n    imageStyle: function imageStyle() {\n      var scale = this.scale;\n      var style = {\n        transitionDuration: this.zooming || this.moving ? '0s' : '.3s'\n      };\n\n      if (scale !== 1) {\n        var offsetX = this.moveX / scale;\n        var offsetY = this.moveY / scale;\n        style.transform = \"scale(\" + scale + \", \" + scale + \") translate(\" + offsetX + \"px, \" + offsetY + \"px)\";\n      }\n\n      return style;\n    },\n    maxMoveX: function maxMoveX() {\n      if (this.imageRatio) {\n        var displayWidth = this.vertical ? this.rootHeight / this.imageRatio : this.rootWidth;\n        return Math.max(0, (this.scale * displayWidth - this.rootWidth) / 2);\n      }\n\n      return 0;\n    },\n    maxMoveY: function maxMoveY() {\n      if (this.imageRatio) {\n        var displayHeight = this.vertical ? this.rootHeight : this.rootWidth * this.imageRatio;\n        return Math.max(0, (this.scale * displayHeight - this.rootHeight) / 2);\n      }\n\n      return 0;\n    }\n  },\n  watch: {\n    show: function show(val) {\n      if (!val) {\n        this.resetScale();\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.bindTouchEvent(this.$el);\n  },\n  methods: {\n    resetScale: function resetScale() {\n      this.setScale(1);\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    setScale: function setScale(scale) {\n      this.scale = range(scale, +this.minZoom, +this.maxZoom);\n      this.$emit('scale', {\n        scale: this.scale,\n        index: this.active\n      });\n    },\n    toggleScale: function toggleScale() {\n      var scale = this.scale > 1 ? 1 : 2;\n      this.setScale(scale);\n      this.moveX = 0;\n      this.moveY = 0;\n    },\n    onTouchStart: function onTouchStart(event) {\n      var touches = event.touches;\n      var _this$offsetX = this.offsetX,\n          offsetX = _this$offsetX === void 0 ? 0 : _this$offsetX;\n      this.touchStart(event);\n      this.touchStartTime = new Date();\n      this.startMoveX = this.moveX;\n      this.startMoveY = this.moveY;\n      this.moving = touches.length === 1 && this.scale !== 1;\n      this.zooming = touches.length === 2 && !offsetX;\n\n      if (this.zooming) {\n        this.startScale = this.scale;\n        this.startDistance = getDistance(event.touches);\n      }\n    },\n    onTouchMove: function onTouchMove(event) {\n      var touches = event.touches;\n      this.touchMove(event);\n\n      if (this.moving || this.zooming) {\n        preventDefault(event, true);\n      }\n\n      if (this.moving) {\n        var moveX = this.deltaX + this.startMoveX;\n        var moveY = this.deltaY + this.startMoveY;\n        this.moveX = range(moveX, -this.maxMoveX, this.maxMoveX);\n        this.moveY = range(moveY, -this.maxMoveY, this.maxMoveY);\n      }\n\n      if (this.zooming && touches.length === 2) {\n        var distance = getDistance(touches);\n        var scale = this.startScale * distance / this.startDistance;\n        this.setScale(scale);\n      }\n    },\n    onTouchEnd: function onTouchEnd(event) {\n      var stopPropagation = false;\n      /* istanbul ignore else */\n\n      if (this.moving || this.zooming) {\n        stopPropagation = true;\n\n        if (this.moving && this.startMoveX === this.moveX && this.startMoveY === this.moveY) {\n          stopPropagation = false;\n        }\n\n        if (!event.touches.length) {\n          if (this.zooming) {\n            this.moveX = range(this.moveX, -this.maxMoveX, this.maxMoveX);\n            this.moveY = range(this.moveY, -this.maxMoveY, this.maxMoveY);\n            this.zooming = false;\n          }\n\n          this.moving = false;\n          this.startMoveX = 0;\n          this.startMoveY = 0;\n          this.startScale = 1;\n\n          if (this.scale < 1) {\n            this.resetScale();\n          }\n        }\n      } // eliminate tap delay on safari\n\n\n      preventDefault(event, stopPropagation);\n      this.checkTap();\n      this.resetTouchStatus();\n    },\n    checkTap: function checkTap() {\n      var _this = this;\n\n      var _this$offsetX2 = this.offsetX,\n          offsetX = _this$offsetX2 === void 0 ? 0 : _this$offsetX2,\n          _this$offsetY = this.offsetY,\n          offsetY = _this$offsetY === void 0 ? 0 : _this$offsetY;\n      var deltaTime = new Date() - this.touchStartTime;\n      var TAP_TIME = 250;\n      var TAP_OFFSET = 10;\n\n      if (offsetX < TAP_OFFSET && offsetY < TAP_OFFSET && deltaTime < TAP_TIME) {\n        if (this.doubleTapTimer) {\n          clearTimeout(this.doubleTapTimer);\n          this.doubleTapTimer = null;\n          this.toggleScale();\n        } else {\n          this.doubleTapTimer = setTimeout(function () {\n            _this.$emit('close');\n\n            _this.doubleTapTimer = null;\n          }, TAP_TIME);\n        }\n      }\n    },\n    onLoad: function onLoad(event) {\n      var _event$target = event.target,\n          naturalWidth = _event$target.naturalWidth,\n          naturalHeight = _event$target.naturalHeight;\n      this.imageRatio = naturalHeight / naturalWidth;\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var imageSlots = {\n      loading: function loading() {\n        return h(Loading, {\n          \"attrs\": {\n            \"type\": \"spinner\"\n          }\n        });\n      }\n    };\n    return h(SwipeItem, {\n      \"class\": bem('swipe-item')\n    }, [h(Image, {\n      \"attrs\": {\n        \"src\": this.src,\n        \"fit\": \"contain\"\n      },\n      \"class\": bem('image', {\n        vertical: this.vertical\n      }),\n      \"style\": this.imageStyle,\n      \"scopedSlots\": imageSlots,\n      \"on\": {\n        \"load\": this.onLoad\n      }\n    })]);\n  }\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport Vue from 'vue';\nimport VueImagePreview from './ImagePreview';\nimport { isServer } from '../utils';\nvar instance;\nvar defaultConfig = {\n  loop: true,\n  value: true,\n  images: [],\n  maxZoom: 3,\n  minZoom: 1 / 3,\n  onClose: null,\n  onChange: null,\n  className: '',\n  showIndex: true,\n  closeable: false,\n  closeIcon: 'clear',\n  asyncClose: false,\n  getContainer: 'body',\n  startPosition: 0,\n  swipeDuration: 500,\n  showIndicators: false,\n  closeOnPopstate: true,\n  closeIconPosition: 'top-right'\n};\n\nvar initInstance = function initInstance() {\n  instance = new (Vue.extend(VueImagePreview))({\n    el: document.createElement('div')\n  });\n  document.body.appendChild(instance.$el);\n  instance.$on('change', function (index) {\n    if (instance.onChange) {\n      instance.onChange(index);\n    }\n  });\n  instance.$on('scale', function (data) {\n    if (instance.onScale) {\n      instance.onScale(data);\n    }\n  });\n};\n\nvar ImagePreview = function ImagePreview(images, startPosition) {\n  if (startPosition === void 0) {\n    startPosition = 0;\n  }\n\n  /* istanbul ignore if */\n  if (isServer) {\n    return;\n  }\n\n  if (!instance) {\n    initInstance();\n  }\n\n  var options = Array.isArray(images) ? {\n    images: images,\n    startPosition: startPosition\n  } : images;\n\n  _extends(instance, defaultConfig, options);\n\n  instance.$once('input', function (show) {\n    instance.value = show;\n  });\n  instance.$once('closed', function () {\n    instance.images = [];\n  });\n\n  if (options.onClose) {\n    instance.$off('close');\n    instance.$once('close', options.onClose);\n  }\n\n  return instance;\n};\n\nImagePreview.Component = VueImagePreview;\n\nImagePreview.install = function () {\n  Vue.use(VueImagePreview);\n};\n\nexport default ImagePreview;","// Utils\nimport { bem, createComponent } from './shared'; // Mixins\n\nimport { PopupMixin } from '../mixins/popup';\nimport { TouchMixin } from '../mixins/touch';\nimport { BindEventMixin } from '../mixins/bind-event'; // Components\n\nimport Icon from '../icon';\nimport Swipe from '../swipe';\nimport ImagePreviewItem from './ImagePreviewItem';\nexport default createComponent({\n  mixins: [TouchMixin, PopupMixin({\n    skipToggleEvent: true\n  }), BindEventMixin(function (bind) {\n    bind(window, 'resize', this.resize, true);\n    bind(window, 'orientationchange', this.resize, true);\n  })],\n  props: {\n    className: null,\n    closeable: Boolean,\n    asyncClose: Boolean,\n    showIndicators: Boolean,\n    images: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    loop: {\n      type: Boolean,\n      default: true\n    },\n    overlay: {\n      type: Boolean,\n      default: true\n    },\n    minZoom: {\n      type: [Number, String],\n      default: 1 / 3\n    },\n    maxZoom: {\n      type: [Number, String],\n      default: 3\n    },\n    showIndex: {\n      type: Boolean,\n      default: true\n    },\n    swipeDuration: {\n      type: [Number, String],\n      default: 500\n    },\n    startPosition: {\n      type: [Number, String],\n      default: 0\n    },\n    overlayClass: {\n      type: String,\n      default: bem('overlay')\n    },\n    closeIcon: {\n      type: String,\n      default: 'clear'\n    },\n    closeOnPopstate: {\n      type: Boolean,\n      default: true\n    },\n    closeIconPosition: {\n      type: String,\n      default: 'top-right'\n    }\n  },\n  data: function data() {\n    return {\n      active: 0,\n      rootWidth: 0,\n      rootHeight: 0,\n      doubleClickTimer: null\n    };\n  },\n  mounted: function mounted() {\n    this.resize();\n  },\n  watch: {\n    startPosition: 'setActive',\n    value: function value(val) {\n      var _this = this;\n\n      if (val) {\n        this.setActive(+this.startPosition);\n        this.$nextTick(function () {\n          _this.resize();\n\n          _this.$refs.swipe.swipeTo(+_this.startPosition, {\n            immediate: true\n          });\n        });\n      } else {\n        this.$emit('close', {\n          index: this.active,\n          url: this.images[this.active]\n        });\n      }\n    }\n  },\n  methods: {\n    resize: function resize() {\n      if (this.$el && this.$el.getBoundingClientRect) {\n        var rect = this.$el.getBoundingClientRect();\n        this.rootWidth = rect.width;\n        this.rootHeight = rect.height;\n      }\n    },\n    emitClose: function emitClose() {\n      if (!this.asyncClose) {\n        this.$emit('input', false);\n      }\n    },\n    emitScale: function emitScale(args) {\n      this.$emit('scale', args);\n    },\n    setActive: function setActive(active) {\n      if (active !== this.active) {\n        this.active = active;\n        this.$emit('change', active);\n      }\n    },\n    genIndex: function genIndex() {\n      var h = this.$createElement;\n\n      if (this.showIndex) {\n        return h(\"div\", {\n          \"class\": bem('index')\n        }, [this.slots('index', {\n          index: this.active\n        }) || this.active + 1 + \" / \" + this.images.length]);\n      }\n    },\n    genCover: function genCover() {\n      var h = this.$createElement;\n      var cover = this.slots('cover');\n\n      if (cover) {\n        return h(\"div\", {\n          \"class\": bem('cover')\n        }, [cover]);\n      }\n    },\n    genImages: function genImages() {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      return h(Swipe, {\n        \"ref\": \"swipe\",\n        \"attrs\": {\n          \"lazyRender\": true,\n          \"loop\": this.loop,\n          \"duration\": this.swipeDuration,\n          \"initialSwipe\": this.startPosition,\n          \"showIndicators\": this.showIndicators,\n          \"indicatorColor\": \"white\"\n        },\n        \"class\": bem('swipe'),\n        \"on\": {\n          \"change\": this.setActive\n        }\n      }, [this.images.map(function (image) {\n        return h(ImagePreviewItem, {\n          \"attrs\": {\n            \"src\": image,\n            \"show\": _this2.value,\n            \"active\": _this2.active,\n            \"maxZoom\": _this2.maxZoom,\n            \"minZoom\": _this2.minZoom,\n            \"rootWidth\": _this2.rootWidth,\n            \"rootHeight\": _this2.rootHeight\n          },\n          \"on\": {\n            \"scale\": _this2.emitScale,\n            \"close\": _this2.emitClose\n          }\n        });\n      })]);\n    },\n    genClose: function genClose() {\n      var h = this.$createElement;\n\n      if (this.closeable) {\n        return h(Icon, {\n          \"attrs\": {\n            \"role\": \"button\",\n            \"name\": this.closeIcon\n          },\n          \"class\": bem('close-icon', this.closeIconPosition),\n          \"on\": {\n            \"click\": this.emitClose\n          }\n        });\n      }\n    },\n    onClosed: function onClosed() {\n      this.$emit('closed');\n    },\n    // @exposed-api\n    swipeTo: function swipeTo(index, options) {\n      if (this.$refs.swipe) {\n        this.$refs.swipe.swipeTo(index, options);\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n\n    if (!this.shouldRender) {\n      return;\n    }\n\n    return h(\"transition\", {\n      \"attrs\": {\n        \"name\": \"van-fade\"\n      },\n      \"on\": {\n        \"afterLeave\": this.onClosed\n      }\n    }, [h(\"div\", {\n      \"directives\": [{\n        name: \"show\",\n        value: this.value\n      }],\n      \"class\": [bem(), this.className]\n    }, [this.genClose(), this.genImages(), this.genIndex(), this.genCover()])]);\n  }\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace, addUnit, noop, isPromise, isDef } from '../utils';\nimport { toArray, readFile as _readFile, isOversize, isImageFile } from './utils'; // Mixins\n\nimport { FieldMixin } from '../mixins/field'; // Components\n\nimport Icon from '../icon';\nimport Image from '../image';\nimport Loading from '../loading';\nimport ImagePreview from '../image-preview';\n\nvar _createNamespace = createNamespace('uploader'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  inheritAttrs: false,\n  mixins: [FieldMixin],\n  model: {\n    prop: 'fileList'\n  },\n  props: {\n    disabled: Boolean,\n    lazyLoad: Boolean,\n    uploadText: String,\n    afterRead: Function,\n    beforeRead: Function,\n    beforeDelete: Function,\n    previewSize: [Number, String],\n    previewOptions: Object,\n    name: {\n      type: [Number, String],\n      default: ''\n    },\n    accept: {\n      type: String,\n      default: 'image/*'\n    },\n    fileList: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    maxSize: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    maxCount: {\n      type: [Number, String],\n      default: Number.MAX_VALUE\n    },\n    deletable: {\n      type: Boolean,\n      default: true\n    },\n    showUpload: {\n      type: Boolean,\n      default: true\n    },\n    previewImage: {\n      type: Boolean,\n      default: true\n    },\n    previewFullImage: {\n      type: Boolean,\n      default: true\n    },\n    imageFit: {\n      type: String,\n      default: 'cover'\n    },\n    resultType: {\n      type: String,\n      default: 'dataUrl'\n    },\n    uploadIcon: {\n      type: String,\n      default: 'photograph'\n    }\n  },\n  computed: {\n    previewSizeWithUnit: function previewSizeWithUnit() {\n      return addUnit(this.previewSize);\n    },\n    // for form\n    value: function value() {\n      return this.fileList;\n    }\n  },\n  methods: {\n    getDetail: function getDetail(index) {\n      if (index === void 0) {\n        index = this.fileList.length;\n      }\n\n      return {\n        name: this.name,\n        index: index\n      };\n    },\n    onChange: function onChange(event) {\n      var _this = this;\n\n      var files = event.target.files;\n\n      if (this.disabled || !files.length) {\n        return;\n      }\n\n      files = files.length === 1 ? files[0] : [].slice.call(files);\n\n      if (this.beforeRead) {\n        var response = this.beforeRead(files, this.getDetail());\n\n        if (!response) {\n          this.resetInput();\n          return;\n        }\n\n        if (isPromise(response)) {\n          response.then(function (data) {\n            if (data) {\n              _this.readFile(data);\n            } else {\n              _this.readFile(files);\n            }\n          }).catch(this.resetInput);\n          return;\n        }\n      }\n\n      this.readFile(files);\n    },\n    readFile: function readFile(files) {\n      var _this2 = this;\n\n      var oversize = isOversize(files, this.maxSize);\n\n      if (Array.isArray(files)) {\n        var maxCount = this.maxCount - this.fileList.length;\n\n        if (files.length > maxCount) {\n          files = files.slice(0, maxCount);\n        }\n\n        Promise.all(files.map(function (file) {\n          return _readFile(file, _this2.resultType);\n        })).then(function (contents) {\n          var fileList = files.map(function (file, index) {\n            var result = {\n              file: file,\n              status: '',\n              message: ''\n            };\n\n            if (contents[index]) {\n              result.content = contents[index];\n            }\n\n            return result;\n          });\n\n          _this2.onAfterRead(fileList, oversize);\n        });\n      } else {\n        _readFile(files, this.resultType).then(function (content) {\n          var result = {\n            file: files,\n            status: '',\n            message: ''\n          };\n\n          if (content) {\n            result.content = content;\n          }\n\n          _this2.onAfterRead(result, oversize);\n        });\n      }\n    },\n    onAfterRead: function onAfterRead(files, oversize) {\n      var _this3 = this;\n\n      this.resetInput();\n      var validFiles = files;\n\n      if (oversize) {\n        var oversizeFiles = files;\n\n        if (Array.isArray(files)) {\n          oversizeFiles = [];\n          validFiles = [];\n          files.forEach(function (item) {\n            if (item.file) {\n              if (item.file.size > _this3.maxSize) {\n                oversizeFiles.push(item);\n              } else {\n                validFiles.push(item);\n              }\n            }\n          });\n        } else {\n          validFiles = null;\n        }\n\n        this.$emit('oversize', oversizeFiles, this.getDetail());\n      }\n\n      var isValidFiles = Array.isArray(validFiles) ? Boolean(validFiles.length) : Boolean(validFiles);\n\n      if (isValidFiles) {\n        this.$emit('input', [].concat(this.fileList, toArray(validFiles)));\n\n        if (this.afterRead) {\n          this.afterRead(validFiles, this.getDetail());\n        }\n      }\n    },\n    onDelete: function onDelete(file, index) {\n      var _this4 = this;\n\n      if (this.beforeDelete) {\n        var response = this.beforeDelete(file, this.getDetail(index));\n\n        if (!response) {\n          return;\n        }\n\n        if (isPromise(response)) {\n          response.then(function () {\n            _this4.deleteFile(file, index);\n          }).catch(noop);\n          return;\n        }\n      }\n\n      this.deleteFile(file, index);\n    },\n    deleteFile: function deleteFile(file, index) {\n      var fileList = this.fileList.slice(0);\n      fileList.splice(index, 1);\n      this.$emit('input', fileList);\n      this.$emit('delete', file, this.getDetail(index));\n    },\n    resetInput: function resetInput() {\n      /* istanbul ignore else */\n      if (this.$refs.input) {\n        this.$refs.input.value = '';\n      }\n    },\n    onPreviewImage: function onPreviewImage(item) {\n      var _this5 = this;\n\n      if (!this.previewFullImage) {\n        return;\n      }\n\n      var imageFiles = this.fileList.filter(function (item) {\n        return isImageFile(item);\n      });\n      var imageContents = imageFiles.map(function (item) {\n        return item.content || item.url;\n      });\n      this.imagePreview = ImagePreview(_extends({\n        images: imageContents,\n        startPosition: imageFiles.indexOf(item),\n        onClose: function onClose() {\n          _this5.$emit('close-preview');\n        }\n      }, this.previewOptions));\n    },\n    // @exposed-api\n    closeImagePreview: function closeImagePreview() {\n      if (this.imagePreview) {\n        this.imagePreview.close();\n      }\n    },\n    // @exposed-api\n    chooseFile: function chooseFile() {\n      if (this.disabled) {\n        return;\n      }\n      /* istanbul ignore else */\n\n\n      if (this.$refs.input) {\n        this.$refs.input.click();\n      }\n    },\n    genPreviewMask: function genPreviewMask(item) {\n      var h = this.$createElement;\n      var status = item.status,\n          message = item.message;\n\n      if (status === 'uploading' || status === 'failed') {\n        var MaskIcon = status === 'failed' ? h(Icon, {\n          \"attrs\": {\n            \"name\": \"close\"\n          },\n          \"class\": bem('mask-icon')\n        }) : h(Loading, {\n          \"class\": bem('loading')\n        });\n        var showMessage = isDef(message) && message !== '';\n        return h(\"div\", {\n          \"class\": bem('mask')\n        }, [MaskIcon, showMessage && h(\"div\", {\n          \"class\": bem('mask-message')\n        }, [message])]);\n      }\n    },\n    genPreviewItem: function genPreviewItem(item, index) {\n      var _this6 = this;\n\n      var h = this.$createElement;\n      var showDelete = item.status !== 'uploading' && this.deletable;\n      var DeleteIcon = showDelete && h(\"div\", {\n        \"class\": bem('preview-delete'),\n        \"on\": {\n          \"click\": function click(event) {\n            event.stopPropagation();\n\n            _this6.onDelete(item, index);\n          }\n        }\n      }, [h(Icon, {\n        \"attrs\": {\n          \"name\": \"cross\"\n        },\n        \"class\": bem('preview-delete-icon')\n      })]);\n      var PreviewCoverContent = this.slots('preview-cover', _extends({\n        index: index\n      }, item));\n      var PreviewCover = PreviewCoverContent && h(\"div\", {\n        \"class\": bem('preview-cover')\n      }, [PreviewCoverContent]);\n      var Preview = isImageFile(item) ? h(Image, {\n        \"attrs\": {\n          \"fit\": this.imageFit,\n          \"src\": item.content || item.url,\n          \"width\": this.previewSize,\n          \"height\": this.previewSize,\n          \"lazyLoad\": this.lazyLoad\n        },\n        \"class\": bem('preview-image'),\n        \"on\": {\n          \"click\": function click() {\n            _this6.onPreviewImage(item);\n          }\n        }\n      }, [PreviewCover]) : h(\"div\", {\n        \"class\": bem('file'),\n        \"style\": {\n          width: this.previewSizeWithUnit,\n          height: this.previewSizeWithUnit\n        }\n      }, [h(Icon, {\n        \"class\": bem('file-icon'),\n        \"attrs\": {\n          \"name\": \"description\"\n        }\n      }), h(\"div\", {\n        \"class\": [bem('file-name'), 'van-ellipsis']\n      }, [item.file ? item.file.name : item.url]), PreviewCover]);\n      return h(\"div\", {\n        \"class\": bem('preview'),\n        \"on\": {\n          \"click\": function click() {\n            _this6.$emit('click-preview', item, _this6.getDetail(index));\n          }\n        }\n      }, [Preview, this.genPreviewMask(item), DeleteIcon]);\n    },\n    genPreviewList: function genPreviewList() {\n      if (this.previewImage) {\n        return this.fileList.map(this.genPreviewItem);\n      }\n    },\n    genUpload: function genUpload() {\n      var h = this.$createElement;\n\n      if (this.fileList.length >= this.maxCount || !this.showUpload) {\n        return;\n      }\n\n      var slot = this.slots();\n      var Input = h(\"input\", {\n        \"attrs\": _extends({}, this.$attrs, {\n          \"type\": \"file\",\n          \"accept\": this.accept,\n          \"disabled\": this.disabled\n        }),\n        \"ref\": \"input\",\n        \"class\": bem('input'),\n        \"on\": {\n          \"change\": this.onChange\n        }\n      });\n\n      if (slot) {\n        return h(\"div\", {\n          \"class\": bem('input-wrapper')\n        }, [slot, Input]);\n      }\n\n      var style;\n\n      if (this.previewSize) {\n        var size = this.previewSizeWithUnit;\n        style = {\n          width: size,\n          height: size\n        };\n      }\n\n      return h(\"div\", {\n        \"class\": bem('upload'),\n        \"style\": style\n      }, [h(Icon, {\n        \"attrs\": {\n          \"name\": this.uploadIcon\n        },\n        \"class\": bem('upload-icon')\n      }), this.uploadText && h(\"span\", {\n        \"class\": bem('upload-text')\n      }, [this.uploadText]), Input]);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem()\n    }, [h(\"div\", {\n      \"class\": bem('wrapper', {\n        disabled: this.disabled\n      })\n    }, [this.genPreviewList(), this.genUpload()])]);\n  }\n});","import COS from 'cos-js-sdk-v5'\nimport axios from '@/utils/request'\n\n// \nvar cos = new COS({\n  getAuthorization: function (options, callbackfun) {\n    // \n    getCosData().then((res) => {\n      const data = res.access_info\n      const credentials = data.credentials\n      callbackfun({\n        TmpSecretId: credentials.tmp_secret_id,\n        TmpSecretKey: credentials.tmp_secret_key,\n        XCosSecurityToken: credentials.session_token, // \n        StartTime: data.start_time, // 1580000000\n        ExpiredTime: data.expired_time // 1580000900\n      })\n    })\n  }\n})\n\nexport default cos\n\nfunction getCosData () {\n  return new Promise((resolve, reject) => {\n    axios.get('/v1/cloud/cos/access').then((res) => {\n      if (res && res.data) {\n        resolve(res.data)\n      }\n    })\n  })\n}\n","<template>\n  <van-uploader class=\"upload-wraper\"\n      v-model=\"fileList\"\n      :max-size=\"10 * 1024 * 1024\"\n      multiple\n      @oversize=\"onOversize\"\n      @delete=\"deleteImg\"\n      :before-read=\"beforeRead\"\n      :after-read=\"afterRead\"\n      :max-count=\"9\"\n      upload-icon=\"plus\" />\n</template>\n\n<script>\nimport { Uploader, Toast } from 'vant'\nimport cos from '@/utils/cos.js'\n// import { Uploader, Toast } from 'vant'\nexport default {\n  name: 'UploadImg',\n  components: {\n    'van-uploader': Uploader\n  },\n  computed: {\n\n  },\n  data () {\n    return {\n      fileList: []\n    }\n  },\n  created () {\n  },\n  methods: {\n    deleteImg (file) {\n      this.$emit('getImgList', this.fileList.map(item => item.url))\n    },\n    onOversize (file) {\n      console.log(file)\n      Toast({\n        message: ' 10M'\n      })\n    },\n    checkImgType (file) {\n      const typeInfo = file.type.split('/')\n      const imgType = typeInfo[typeInfo.length - 1].toLowerCase()\n      const typeArr = ['jpg', 'png', 'gif', 'jpeg']\n      if (typeArr.indexOf(imgType) === -1) {\n        Toast('')\n        return false\n      }\n      return true\n    },\n    beforeRead (file) {\n      // file \n      let status = false\n      if (file && file.length) {\n        for (let i = 0; i < file.length; i++) {\n          status = this.checkImgType(file[i])\n        }\n      } else {\n        status = this.checkImgType(file)\n      }\n      return status\n    },\n    dealImgStatus (file) {\n      const fileType = file.file.type.split('/')[1]\n      file.status = 'uploading'\n      file.message = '...'\n      cos.putObject({\n        Bucket: 'fpv-1251316249', // \n        Region: 'ap-shanghai', /*  */\n        Key: `fpv/${Date.now()}.${fileType}`, //  -- \n        StorageClass: 'STANDARD',\n        Body: file.file, // \n        onProgress: function (progressData) {\n          console.log(JSON.stringify(progressData))\n        }\n      }, (err, data) => {\n        if (err) {\n          file.status = 'failed'\n          file.message = ''\n        } else {\n          file.status = 'done'\n          file.message = ''\n          file.url = data.Location\n          this.$emit('getImgList', this.fileList.map(item => item.url))\n        }\n        console.log('res---------', err || data)\n      })\n    },\n    afterRead (file) {\n      if (file && file.length) { // \n        for (let i = 0; i < file.length; i++) {\n          this.dealImgStatus(file[i])\n        }\n      } else {\n        this.dealImgStatus(file)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.up-load-wrap {\n\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImg.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UploadImg.vue?vue&type=template&id=907d3258&scoped=true&\"\nimport script from \"./UploadImg.vue?vue&type=script&lang=js&\"\nexport * from \"./UploadImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UploadImg.vue?vue&type=style&index=0&id=907d3258&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"907d3258\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"problem-feedback-wrap page\">\n    <van-radio-group class=\"checkbox-group\" v-model=\"subData.problem\" direction=\"horizontal\">\n      <van-radio v-for=\"item in checkListData\" :key=\"item.value\"\n        class=\"checkbox-item\"\n        icon-size=\"0.37rem\"\n        :name=\"item.value\"\n      >\n        {{ item.text }}\n      </van-radio>\n    </van-radio-group>\n\n    <van-field\n      v-model=\"subData.describe\"\n      rows=\"6\"\n      autosize\n      type=\"textarea\"\n      maxlength=\"500\"\n      placeholder=\"~\"\n      show-word-limit\n    />\n\n    <upload-img class=\"upload-wraper \" @getImgList=\"getImgList\" />\n\n    <van-button class=\"sub-btn\" type=\"primary\" :disabled=\"isDisabled\" round size=\"large\" @click=\"subDatas\"></van-button>\n  </div>\n</template>\n\n<script>\nimport UploadImg from '@/components/UploadImg'\nimport { RadioGroup, Radio, Field, Button, Toast } from 'vant'\nexport default {\n  components: {\n    'van-radio-group': RadioGroup,\n    'van-radio': Radio,\n    'van-field': Field,\n    'van-button': Button,\n    UploadImg\n  },\n  computed: {\n    isDisabled () {\n      return !this.subData.problem\n    }\n  },\n  data () {\n    return {\n      subData: {\n        describe: '',\n        phone: '13636619628',\n        pics: '',\n        problem: ''\n      },\n      message: '',\n      imgList: [],\n      checkListData: [\n        { value: '/', text: '/' },\n        { value: '', text: '' },\n        { value: '/', text: '/' },\n        { value: '', text: '' },\n        { value: '', text: '' },\n        { value: '', text: '' },\n        { value: ')', text: '' }\n      ]\n    }\n  },\n  created () {\n    console.log(this.$nativeBridge)\n  },\n  methods: {\n    subDatas () {\n      this.subData.pics = this.imgList.join(',')\n      console.log('this.subData-------------', this.subData)\n      this.$axios.post('/user/feedback', this.subData).then((res) => {\n        Toast('')\n      }).catch((e) => {\n        console.log(e)\n      })\n    },\n    getImgList (e) {\n      this.imgList = e\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.problem-feedback-wrap {\n  padding: 24px;\n  .checkbox-group {\n    padding: 26px;\n    .checkbox-item {\n      margin-bottom: 50px;\n      &:nth-child(odd) {\n        width: 400px;\n      }\n    }\n  }\n  .upload-wraper {\n    margin-top: 30px;\n    width: 100%;\n    overflow: hidden;\n  }\n\n  .sub-btn {\n    margin-top: 68px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProblemFeedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProblemFeedback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProblemFeedback.vue?vue&type=template&id=5a73302f&scoped=true&\"\nimport script from \"./ProblemFeedback.vue?vue&type=script&lang=js&\"\nexport * from \"./ProblemFeedback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProblemFeedback.vue?vue&type=style&index=0&id=5a73302f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a73302f\",\n  null\n  \n)\n\nexport default component.exports","//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\r\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\r\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\r\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\r\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\r\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\r\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\r\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\r\n\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\nvar S_TAG = 0;//tag name offerring\r\nvar S_ATTR = 1;//attr name offerring \r\nvar S_ATTR_SPACE=2;//attr name end and space offer\r\nvar S_EQ = 3;//=space?\r\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\r\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\r\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\r\nvar S_TAG_CLOSE = 7;//closed el<el />\r\n\r\nfunction XMLReader(){\r\n\t\r\n}\r\n\r\nXMLReader.prototype = {\r\n\tparse:function(source,defaultNSMap,entityMap){\r\n\t\tvar domBuilder = this.domBuilder;\r\n\t\tdomBuilder.startDocument();\r\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\r\n\t\tparse(source,defaultNSMap,entityMap,\r\n\t\t\t\tdomBuilder,this.errorHandler);\r\n\t\tdomBuilder.endDocument();\r\n\t}\r\n}\r\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\r\n\tfunction fixedFromCharCode(code) {\r\n\t\t// String.prototype.fromCharCode does not supports\r\n\t\t// > 2 bytes unicode chars directly\r\n\t\tif (code > 0xffff) {\r\n\t\t\tcode -= 0x10000;\r\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\r\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\r\n\r\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\r\n\t\t} else {\r\n\t\t\treturn String.fromCharCode(code);\r\n\t\t}\r\n\t}\r\n\tfunction entityReplacer(a){\r\n\t\tvar k = a.slice(1,-1);\r\n\t\tif(k in entityMap){\r\n\t\t\treturn entityMap[k]; \r\n\t\t}else if(k.charAt(0) === '#'){\r\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\r\n\t\t}else{\r\n\t\t\terrorHandler.error('entity not found:'+a);\r\n\t\t\treturn a;\r\n\t\t}\r\n\t}\r\n\tfunction appendText(end){//has some bugs\r\n\t\tif(end>start){\r\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\tlocator&&position(start);\r\n\t\t\tdomBuilder.characters(xt,0,end-start);\r\n\t\t\tstart = end\r\n\t\t}\r\n\t}\r\n\tfunction position(p,m){\r\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\r\n\t\t\tlineStart = m.index;\r\n\t\t\tlineEnd = lineStart + m[0].length;\r\n\t\t\tlocator.lineNumber++;\r\n\t\t\t//console.log('line++:',locator,startPos,endPos)\r\n\t\t}\r\n\t\tlocator.columnNumber = p-lineStart+1;\r\n\t}\r\n\tvar lineStart = 0;\r\n\tvar lineEnd = 0;\r\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\r\n\tvar locator = domBuilder.locator;\r\n\t\r\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\r\n\tvar closeMap = {};\r\n\tvar start = 0;\r\n\twhile(true){\r\n\t\ttry{\r\n\t\t\tvar tagStart = source.indexOf('<',start);\r\n\t\t\tif(tagStart<0){\r\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\r\n\t\t\t\t\tvar doc = domBuilder.doc;\r\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\r\n\t    \t\t\tdoc.appendChild(text);\r\n\t    \t\t\tdomBuilder.currentElement = text;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(tagStart>start){\r\n\t\t\t\tappendText(tagStart);\r\n\t\t\t}\r\n\t\t\tswitch(source.charAt(tagStart+1)){\r\n\t\t\tcase '/':\r\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\r\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\r\n\t\t\t\tvar config = parseStack.pop();\r\n\t\t\t\tif(end<0){\r\n\t\t\t\t\t\r\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\r\n\t        \t\t//console.error('#@@@@@@'+tagName)\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t        \t}else if(tagName.match(/\\s</)){\r\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\r\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\r\n\t        \t\tend = tagStart+1+tagName.length;\r\n\t\t\t\t}\r\n\t\t\t\t//console.error(parseStack.length,parseStack)\r\n\t\t\t\t//console.error(config);\r\n\t\t\t\tvar localNSMap = config.localNSMap;\r\n\t\t\t\tvar endMatch = config.tagName == tagName;\r\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\r\n\t\t        if(endIgnoreCaseMach){\r\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\r\n\t\t\t\t\tif(localNSMap){\r\n\t\t\t\t\t\tfor(var prefix in localNSMap){\r\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!endMatch){\r\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName );\r\n\t\t\t\t\t}\r\n\t\t        }else{\r\n\t\t        \tparseStack.push(config)\r\n\t\t        }\r\n\t\t\t\t\r\n\t\t\t\tend++;\r\n\t\t\t\tbreak;\r\n\t\t\t\t// end elment\r\n\t\t\tcase '?':// <?...?>\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\r\n\t\t\t\tbreak;\r\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tlocator&&position(tagStart);\r\n\t\t\t\tvar el = new ElementAttributes();\r\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\t\t\t\t//elStartEnd\r\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\r\n\t\t\t\tvar len = el.length;\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\r\n\t\t\t\t\tel.closed = true;\r\n\t\t\t\t\tif(!entityMap.nbsp){\r\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(locator && len){\r\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\r\n\t\t\t\t\t//try{//attribute position fixed\r\n\t\t\t\t\tfor(var i = 0;i<len;i++){\r\n\t\t\t\t\t\tvar a = el[i];\r\n\t\t\t\t\t\tposition(a.offset);\r\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//}catch(e){console.error('@@@@@'+e)}\r\n\t\t\t\t\tdomBuilder.locator = locator2\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdomBuilder.locator = locator;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\r\n\t\t\t\t\t\tparseStack.push(el)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\r\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tend++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}catch(e){\r\n\t\t\terrorHandler.error('element parse error: '+e)\r\n\t\t\t//errorHandler.error('element parse error: '+e);\r\n\t\t\tend = -1;\r\n\t\t\t//throw e;\r\n\t\t}\r\n\t\tif(end>start){\r\n\t\t\tstart = end;\r\n\t\t}else{\r\n\t\t\t//TODO: sax\r\n\t\t\tappendText(Math.max(tagStart,start)+1);\r\n\t\t}\r\n\t}\r\n}\r\nfunction copyLocator(f,t){\r\n\tt.lineNumber = f.lineNumber;\r\n\tt.columnNumber = f.columnNumber;\r\n\treturn t;\r\n}\r\n\r\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\r\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\r\n\tvar attrName;\r\n\tvar value;\r\n\tvar p = ++start;\r\n\tvar s = S_TAG;//status\r\n\twhile(true){\r\n\t\tvar c = source.charAt(p);\r\n\t\tswitch(c){\r\n\t\tcase '=':\r\n\t\t\tif(s === S_ATTR){//attrName\r\n\t\t\t\tattrName = source.slice(start,p);\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else if(s === S_ATTR_SPACE){\r\n\t\t\t\ts = S_EQ;\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\r\n\t\t\t\tthrow new Error('attribute equal must after attrName');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '\\'':\r\n\t\tcase '\"':\r\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\r\n\t\t\t\t){//equal\r\n\t\t\t\tif(s === S_ATTR){\r\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t}\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\tp = source.indexOf(c,start)\r\n\t\t\t\tif(p>0){\r\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\tel.add(attrName,value,start-1);\r\n\t\t\t\t\ts = S_ATTR_END;\r\n\t\t\t\t}else{\r\n\t\t\t\t\t//fatalError: no end quot match\r\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\r\n\t\t\t\t}\r\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t//console.log(attrName,value,start,p)\r\n\t\t\t\tel.add(attrName,value,start);\r\n\t\t\t\t//console.dir(el)\r\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\r\n\t\t\t\tstart = p+1;\r\n\t\t\t\ts = S_ATTR_END\r\n\t\t\t}else{\r\n\t\t\t\t//fatalError: no equal before\r\n\t\t\t\tthrow new Error('attribute value must after \"=\"');\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase '/':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\ts =S_TAG_CLOSE;\r\n\t\t\t\tel.closed = true;\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\tcase S_ATTR:\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tbreak;\r\n\t\t\t//case S_EQ:\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\")\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase ''://end document\r\n\t\t\t//throw new Error('unexpected end of input')\r\n\t\t\terrorHandler.error('unexpected end of input');\r\n\t\t\tif(s == S_TAG){\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\tcase '>':\r\n\t\t\tswitch(s){\r\n\t\t\tcase S_TAG:\r\n\t\t\t\tel.setTagName(source.slice(start,p));\r\n\t\t\tcase S_ATTR_END:\r\n\t\t\tcase S_TAG_SPACE:\r\n\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\tbreak;//normal\r\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\r\n\t\t\tcase S_ATTR:\r\n\t\t\t\tvalue = source.slice(start,p);\r\n\t\t\t\tif(value.slice(-1) === '/'){\r\n\t\t\t\t\tel.closed  = true;\r\n\t\t\t\t\tvalue = value.slice(0,-1)\r\n\t\t\t\t}\r\n\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\tif(s === S_ATTR_SPACE){\r\n\t\t\t\t\tvalue = attrName;\r\n\t\t\t\t}\r\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value.replace(/&#?\\w+;/g,entityReplacer),start)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(value,value,start)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase S_EQ:\r\n\t\t\t\tthrow new Error('attribute value missed!!');\r\n\t\t\t}\r\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\r\n\t\t\treturn p;\r\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\r\n\t\tcase '\\u0080':\r\n\t\t\tc = ' ';\r\n\t\tdefault:\r\n\t\t\tif(c<= ' '){//space\r\n\t\t\t\tswitch(s){\r\n\t\t\t\tcase S_TAG:\r\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR:\r\n\t\t\t\t\tattrName = source.slice(start,p)\r\n\t\t\t\t\ts = S_ATTR_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\r\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\r\n\t\t\t\t\tel.add(attrName,value,start)\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\ts = S_TAG_SPACE;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t//case S_TAG_SPACE:\r\n\t\t\t\t//case S_EQ:\r\n\t\t\t\t//case S_ATTR_SPACE:\r\n\t\t\t\t//\tvoid();break;\r\n\t\t\t\t//case S_TAG_CLOSE:\r\n\t\t\t\t\t//ignore warning\r\n\t\t\t\t}\r\n\t\t\t}else{//not space\r\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\r\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\r\n\t\t\t\tswitch(s){\r\n\t\t\t\t//case S_TAG:void();break;\r\n\t\t\t\t//case S_ATTR:void();break;\r\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\r\n\t\t\t\tcase S_ATTR_SPACE:\r\n\t\t\t\t\tvar tagName =  el.tagName;\r\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\r\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\r\n\t\t\t\t\t}\r\n\t\t\t\t\tel.add(attrName,attrName,start);\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_ATTR_END:\r\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\r\n\t\t\t\tcase S_TAG_SPACE:\r\n\t\t\t\t\ts = S_ATTR;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_EQ:\r\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\r\n\t\t\t\t\tstart = p;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase S_TAG_CLOSE:\r\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}//end outer switch\r\n\t\t//console.log('p++',p)\r\n\t\tp++;\r\n\t}\r\n}\r\n/**\r\n * @return true if has new namespace define\r\n */\r\nfunction appendElement(el,domBuilder,currentNSMap){\r\n\tvar tagName = el.tagName;\r\n\tvar localNSMap = null;\r\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\tvar a = el[i];\r\n\t\tvar qName = a.qName;\r\n\t\tvar value = a.value;\r\n\t\tvar nsp = qName.indexOf(':');\r\n\t\tif(nsp>0){\r\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\r\n\t\t\tvar localName = qName.slice(nsp+1);\r\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\r\n\t\t}else{\r\n\t\t\tlocalName = qName;\r\n\t\t\tprefix = null\r\n\t\t\tnsPrefix = qName === 'xmlns' && ''\r\n\t\t}\r\n\t\t//can not set prefix,because prefix !== ''\r\n\t\ta.localName = localName ;\r\n\t\t//prefix == null for no ns prefix attribute \r\n\t\tif(nsPrefix !== false){//hack!!\r\n\t\t\tif(localNSMap == null){\r\n\t\t\t\tlocalNSMap = {}\r\n\t\t\t\t//console.log(currentNSMap,0)\r\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\r\n\t\t\t\t//console.log(currentNSMap,1)\r\n\t\t\t}\r\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\r\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\r\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \r\n\t\t}\r\n\t}\r\n\tvar i = el.length;\r\n\twhile(i--){\r\n\t\ta = el[i];\r\n\t\tvar prefix = a.prefix;\r\n\t\tif(prefix){//no prefix attribute has no namespace\r\n\t\t\tif(prefix === 'xml'){\r\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\r\n\t\t\t}if(prefix !== 'xmlns'){\r\n\t\t\t\ta.uri = currentNSMap[prefix || '']\r\n\t\t\t\t\r\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar nsp = tagName.indexOf(':');\r\n\tif(nsp>0){\r\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\r\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\r\n\t}else{\r\n\t\tprefix = null;//important!!\r\n\t\tlocalName = el.localName = tagName;\r\n\t}\r\n\t//no prefix element has default namespace\r\n\tvar ns = el.uri = currentNSMap[prefix || ''];\r\n\tdomBuilder.startElement(ns,localName,tagName,el);\r\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\r\n\t//localNSMap = null\r\n\tif(el.closed){\r\n\t\tdomBuilder.endElement(ns,localName,tagName);\r\n\t\tif(localNSMap){\r\n\t\t\tfor(prefix in localNSMap){\r\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \r\n\t\t\t}\r\n\t\t}\r\n\t}else{\r\n\t\tel.currentNSMap = currentNSMap;\r\n\t\tel.localNSMap = localNSMap;\r\n\t\t//parseStack.push(el);\r\n\t\treturn true;\r\n\t}\r\n}\r\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\r\n\tif(/^(?:script|textarea)$/i.test(tagName)){\r\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\r\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\r\n\t\tif(/[&<]/.test(text)){\r\n\t\t\tif(/^script$/i.test(tagName)){\r\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\r\n\t\t\t\t\t//lexHandler.startCDATA();\r\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\t\t//lexHandler.endCDATA();\r\n\t\t\t\t\treturn elEndStart;\r\n\t\t\t\t//}\r\n\t\t\t}//}else{//text area\r\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\r\n\t\t\t\tdomBuilder.characters(text,0,text.length);\r\n\t\t\t\treturn elEndStart;\r\n\t\t\t//}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\treturn elStartEnd+1;\r\n}\r\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\r\n\t//if(tagName in closeMap){\r\n\tvar pos = closeMap[tagName];\r\n\tif(pos == null){\r\n\t\t//console.log(tagName)\r\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\r\n\t\tif(pos<elStartEnd){//\r\n\t\t\tpos = source.lastIndexOf('</'+tagName)\r\n\t\t}\r\n\t\tcloseMap[tagName] =pos\r\n\t}\r\n\treturn pos<elStartEnd;\r\n\t//} \r\n}\r\nfunction _copy(source,target){\r\n\tfor(var n in source){target[n] = source[n]}\r\n}\r\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\r\n\tvar next= source.charAt(start+2)\r\n\tswitch(next){\r\n\tcase '-':\r\n\t\tif(source.charAt(start + 3) === '-'){\r\n\t\t\tvar end = source.indexOf('-->',start+4);\r\n\t\t\t//append comment source.substring(4,end)//<!--\r\n\t\t\tif(end>start){\r\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\r\n\t\t\t\treturn end+3;\r\n\t\t\t}else{\r\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\t//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\tdefault:\r\n\t\tif(source.substr(start+3,6) == 'CDATA['){\r\n\t\t\tvar end = source.indexOf(']]>',start+9);\r\n\t\t\tdomBuilder.startCDATA();\r\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\r\n\t\t\tdomBuilder.endCDATA() \r\n\t\t\treturn end+3;\r\n\t\t}\r\n\t\t//<!DOCTYPE\r\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \r\n\t\tvar matchs = split(source,start);\r\n\t\tvar len = matchs.length;\r\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\r\n\t\t\tvar name = matchs[1][0];\r\n\t\t\tvar pubid = len>3 && /^public$/i.test(matchs[2][0]) && matchs[3][0]\r\n\t\t\tvar sysid = len>4 && matchs[4][0];\r\n\t\t\tvar lastMatch = matchs[len-1]\r\n\t\t\tdomBuilder.startDTD(name,pubid && pubid.replace(/^(['\"])(.*?)\\1$/,'$2'),\r\n\t\t\t\t\tsysid && sysid.replace(/^(['\"])(.*?)\\1$/,'$2'));\r\n\t\t\tdomBuilder.endDTD();\r\n\t\t\t\r\n\t\t\treturn lastMatch.index+lastMatch[0].length\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n\r\n\r\nfunction parseInstruction(source,start,domBuilder){\r\n\tvar end = source.indexOf('?>',start);\r\n\tif(end){\r\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\r\n\t\tif(match){\r\n\t\t\tvar len = match[0].length;\r\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\r\n\t\t\treturn end+2;\r\n\t\t}else{//error\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * @param source\r\n */\r\nfunction ElementAttributes(source){\r\n\t\r\n}\r\nElementAttributes.prototype = {\r\n\tsetTagName:function(tagName){\r\n\t\tif(!tagNamePattern.test(tagName)){\r\n\t\t\tthrow new Error('invalid tagName:'+tagName)\r\n\t\t}\r\n\t\tthis.tagName = tagName\r\n\t},\r\n\tadd:function(qName,value,offset){\r\n\t\tif(!tagNamePattern.test(qName)){\r\n\t\t\tthrow new Error('invalid attribute:'+qName)\r\n\t\t}\r\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\r\n\t},\r\n\tlength:0,\r\n\tgetLocalName:function(i){return this[i].localName},\r\n\tgetLocator:function(i){return this[i].locator},\r\n\tgetQName:function(i){return this[i].qName},\r\n\tgetURI:function(i){return this[i].uri},\r\n\tgetValue:function(i){return this[i].value}\r\n//\t,getIndex:function(uri, localName)){\r\n//\t\tif(localName){\r\n//\t\t\t\r\n//\t\t}else{\r\n//\t\t\tvar qName = uri\r\n//\t\t}\r\n//\t},\r\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\r\n//\tgetType:function(uri,localName){}\r\n//\tgetType:function(i){},\r\n}\r\n\r\n\r\n\r\n\r\nfunction _set_proto_(thiz,parent){\r\n\tthiz.__proto__ = parent;\r\n\treturn thiz;\r\n}\r\nif(!(_set_proto_({},_set_proto_.prototype) instanceof _set_proto_)){\r\n\t_set_proto_ = function(thiz,parent){\r\n\t\tfunction p(){};\r\n\t\tp.prototype = parent;\r\n\t\tp = new p();\r\n\t\tfor(parent in thiz){\r\n\t\t\tp[parent] = thiz[parent];\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n}\r\n\r\nfunction split(source,start){\r\n\tvar match;\r\n\tvar buf = [];\r\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\r\n\treg.lastIndex = start;\r\n\treg.exec(source);//skip <\r\n\twhile(match = reg.exec(source)){\r\n\t\tbuf.push(match);\r\n\t\tif(match[1])return buf;\r\n\t}\r\n}\r\n\r\nexports.XMLReader = XMLReader;\r\n\r\n","/*\r\n CryptoJS v3.1.2\r\n code.google.com/p/crypto-js\r\n (c) 2009-2013 by Jeff Mott. All rights reserved.\r\n code.google.com/p/crypto-js/wiki/License\r\n */\r\nvar CryptoJS=CryptoJS||function(g,l){var e={},d=e.lib={},m=function(){},k=d.Base={extend:function(a){m.prototype=this;var c=new m;a&&c.mixIn(a);c.hasOwnProperty(\"init\")||(c.init=function(){c.$super.init.apply(this,arguments)});c.init.prototype=c;c.$super=this;return c},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var c in a)a.hasOwnProperty(c)&&(this[c]=a[c]);a.hasOwnProperty(\"toString\")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},\r\n        p=d.WordArray=k.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=l?c:4*a.length},toString:function(a){return(a||n).stringify(this)},concat:function(a){var c=this.words,q=a.words,f=this.sigBytes;a=a.sigBytes;this.clamp();if(f%4)for(var b=0;b<a;b++)c[f+b>>>2]|=(q[b>>>2]>>>24-8*(b%4)&255)<<24-8*((f+b)%4);else if(65535<q.length)for(b=0;b<a;b+=4)c[f+b>>>2]=q[b>>>2];else c.push.apply(c,q);this.sigBytes+=a;return this},clamp:function(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<\r\n            32-8*(c%4);a.length=g.ceil(c/4)},clone:function(){var a=k.clone.call(this);a.words=this.words.slice(0);return a},random:function(a){for(var c=[],b=0;b<a;b+=4)c.push(4294967296*g.random()|0);return new p.init(c,a)}}),b=e.enc={},n=b.Hex={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++){var d=c[f>>>2]>>>24-8*(f%4)&255;b.push((d>>>4).toString(16));b.push((d&15).toString(16))}return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f+=2)b[f>>>3]|=parseInt(a.substr(f,\r\n                2),16)<<24-4*(f%8);return new p.init(b,c/2)}},j=b.Latin1={stringify:function(a){var c=a.words;a=a.sigBytes;for(var b=[],f=0;f<a;f++)b.push(String.fromCharCode(c[f>>>2]>>>24-8*(f%4)&255));return b.join(\"\")},parse:function(a){for(var c=a.length,b=[],f=0;f<c;f++)b[f>>>2]|=(a.charCodeAt(f)&255)<<24-8*(f%4);return new p.init(b,c)}},h=b.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(c){throw Error(\"Malformed UTF-8 data\");}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},\r\n        r=d.BufferedBlockAlgorithm=k.extend({reset:function(){this._data=new p.init;this._nDataBytes=0},_append:function(a){\"string\"==typeof a&&(a=h.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(a){var c=this._data,b=c.words,f=c.sigBytes,d=this.blockSize,e=f/(4*d),e=a?g.ceil(e):g.max((e|0)-this._minBufferSize,0);a=e*d;f=g.min(4*a,f);if(a){for(var k=0;k<a;k+=d)this._doProcessBlock(b,k);k=b.splice(0,a);c.sigBytes-=f}return new p.init(k,f)},clone:function(){var a=k.clone.call(this);\r\n            a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=r.extend({cfg:k.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){r.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,d){return(new a.init(d)).finalize(b)}},_createHmacHelper:function(a){return function(b,d){return(new s.HMAC.init(a,\r\n        d)).finalize(b)}}});var s=e.algo={};return e}(Math);\r\n(function(){var g=CryptoJS,l=g.lib,e=l.WordArray,d=l.Hasher,m=[],l=g.algo.SHA1=d.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,e){for(var b=this._hash.words,n=b[0],j=b[1],h=b[2],g=b[3],l=b[4],a=0;80>a;a++){if(16>a)m[a]=d[e+a]|0;else{var c=m[a-3]^m[a-8]^m[a-14]^m[a-16];m[a]=c<<1|c>>>31}c=(n<<5|n>>>27)+l+m[a];c=20>a?c+((j&h|~j&g)+1518500249):40>a?c+((j^h^g)+1859775393):60>a?c+((j&h|j&g|h&g)-1894007588):c+((j^h^\r\ng)-899497514);l=g;g=h;h=j<<30|j>>>2;j=n;n=c}b[0]=b[0]+n|0;b[1]=b[1]+j|0;b[2]=b[2]+h|0;b[3]=b[3]+g|0;b[4]=b[4]+l|0},_doFinalize:function(){var d=this._data,e=d.words,b=8*this._nDataBytes,g=8*d.sigBytes;e[g>>>5]|=128<<24-g%32;e[(g+64>>>9<<4)+14]=Math.floor(b/4294967296);e[(g+64>>>9<<4)+15]=b;d.sigBytes=4*e.length;this._process();return this._hash},clone:function(){var e=d.clone.call(this);e._hash=this._hash.clone();return e}});g.SHA1=d._createHelper(l);g.HmacSHA1=d._createHmacHelper(l)})();\r\n(function(){var g=CryptoJS,l=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(e,d){e=this._hasher=new e.init;\"string\"==typeof d&&(d=l.parse(d));var g=e.blockSize,k=4*g;d.sigBytes>k&&(d=e.finalize(d));d.clamp();for(var p=this._oKey=d.clone(),b=this._iKey=d.clone(),n=p.words,j=b.words,h=0;h<g;h++)n[h]^=1549556828,j[h]^=909522486;p.sigBytes=b.sigBytes=k;this.reset()},reset:function(){var e=this._hasher;e.reset();e.update(this._iKey)},update:function(e){this._hasher.update(e);return this},finalize:function(e){var d=\r\n    this._hasher;e=d.finalize(e);d.reset();return d.finalize(this._oKey.clone().concat(e))}})})();\r\n\r\n\r\n(function () {\r\n    // Shortcuts\r\n    var C = CryptoJS;\r\n    var C_lib = C.lib;\r\n    var WordArray = C_lib.WordArray;\r\n    var C_enc = C.enc;\r\n\r\n    /**\r\n     * Base64 encoding strategy.\r\n     */\r\n    var Base64 = C_enc.Base64 = {\r\n        /**\r\n         * Converts a word array to a Base64 string.\r\n         *\r\n         * @param {WordArray} wordArray The word array.\r\n         *\r\n         * @return {string} The Base64 string.\r\n         *\r\n         * @static\r\n         *\r\n         * @example\r\n         *\r\n         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\r\n         */\r\n        stringify: function (wordArray) {\r\n            // Shortcuts\r\n            var words = wordArray.words;\r\n            var sigBytes = wordArray.sigBytes;\r\n            var map = this._map;\r\n\r\n            // Clamp excess bits\r\n            wordArray.clamp();\r\n\r\n            // Convert\r\n            var base64Chars = [];\r\n            for (var i = 0; i < sigBytes; i += 3) {\r\n                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\r\n                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\r\n                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\r\n\r\n                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\r\n\r\n                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\r\n                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\r\n                }\r\n            }\r\n\r\n            // Add padding\r\n            var paddingChar = map.charAt(64);\r\n            if (paddingChar) {\r\n                while (base64Chars.length % 4) {\r\n                    base64Chars.push(paddingChar);\r\n                }\r\n            }\r\n\r\n            return base64Chars.join('');\r\n        },\r\n\r\n        /**\r\n         * Converts a Base64 string to a word array.\r\n         *\r\n         * @param {string} base64Str The Base64 string.\r\n         *\r\n         * @return {WordArray} The word array.\r\n         *\r\n         * @static\r\n         *\r\n         * @example\r\n         *\r\n         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\r\n         */\r\n        parse: function (base64Str) {\r\n            // Shortcuts\r\n            var base64StrLength = base64Str.length;\r\n            var map = this._map;\r\n\r\n            // Ignore padding\r\n            var paddingChar = map.charAt(64);\r\n            if (paddingChar) {\r\n                var paddingIndex = base64Str.indexOf(paddingChar);\r\n                if (paddingIndex != -1) {\r\n                    base64StrLength = paddingIndex;\r\n                }\r\n            }\r\n\r\n            // Convert\r\n            var words = [];\r\n            var nBytes = 0;\r\n            for (var i = 0; i < base64StrLength; i++) {\r\n                if (i % 4) {\r\n                    var bits1 = map.indexOf(base64Str.charAt(i - 1)) << ((i % 4) * 2);\r\n                    var bits2 = map.indexOf(base64Str.charAt(i)) >>> (6 - (i % 4) * 2);\r\n                    words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\r\n                    nBytes++;\r\n                }\r\n            }\r\n\r\n            return WordArray.create(words, nBytes);\r\n        },\r\n\r\n        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\r\n    };\r\n}());\r\n\r\nif(typeof module === 'object'){\r\n    module.exports = CryptoJS;\r\n}else{\r\n    window.CryptoJS = CryptoJS;\r\n}\r\n","export var cellProps = {\n  icon: String,\n  size: String,\n  center: Boolean,\n  isLink: Boolean,\n  required: Boolean,\n  clickable: Boolean,\n  iconPrefix: String,\n  titleStyle: null,\n  titleClass: null,\n  valueClass: null,\n  labelClass: null,\n  title: [Number, String],\n  value: [Number, String],\n  label: [Number, String],\n  arrowDirection: String,\n  border: {\n    type: Boolean,\n    default: true\n  }\n};","var session = require('./session');\r\nvar util = require('./util');\r\n\r\nvar originApiMap = {};\r\nvar transferToTaskMethod = function (apiMap, apiName) {\r\n    originApiMap[apiName] = apiMap[apiName];\r\n    apiMap[apiName] = function (params, callback) {\r\n        if (params.SkipTask) {\r\n            originApiMap[apiName].call(this, params, callback);\r\n        } else {\r\n            this._addTask(apiName, params, callback);\r\n        }\r\n    };\r\n};\r\n\r\nvar initTask = function (cos) {\r\n\r\n    var queue = [];\r\n    var tasks = {};\r\n    var uploadingFileCount = 0;\r\n    var nextUploadIndex = 0;\r\n\r\n    // \r\n    var formatTask = function (task) {\r\n        var t = {\r\n            id: task.id,\r\n            Bucket: task.Bucket,\r\n            Region: task.Region,\r\n            Key: task.Key,\r\n            FilePath: task.FilePath,\r\n            state: task.state,\r\n            loaded: task.loaded,\r\n            size: task.size,\r\n            speed: task.speed,\r\n            percent: task.percent,\r\n            hashPercent: task.hashPercent,\r\n            error: task.error,\r\n        };\r\n        if (task.FilePath) t.FilePath = task.FilePath;\r\n        if (task._custom) t._custom = task._custom; // \r\n        return t;\r\n    };\r\n\r\n    var emitListUpdate = (function () {\r\n        var timer;\r\n        var emit = function () {\r\n            timer = 0;\r\n            cos.emit('task-list-update', {list: util.map(queue, formatTask)});\r\n            cos.emit('list-update', {list: util.map(queue, formatTask)});\r\n        };\r\n        return function () {\r\n            if (!timer) timer = setTimeout(emit);\r\n        }\r\n    })();\r\n\r\n    var clearQueue = function () {\r\n        if (queue.length <= cos.options.UploadQueueSize) return;\r\n        for (var i = 0;\r\n             i < nextUploadIndex && //  index \r\n             i < queue.length && // \r\n             queue.length > cos.options.UploadQueueSize // \r\n            ;) {\r\n            var isActive = queue[i].state === 'waiting' || queue[i].state === 'checking' || queue[i].state === 'uploading';\r\n            if (!queue[i] || !isActive) {\r\n                tasks[queue[i].id] && (delete tasks[queue[i].id]);\r\n                queue.splice(i, 1);\r\n                nextUploadIndex--;\r\n            } else {\r\n                i++;\r\n            }\r\n        }\r\n        emitListUpdate();\r\n    };\r\n\r\n    var startNextTask = function () {\r\n        // \r\n        if (uploadingFileCount >= cos.options.FileParallelLimit) return;\r\n        // \r\n        while (queue[nextUploadIndex] && queue[nextUploadIndex].state !== 'waiting') nextUploadIndex++;\r\n        // \r\n        if (nextUploadIndex >= queue.length) return;\r\n        // \r\n        var task = queue[nextUploadIndex];\r\n        nextUploadIndex++;\r\n        uploadingFileCount++;\r\n        task.state = 'checking';\r\n        task.params.onTaskStart && task.params.onTaskStart(formatTask(task));\r\n        !task.params.UploadData && (task.params.UploadData = {});\r\n        var apiParams = util.formatParams(task.api, task.params);\r\n        originApiMap[task.api].call(cos, apiParams, function (err, data) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            if (task.state === 'checking' || task.state === 'uploading') {\r\n                task.state = err ? 'error' : 'success';\r\n                err && (task.error = err);\r\n                uploadingFileCount--;\r\n                emitListUpdate();\r\n                startNextTask();\r\n                task.callback && task.callback(err, data);\r\n                if (task.state === 'success') {\r\n                    if (task.params) {\r\n                        delete task.params.UploadData;\r\n                        delete task.params.Body;\r\n                        delete task.params;\r\n                    }\r\n                    delete task.callback;\r\n                }\r\n            }\r\n            clearQueue();\r\n        });\r\n        emitListUpdate();\r\n        // \r\n        setTimeout(startNextTask);\r\n    };\r\n\r\n    var killTask = function (id, switchToState) {\r\n        var task = tasks[id];\r\n        if (!task) return;\r\n        var waiting = task && task.state === 'waiting';\r\n        var running = task && (task.state === 'checking' || task.state === 'uploading');\r\n        if (switchToState === 'canceled' && task.state !== 'canceled' ||\r\n            switchToState === 'paused' && waiting ||\r\n            switchToState === 'paused' && running) {\r\n            if (switchToState === 'paused' && task.params.Body && typeof task.params.Body.pipe === 'function') {\r\n                console.error('stream not support pause');\r\n                return;\r\n            }\r\n            task.state = switchToState;\r\n            cos.emit('inner-kill-task', {TaskId: id, toState: switchToState});\r\n            try {\r\n                var UploadId = task && task.params && task.params.UploadData.UploadId\r\n            } catch(e) {}\r\n            if (switchToState === 'canceled' && UploadId) session.removeUsing(UploadId)\r\n            emitListUpdate();\r\n            if (running) {\r\n                uploadingFileCount--;\r\n                startNextTask();\r\n            }\r\n            if (switchToState === 'canceled') {\r\n                if (task.params) {\r\n                    delete task.params.UploadData;\r\n                    delete task.params.Body;\r\n                    delete task.params;\r\n                }\r\n                delete task.callback;\r\n            }\r\n        }\r\n        clearQueue();\r\n    };\r\n\r\n    cos._addTasks = function (taskList) {\r\n        util.each(taskList, function (task) {\r\n            cos._addTask(task.api, task.params, task.callback, true);\r\n        });\r\n        emitListUpdate();\r\n    };\r\n\r\n    var isTaskReadyWarning = true;\r\n    cos._addTask = function (api, params, callback, ignoreAddEvent) {\r\n\r\n        // \r\n        params = util.formatParams(api, params);\r\n\r\n        //  id\r\n        var id = util.uuid();\r\n        params.TaskId = id;\r\n        params.onTaskReady && params.onTaskReady(id);\r\n        if (params.TaskReady) {\r\n            params.TaskReady(id);\r\n            isTaskReadyWarning && console.warn('warning: Param \"TaskReady\" has been deprecated. Please use \"onTaskReady\" instead.');\r\n            isTaskReadyWarning = false;\r\n        }\r\n\r\n        var task = {\r\n            // env\r\n            params: params,\r\n            callback: callback,\r\n            api: api,\r\n            index: queue.length,\r\n            // task\r\n            id: id,\r\n            Bucket: params.Bucket,\r\n            Region: params.Region,\r\n            Key: params.Key,\r\n            FilePath: params.FilePath || '',\r\n            state: 'waiting',\r\n            loaded: 0,\r\n            size: 0,\r\n            speed: 0,\r\n            percent: 0,\r\n            hashPercent: 0,\r\n            error: null,\r\n            _custom: params._custom,\r\n        };\r\n        var onHashProgress = params.onHashProgress;\r\n        params.onHashProgress = function (info) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            task.hashPercent = info.percent;\r\n            onHashProgress && onHashProgress(info);\r\n            emitListUpdate();\r\n        };\r\n        var onProgress = params.onProgress;\r\n        params.onProgress = function (info) {\r\n            if (!cos._isRunningTask(task.id)) return;\r\n            task.state === 'checking' && (task.state = 'uploading');\r\n            task.loaded = info.loaded;\r\n            task.speed = info.speed;\r\n            task.percent = info.percent;\r\n            onProgress && onProgress(info);\r\n            emitListUpdate();\r\n        };\r\n\r\n        //  filesize\r\n        util.getFileSize(api, params, function (err, size) {\r\n            // \r\n            if (err) { // \r\n                callback(err);\r\n                return;\r\n            }\r\n            // \r\n            tasks[id] = task;\r\n            queue.push(task);\r\n            task.size = size;\r\n            !ignoreAddEvent && emitListUpdate();\r\n            startNextTask();\r\n            clearQueue();\r\n        });\r\n        return id;\r\n    };\r\n    cos._isRunningTask = function (id) {\r\n        var task = tasks[id];\r\n        return !!(task && (task.state === 'checking' || task.state === 'uploading'));\r\n    };\r\n    cos.getTaskList = function () {\r\n        return util.map(queue, formatTask);\r\n    };\r\n    cos.cancelTask = function (id) {\r\n        killTask(id, 'canceled');\r\n    };\r\n    cos.pauseTask = function (id) {\r\n        killTask(id, 'paused');\r\n    };\r\n    cos.restartTask = function (id) {\r\n        var task = tasks[id];\r\n        if (task && (task.state === 'paused' || task.state === 'error')) {\r\n            task.state = 'waiting';\r\n            emitListUpdate();\r\n            nextUploadIndex = Math.min(nextUploadIndex, task.index);\r\n            startNextTask();\r\n        }\r\n    };\r\n    cos.isUploadRunning = function () {\r\n        return uploadingFileCount || nextUploadIndex < queue.length;\r\n    };\r\n\r\n};\r\n\r\nmodule.exports.transferToTaskMethod = transferToTaskMethod;\r\nmodule.exports.init = initTask;\r\n","import { createNamespace } from '../utils';\nimport { FieldMixin } from '../mixins/field';\nimport { ParentMixin } from '../mixins/relation';\n\nvar _createNamespace = createNamespace('radio-group'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ParentMixin('vanRadio'), FieldMixin],\n  props: {\n    value: null,\n    disabled: Boolean,\n    direction: String,\n    checkedColor: String,\n    iconSize: [Number, String]\n  },\n  watch: {\n    value: function value(_value) {\n      this.$emit('change', _value);\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"div\", {\n      \"class\": bem([this.direction]),\n      \"attrs\": {\n        \"role\": \"radiogroup\"\n      }\n    }, [this.slots()]);\n  }\n});"],"sourceRoot":""}